{"version":3,"sources":["/Tonyu/Projects/Turtle/Color.dtl"],"names":[],"mappings":"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","sourcesContent":["// Dolittle\nColor=root!create.\nColor:r=0.\nColor:g=0.\nColor:b=0.\nColor:initialize=[|arg1 arg2 arg3;args r g b|\n    args=arguments.\n    [(arg1!toString)!(:window!\"^#[0-9A-F]{6}$\"RegExp)match]!then[|;s|\n        s=arg1!toString \"\"split.\n        s!shift.\n        r=:window!((s!shift)+(s!shift)) 16 parseInt.\n        g=:window!((s!shift)+(s!shift)) 16 parseInt.\n        b=:window!((s!shift)+(s!shift)) 16 parseInt.\n    ]else[and!(args:length==1)((!(arg1)typeof)==\"number\")true]then[\n        b=arg1%0x100.\n        arg1=:window!(arg1/0x100)parseInt.\n        g=arg1%0x100.\n        arg1=:window!(arg1/0x100)parseInt.\n        r=arg1%0x100.\n        arg1=:window!(arg1/0x100)parseInt.\n    ]else[\n        arg1=:window:Math! (arg1) floor. \n        arg2=:window:Math! (arg2) floor. \n        arg3=:window:Math! (arg3) floor. \n        [arg1>255]!then[r=255]else[arg1<0]then[r=0]else[r=arg1]execute.\n        [arg2>255]!then[g=255]else[arg2<0]then[g=0]else[g=arg2]execute.\n        [arg3>255]!then[b=255]else[arg3<0]then[b=0]else[b=arg3]execute.\n    ]execute.\n    self:r=r.\n    self:g=g.\n    self:b=b.\n].\nColor:randomCreate=[Color!(random(255))(random(255))(random(255))create].\nColor:darken=[Color!(self:r-50) (self:g-50) (self:b-50) create].\nColor:brighten=[Color!(self:r+50) (self:g+50) (self:b+50) create].\nColor:toString=[\n    \"rgb(\"+self:r+\",\"+self:g+\",\"+self:b+\")\"\n].\nColor:setCMYK=[\n    black = (window:Math)! (1 - r / 255) (1 - g / 255) (1 - b / 255) min.\n    cyan = (1 - (r / 255) - black) / (1 - black).\n    magenta = (1 - (g / 255) - black) / (1 - black).\n    yellow = (1 - (b / 255) - black) / (1 - black).\n    this.\n].\nColor:fromCMYK=[|cyan magenta yellow black|\n    Color!\n    ((1 - ((window:Math) ! 1  (cyan * (1 - black) + black) min)) * 255)\n    ((1 - ((window:Math) ! 1  (magenta * (1 - black) + black) min)) * 255)\n    ((1 - ((window:Math) ! 1  (yellow * (1 - black) + black) min)) * 255)\n    create.\n].\nColor:mixParam=1.1.\nLight=! create.\nLight:mix=[|;r g b l|\n    r=0.g=0.b=0.\n    (Array:prototype:slice) ! (arguments) call [|e|\n        r=r+(e:r).\n        g=g+(e:g).\n        b=b+(e:b).\n    ] each.\n    l=arguments:length.\n    Color ! \n    (window:Math ! (r/l*Color:mixParam) 255 min) \n    (window:Math ! (g/l*Color:mixParam) 255 min)\n    (window:Math ! (b/l*Color:mixParam) 255 min) create.\n].\n\nInk=! create.\nInk:mix=[|;c m y k l|\n    c=0.m=0.y=0.k=0.\n    (Array:prototype:slice) ! (arguments) call [|e|\n        e! setCMYK.\n        c=c+(e:cyan).\n        m=m+(e:magenta).\n        y=y+(e:yellow).\n        k=k+(e:black).\n    ] each.\n    l=arguments:length.\n    Color ! \n    (window:Math ! (c/l*Color:mixParam) 1 min) \n    (window:Math ! (m/l*Color:mixParam) 1 min)\n    (window:Math ! (y/l*Color:mixParam) 1 min)\n    (window:Math ! (k/l*Color:mixParam) 1 min) fromCMYK.\n].\n\nblack=Color!0 0 0 create.\nwhite=Color!255 255 255 create.\nblue=Color!8 8 255 create.\nred=Color!255 8 8 create.\ngreen=Color!8 255 8 create.\npink=Color!255 0 255 create.\nmagenta=Color!255 0 255 create.\ncyan=Color!0 255 255 create.\nyellow=Color!255 255 0 create.\n\n"]}