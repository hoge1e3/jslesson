{"version":3,"sources":["/home/devel/devel/Turtle/UI.dtl"],"names":[],"mappings":"4BAEC,mBAAS;CACT,cAAO,WAHN;;QAIG,SAAa,YAAR,gBAAe;;CAExB,cAAO,YANN;;QAOG,SAAa,YAAR,gBAAe;;CAExB,cAAO,UATN,sBASc;;QACX,SAAW,kBAAiC,6BAV/C,AAUyC;;KAEvB;CAEnB,eAAK;CACL,UAAG,aAfF;;;CAAA,AAgBG,kCAA8B,WAAI,kBAAY,WAAI;CAClD,eAA4B,sBAjB/B,AAiB0B,KACY,0BAApB,WAAI,aAAQ,WAAI;QAlBlC;;CAqBD,UAAG,SArBF;;CAAC;;QAsBG;GAAW,UAAuB,YAtBrC;;QAsBqB,eAAU;;QAtBhC;;CAyBD,UAAG,SAzBF;;CAAC;;QA0BG;GAAW,UAAuB,YA1BrC;;QA0BqB,eAAU;;QA1BhC;;CA6BD,UAAgB;CAChB,UAAmB;CAEnB,UAAG,YAAM,cAAQ,eAhCf,MACG;CAgCL,UAAG,eAjCF;;CAkCG,gBAAiB,SAlCpB;CAAC;;QAmCG;GAAQ,UAEP,SArCJ;;YAoC2C,cAAjC,YAAO,cApCT,QAoCsB,YAAO;IAGjC,YAvCJ;;YAsC2C,gBAA/B,cAAS,cAtCrB,KACG,QAqCmC;;QAEpC,UAAG,SAxCN;;CA0CD,UAAG,WA1CF,sBA0CW,KAAK;;CACb,gBAA8B,YA3CjC,OAAA,AA2CqB,OA3CrB,AA2C4B;QA3C5B;;CA8CD,UAAG,WA9CF,sBA8CW,GAAG;;YACkB,kBAAxB,aA/CR,AA+Ce,YAAO,YA/CtB,AA+C4B;;CAE7B,UAAG,UAjDF;;QAAC;;QAkDG;GAAW,UAEV,SApDJ;;UAmDO,eAAU,aAAQ,WAAO,UAAG,aAAY,aAAQ;IAC1C,YApDb;;QAAF;;;CAsDA,UAAqB;CACrB,UAAG,WAvDF;;cAwDM,kBAAY;;CAEnB,UAAG,SA1DF;;QAAC;;QA2DG;GAAW,UAEV,SA7DJ;;YA4DS,eAAU,aAAQ,UAAM,UAAG,aAAY,aAAQ;IAC3C,YA7Db;;QAAF;;;CA+DA,UAAoB;CACpB,UAAG,YAhEF;;cAiEM,iBAAW;;CAElB,UAAG,WAnEF;;QAAC;;QAoEG;GAAW,UAA6B,SApE3C;;QAoEqB,eAAU;IAAqB,YApEpD;;QAAF;;;CAsEA,UAAG,YAtEF;;QAAC;;QAuEG;GAAW,UAA8B,SAvE5C;;QAuEqB,eAAU;IAAsB,YAvErD;;QAAF;;;CAyEA,UAAG,UAzEF,sBAyEU;;CAzET;;QA0EG;GAAW,UAA6B,YA1E3C;;QA0EqB,eAAc,WA1EpC,AA0EiC;;QA1EjC;;CA4ED,UAAG,WA5EF,sBA4EW;;CA5EV;;QA6EG;GAAW,UAA8B,YA7E5C;;QA6EqB,eAAc,YA7EpC,AA6EiC;;QA7EjC;;CA+ED,UAAG,aA/EF;;;;CAAC;;QAgFG;GAAQ,UAMP,YAtFJ;;CAiFM,eAA+C,cAA/B,cAAQ,eAAS,YAAK;CAjF7C,AAkFO,SAAO,cAAQ,cAlFrB,KACG;CADJ,AAoFO,IAAI,YAAO;YACG,YArFrB,AAqFS,OArFT,AAqFgB;;QArFhB;;CA0FD,UAAG,UA1FF,sBA0FU;;CA1FT;;QA2FG;GAAW,UAAkD,YA3FhE;;SA2FsB,eAAY,QA3FpC,KA2FyC,kBAAgB,aA3FxD,AA2FqD;;QA3FrD;;CA8FD,UAAmB;CACnB,UAAG,QA/FF,sBA+FQ;;CA/FP;;QAgGG;GAAS,UAA2C,YAhGvD;;YAgGiD,cAA5B,eAAU,QAhGjC,KAgGsC,eAhGrC,AAgGgD;;QAhGhD;;CAmGD,UAAG,YAnGF;;KAoGU;QApGV;;CAuGD,UAAG,UAvGF;;YAuGa;;CACd,UAAG,kBAkbH;CAAA,UAAA,YAAA,sBAAA;;;CAAA;;SAAA,IAAA;GAAA,UAAA,YAAA;;QAAA;;CAAA;;SAAA,IAAA;GAAA,UAAA,YAAA;;QAAA;;CAAA;;cAAA,YAAA;GAAA,UAAA,YAAA;;QAAA,KAAA,cAAA,SAAA,YAAA,EAAA,0BAAA;;SAAA;;CAAA,UAAA,YAAA,UAAA;CAAA,UAAA,YAAA,sBAAA;;;CAAA,EAAA,cAAA,gBAAA;QAAA;;SAAA,IAAA;GAAA,UAAA,SAAA;;QAAA;IAAA,YAAA;;QAAA;;;CAAA,UAAA,YAAA,UAAA;CAAA,UAAA,eAAA;;QAAA;;QAAA;GAAA,UAAA,SAAA;;QAAA,eAAA;IAAA,YAAA;;;;;CAAA,UAAA,SAAA;;YAAA,iBAAA;;CAAA,UAAA;CAAA,UAAA,QAAA,sBAAA;;CAAA,GAAA;;QAAA;GAAA,OAAA;;QAAA;;YAAA,kBAAA,YAAA,KAAA;;CAAA,UAAA;CAAA,UAAA,QAAA,sBAAA;;CAAA,GAAA;;QAAA;GAAA,OAAA;;QAAA;;YAAA,iBAAA,YAAA;;CAAA,UAAA;CAAA,UAAA,UAAA,sBAAA,EAAA,EAAA;;;;CAAA,KAAA,cAAA,SAAA,aAAA,SAAA,UAAA;CAAA;;SAAA,IAAA,aAAA;GAAA,UAAA,SAAA;;QAAA,EAAA;IAAA,YAAA;;QAAA,EAAA,aAAA,YAAA,IAAA,IAAA;;CAAA,IAAA,WAAA,4BAAA;QAAA;;CAAA,UAAA,cAAA,sBAAA,EAAA,EAAA;;;;CAAA,KAAA,cAAA,SAAA,aAAA,SAAA,UAAA;CAAA;;SAAA,IAAA,aAAA;GAAA,UAAA,SAAA;;QAAA,EAAA;IAAA,YAAA;;QAAA,EAAA,aAAA,YAAA,IAAA,IAAA;;CAAA,IAAA,WAAA,iBAAA;QAAA;;CAAA,UAAA,aAAA,sBAAA;;CAAA,IAAA,WAAA,uBAAA,EAAA;QAAA;;CAAA,UAAA,SAAA,sBAAA,EAAA;;CAAA,IAAA,WAAA,kBAAA,SAAA,mBAAA;QAAA;;CAAA,UAAA,gBAAA;;;CAAA,UAAA,cAAA,SAAA,mBAAA,oBAAA,8BAAA,kBAAA,cAAA,cAAA,MAAA,iBAAA,cAAA,eAAA;CAAA,SAAA,YAAA,gBAAA,YAAA;;QAAA,UAAA,aAAA,kBAAA,cAAA,cAAA,MAAA,iBAAA,cAAA,eAAA;GAAA,UAAA;CAAA,qBAAA;CAAA,gBAAA,UAAA;CAAA,gBAAA,aAAA;;CAAA,gBAAA,SAAA,mBAAA,cAAA,UAAA;CAAA,eAAA,+BAAA,8BAAA,oBAAA,cAAA,cAAA,KAAA,gBAAA,mBAAA,cAAA,eAAA,KAAA;QAAA,SAAA,YAAA,gBAAA,YAAA;;QAAA,eAAA,oBAAA,cAAA,cAAA,KAAA,gBAAA,mBAAA,cAAA,eAAA,KAAA;GAAA,UAAA;;CAAA,gBAAA;CAAA,gBAAA,QAAA,sBAAA;;CAAA,EAAA,WAAA;CAAA,EAAA,eAAA;CAAA,eAAA,YAAA,EAAA;CAAA,EAAA;QAAA,EAAA,WAAA;;CAAA,gBAAA,WAAA,sBAAA,GAAA,KAAA;;CAAA;;QAAA,EAAA;GAAA,UAAA,YAAA;;CAAA,EAAA,WAAA;CAAA,EAAA,eAAA;CAAA,UAAA,aAAA,YAAA,EAAA;QAAA,EAAA;;QAAA,EAAA,WAAA,8BAAA,gBAAA,MAAA,gBAAA;;CAAA,gBAAA,OAAA,sBAAA;;QAAA,SAAA,kBAAA,kBAAA,EAAA;;CAAA,cAAA,UAAA;CAAA,aAAA,SAAA;CAAA,aAAA,eAAA,sBAAA;;;CAAA,EAAA;CAAA;;SAAA,QAAA;GAAA,UAAA,YAAA;;QAAA,UAAA;;CAAA,gBAAA,SAAA,oBAAA,cAAA,aAAA,SAAA,4BAAA,+BAAA;YAAA;;CAAA,aAAA,cAAA,sBAAA,EAAA,EAAA;;;;CAAA,KAAA,cAAA,SAAA,aAAA,SAAA,UAAA;CAAA;;SAAA,IAAA,aAAA;GAAA,UAAA,SAAA;;QAAA,EAAA;IAAA,YAAA;;QAAA,EAAA,aAAA,YAAA,IAAA,IAAA;;CAAA,IAAA,WAAA,iBAAA;QAAA;;CAAA,aAAA,aAAA,sBAAA;;CAAA,IAAA,WAAA,uBAAA,EAAA;QAAA;;CAAA,eAAA,UAAA;CAAA,cAAA,WAAA;;;CAAA,cAAA,SAAA;CAAA,cAAA,gBAAA;;;CAAA,EAAA;QAAA,eAAA,UAAA;;QAAA,CAAA;;;CAAA,cAAA,eAAA,sBAAA,MAAA;;;CAAA,EAAA;CAAA;;SAAA,QAAA;GAAA,UAAA,YAAA;;QAAA,UAAA;;CAAA,gBAAA,SAAA,sBAAA,cAAA,aAAA,SAAA,+BAAA;KAAA;QAAA;;QAAA;GAAA,UAAA,YAAA;;QAAA,cAAA,MAAA;;QAAA,cAAA,YAAA,+BAAA,sBAAA;;QAAA;;SAAA,CAAA,eAAA,cAAA,eAAA,YAAA,QAAA;GAAA,UAAA,YAAA;;QAAA,CAAA;;KAAA;;;;CAAA,cAAA,cAAA,sBAAA;;CAAA,eAAA;QAAA;;CAAA,cAAA,gBAAA,YAAA;CAAA;;;CAAA,IAAA,aAAA;CAAA,sBAAA;;QAAA,cAAA,eAAA,WAAA,GAAA,SAAA,OAAA,EAAA;GAAA,YAAA,GAAA;CAAA,IAAA,aAAA;CAAA,sBAAA;;QAAA,cAAA,eAAA,WAAA,GAAA,SAAA,OAAA,EAAA;GAAA,YAAA,GAAA;CAAA,IAAA,aAAA;CAAA,sBAAA;;QAAA,cAAA,eAAA,WAAA,GAAA,SAAA,OAAA,EAAA;GAAA,YAAA,GAAA;QAAA,cAAA,eAAA,mBAAA,KAAA,kBAAA,MAAA,uBAAA,MAAA,yBAAA,MAAA,0BAAA,MAAA,sBAAA,MAAA,kBAAA,MAAA,mBAAA,MAAA,kBAAA,MAAA,kBAAA,KAAA,oBAAA,KAAA,sBAAA,KAAA,gBAAA,KAAA,iBAAA,KAAA,iBAAA,KAAA,eAAA,KAAA,kBAAA,KAAA,iBAAA,KAAA,kBAAA,KAAA,kBAAA,KAAA,iBAAA;GAAA;CAAA,cAAA,QAAA;;;CAAA,OAAA,IAAA,WAAA,QAAA,KAAA;CAAA;;QAAA,KAAA,WAAA,cAAA;GAAA,UAAA,YAAA;;QAAA,IAAA,WAAA,YAAA,cAAA,cAAA,SAAA;;QAAA;;CAAA,cAAA,UAAA;CAAA,aAAA,WAAA;;;CAAA,aAAA,gBAAA;;;CAAA,EAAA;QAAA,eAAA,aAAA,sBAAA;;QAAA;;SAAA,GAAA,YAAA;GAAA,UAAA,YAAA;;QAAA,CAAA,YAAA,CAAA;;;;CAAA,aAAA,cAAA,sBAAA;;CAAA,IAAA,WAAA;QAAA;;CAAA,aAAA,eAAA,sBAAA;;CAAA;;SAAA,QAAA;GAAA,UAAA,YAAA;;QAAA,UAAA;;CAAA,gBAAA,SAAA,qBAAA,aAAA,aAAA,SAAA,+BAAA;YAAA;;CAAA,aAAA,UAAA,sBAAA;;CAAA;;QAAA;GAAA,UAAA,YAAA;;QAAA,eAAA,aAAA,aAAA;;QAAA;;CAAA,aAAA,eAAA;;QAAA;;QAAA;GAAA,UAAA,SAAA;;QAAA,eAAA;IAAA,YAAA;;;;;CAAA,iBAAA,UAAA;CAAA,gBAAA,gBAAA;CAAA,gBAAA,eAAA;;;CAAA,UAAA;CAAA,kBAAA;CAAA,kBAAA;CAAA,gBAAA,SAAA,wBAAA,SAAA,OAAA;CAAA,eAAA,qBAAA;KAAA;KAAA;QAAA,eAAA,WAAA,OAAA;;CAAA,gBAAA,gBAAA,sBAAA;;CAAA;;SAAA,IAAA;GAAA,UAAA,YAAA;;QAAA,EAAA;;CAAA,iBAAA;QAAA;;CAAA,gBAAA;CAAA,gBAAA,gBAAA,sBAAA;;CAAA,mBAAA;CAAA;;QAAA;GAAA,UAAA,YAAA;;QAAA,eAAA,qBAAA;;QAAA;;CAAA,gBAAA,aAAA;;YAAA,iBAAA;;CAAA,gBAAA,aAAA;;YAAA,iBAAA;;CAAA,gBAAA;CAAA,eAAA,cAAA;CAAA,gBAAA,UAAA,sBAAA;;;;;CAAA,EAAA;CAAA,EAAA;CAAA;;SAAA,GAAA,CAAA;GAAA,WAAA,YAAA;;CAAA,EAAA,CAAA,gBAAA;CAAA,GAAA,GAAA;;SAAA,GAAA;GAAA,UAAA,SAAA;;QAAA;IAAA,YAAA;;QAAA;;QAAA,GAAA,EAAA;;QAAA;;CAAA,gBAAA,eAAA;;;;CAAA,EAAA;CAAA,EAAA;KAAA,gBAAA,eAAA,SAAA,sBAAA;;;CAAA,MAAA,WAAA;CAAA;;SAAA,EAAA;GAAA,UAAA,YAAA;;QAAA,EAAA;;QAAA,GAAA,EAAA;;CAAA;;QAAA;GAAA,UAAA,SAAA;;WAAA,YAAA;;QAAA,eAAA,iBAAA;;CAAA;;QAAA;GAAA,UAAA,SAAA;;WAAA,YAAA;;QAAA,eAAA,iBAAA;;QAAA;;CAAA,gBAAA,WAAA,sBAAA;;CAAA,eAAA,iBAAA;CAAA,kBAAA;QAAA;;CAAA,gBAAA,WAAA,sBAAA;;CAAA,eAAA,iBAAA;CAAA,kBAAA;QAAA;;CAAA,gBAAA,cAAA;;;;KAAA;QAAA,eAAA,WAAA,OAAA;;CAAA,gBAAA,eAAA;;QAAA;;QAAA;GAAA,UAAA,SAAA;;QAAA,eAAA;IAAA,YAAA;;;;;CAAA,gBAAA,SAAA,gBAAA;CAAA,gBAAA,UAAA;;EAAA,aAAA,aAAA,UAAA,UAAA,OAAA,SAAA,sBAAA;;YAAA,aAAA,OAAA;;YAAA;;CAAA,gBAAA,iBAAA,sBAAA;;CAAA;;QAAA;GAAA,UAAA,YAAA;;QAAA,eAAA,SAAA;;QAAA;;CAAA,gBAAA,cAAA,sBAAA;;YAAA,wBAAA,uBAAA,aAAA;;CAAA,gBAAA,YAAA;;EAAA,aAAA,aAAA,UAAA,UAAA,OAAA,SAAA,sBAAA;;YAAA,aAAA,OAAA;;YAAA;;CAAA,gBAAA,YAAA,sBAAA,KAAA;;CAAA;;YAAA,gBAAA,OAAA;GAAA,UAAA,SAAA;;QAAA,IAAA,SAAA,sBAAA;;YAAA,aAAA,IAAA;;IAAA,YAAA;;KAAA,eAAA;QAAA;;QAAA;GAAA,UAAA,YAAA;;YAAA;;;QAAA;;CAAA,gBAAA,YAAA;;YAAA;;CAAA,gBAAA,UAAA;;KAAA;YAAA;;CAAA,gBAAA,gBAAA;;YAAA,UAAA,eAAA,WAAA,sBAAA;;SAAA;IAAA,SAAA,sBAAA;;YAAA,aAAA;GAAA,UAAA;;CAAA,gBAAA,eAAA,sBAAA,GAAA;;YAAA,mBAAA,iBAAA,SAAA,KAAA;;CAAA,mBAAA,UAAA;CAAA,kBAAA,WAAA;;;CAAA,kBAAA,gBAAA;;;CAAA,EAAA;CAAA,eAAA,WAAA;;;;CAAA,IAAA,CAAA,WAAA,2BAAA;CAAA,IAAA,CAAA,WAAA;QAAA,CAAA,YAAA,MAAA;;QAAA,eAAA,WAAA;;QAAA,eAAA;GAAA,UAAA;;CAAA,kBAAA,eAAA;;;CAAA,KAAA,cAAA,SAAA,aAAA,SAAA,UAAA;CAAA,eAAA;CAAA,gBAAA,SAAA,sBAAA,aAAA,aAAA,iBAAA,4BAAA,4BAAA,+BAAA;KAAA;QAAA,IAAA,SAAA,sBAAA;;QAAA,IAAA,SAAA;;;QAAA,kBAAA,QAAA;;;CAAA,aAAA,cAAA,SAAA,aAAA,SAAA,UAAA;CAAA,YAAA,SAAA,sBAAA;;QAAA;;QAAA,cAAA,SAAA,aAAA;GAAA,UAAA,SAAA;;QAAA,CAAA,SAAA,sBAAA;;QAAA,IAAA,SAAA;;IAAA,YAAA;;CAAA,IAAA,SAAA;CAAA,GAAA,kBAAA,IAAA;CAAA,GAAA,UAAA;CAAA,IAAA,YAAA,IAAA,WAAA;QAAA,IAAA,WAAA,YAAA;;;QAAA","sourcesContent":["//NOGENERATOR\r\n// Dolittle\r\nScreen=! create.\r\nScreen:width?=[\r\n    $ ! (window) create width.\r\n].\r\nScreen:height?=[\r\n    $ ! (window) create height.\r\n].\r\nScreen:paint=[|c|\r\n    $ ! \"body\" create \"background-color\" (c+\"\") css.\r\n].\r\n! \"Screen\" \"Panel\" addAlias.\r\n\r\nUI=! create.\r\nUI:setTrans=[|;str|\r\n    str=\"postion:absolute;left:\"+(pos:x)+\";top:\"+(pos:y)+\";\".\r\n    element ! \"transform\" (str) attr\r\n    \"data-trans\" ((pos:x)+\",\"+(pos:y)) attr.\r\n    this.\r\n].\r\nUI:hide=[\r\n    [element] ! then [ element ! hide] execute.\r\n    this.\r\n].\r\nUI:show=[\r\n    [element] ! then [ element ! show] execute.\r\n    this.\r\n].\r\nUI!\"hide\" \"die\" addAlias.\r\nUI!\"show\" \"appear\" addAlias.\r\n\r\nUI:top=((Screen! height?)/2) - 20.\r\nUI:autoLayout=[\r\n    UILayout! (this) add.\r\n    [last] ! then [\r\n        ! ((last ! right?)+10) (last ! top?) moveTo\r\n    ] else [\r\n        !  (-(Screen ! width?) / 2+20) (top) moveTo.\r\n    ] execute.\r\n    UI:last=this.\r\n].\r\nUI:moveTo=[|left top|\r\n    UILayout! (this) (left) (top) remove.\r\n    this.\r\n].\r\nUI:moveBy=[|dx dy|\r\n    ! ((!left?)+dx) ((!top?)+dy) moveTo\r\n].\r\nUI:left?=[\r\n    [element] ! then [\r\n        (element ! offset):left-((UI:container ! offset):left)\r\n    ] else [0] execute.\r\n].\r\nUI ! \"left?\" \"xpos?\" addAlias.\r\nUI:right?=[\r\n    (! left?) + (! width?)\r\n].\r\nUI:top?=[\r\n    [element] ! then [\r\n        -((element ! offset):top-((UI:container ! offset):top))\r\n    ] else [0] execute.\r\n].\r\nUI ! \"top?\" \"ypos?\" addAlias.\r\nUI:bottom?=[\r\n    (! top?) - (! height?)\r\n].\r\nUI:width?=[//offsetWidth??\r\n    [element] ! then [ element ! outerWidth] else [0] execute.\r\n].\r\nUI:height?=[\r\n    [element] ! then [ element ! outerHeight] else [0] execute.\r\n].\r\nUI:width=[|w|\r\n    [element] ! then [ element ! (w) width ] execute. this.\r\n].\r\nUI:height=[|w|\r\n    [element] ! then [ element ! (w) height ] execute. this.\r\n].\r\nUI:nextLine=[|;top left|\r\n    [last] ! then [\r\n        console ! \"NL\" (Screen! width?) (last!bottom?) log.\r\n        left=-(Screen! width?) /2 + 20.\r\n        //top=(UI:top)-((UI:last) ! outerHeight).\r\n        top=last ! bottom?.\r\n        !(left) (top) moveTo.\r\n    ] execute.\r\n    //UILayout! (this) br.\r\n    this.\r\n].\r\nUI:write=[|m|\r\n    [element] ! then [ (element ! 0 get):innerHTML=! (m) num2str] execute.\r\n    self\r\n].\r\nUI ! \"write\" \"set\" addAlias.\r\nUI:add=[|m|\r\n    [element]!then[!(((element!0 get):innerHTML)+m)write]execute.\r\n    self\r\n].\r\nUI:newLine=[\r\n    !\"<br>\"add.\r\n    self\r\n].\r\nUI:clear=[!\"\" write].\r\nUI:num2strDigits=1000000.\r\nUI:num2str=[|v;r|\r\n    [v==null]!then [v=\"\"] execute.\r\n    [v==undef]!then [v=\"\"] execute.\r\n    [(! (v) typeof)==\"number\"] ! then [\r\n        v=((window:Math) ! (v*num2strDigits) round) /num2strDigits.\r\n    ] execute.\r\n    v+\"\"\r\n    //    [ (! (r-v) abs) <0.00000001 ] ! then [ r+\"\" ] else [v+\"\"] execute.\r\n].\r\nUI:int2str=UI:num2str.\r\nUI:str2num=[|s;r|\r\n    r=window ! (s) parseFloat.\r\n    [r==r] ! then [r] else [s] execute.\r\n].\r\nUI:str2int=UI:str2num.\r\nUI:readString=[\r\n    [element] ! then [element ! text] else [\"\"] execute.\r\n].\r\nUI:read=[\r\n    ! (! readString) str2num.\r\n].\r\nUI ! \"read\" \"get\" addAlias.\r\nUI:inc=[|by|\r\n    by=[by] ! [1] or.\r\n    ! ( (! read)-0+by) write.\r\n].\r\nUI! \"inc\" \"increment\" addAlias.\r\nUI:dec=[|by|\r\n    by=[by] ! [1] or.\r\n    ! ( (! read)-by) write.\r\n].\r\nUI! \"dec\" \"decrement\" addAlias.\r\n//本多追加分\r\nUI:paint=[|r g b;args c|\r\n    args=:window:Array:prototype:slice!(arguments)call.\r\n    [args:length==1]!then[\r\n        c=r.\r\n    ]else[\r\n        c=Color!(r)(g)(b)create.\r\n    ]execute.\r\n    self:element!\"background-color\" (c)css .\r\n    self\r\n].\r\nUI:fontColor=[|r g b;args c|\r\n    args=:window:Array:prototype:slice!(arguments)call.\r\n    [args:length==1]!then[\r\n        c=r.\r\n    ]else[\r\n        c=Color!(r)(g)(b)create.\r\n    ]execute.\r\n    self:element!\"color\" (c)css.\r\n    self\r\n].\r\nUI:fontSize=[|s|\r\n    self:element!\"font-size\" (s/10+\"em\")css.\r\n    self\r\n].\r\n\r\nUI:size=[|w h|\r\n    self:element!\"width\" (w+\"px\") css\r\n    \"height\" (h+\"px\") css.\r\n    self\r\n].\r\n//以上\r\n\r\nUI:attachEvent=[].\r\nUI:container=$ ! \"<div>\" create \"body\" appendTo\r\n\"position\" \"absolute\" css\r\n\"left\" ( (Screen!width?) / 2) css\r\n\"top\" ( (Screen!height?) / 2) css.\r\n$ ! (window) create ([\r\n    UI:container !\r\n    \"left\" ( (Screen!width?) / 2) css\r\n    \"top\" ( (Screen!height?) / 2) css.\r\n] ! (this) bind) resize.\r\nUILayout=!create.\r\nUILayout:space=20.\r\nUILayout:initElem=[\r\n    element=$!\"<div>\" create (UI:container) appendTo.\r\n    element !\r\n    \"white-space\" \"nowrap\" css\r\n    \"position\" \"absolute\" css\r\n    \"left\" (-(Screen ! width?)/2 +space) css\r\n    \"top\" (-(Screen! height?)/2+space) css.\r\n    $ ! (window) create ([\r\n        element !\r\n        \"left\" (-(Screen ! width?)/2 +space) css\r\n        \"top\" (-(Screen! height?)/2+space) css.\r\n    ] ! (this) bind ) resize.\r\n].\r\nUILayout ! initElem.\r\nUILayout:add=[|ui|\r\n    ui:element ! remove.\r\n    ui:inUILayout=this.\r\n    element ! (ui:element) append.\r\n    ui ! attachEvent.\r\n    ui:element ! \"position\" \"static\" css.\r\n].\r\nUILayout:remove=[|ui left top|\r\n    [ui:inUILayout] ! then [\r\n        ui:element ! remove.\r\n        ui:inUILayout=false.\r\n        UI:container ! (ui:element) append.\r\n        ui ! attachEvent.\r\n    ] execute.\r\n    ui:element ! \"position\" \"absolute\" css \"left\" (left) css \"top\" (-top) css.\r\n].\r\nUILayout:br=[|ui|\r\n    $ ! \"<br>\" create (ui:element) insertBefore.\r\n].\r\n\r\nLabel=UI!create.\r\nLabel:left=0.\r\nLabel:initialize=[|label;t|\r\n    t=this.\r\n    [label==undef]!then [label=! read] execute.\r\n    element=$!\"<span>\"create\r\n    (!(label) num2str) text\r\n    //\"position\" \"absolute\" css\r\n    \"font-size\" \"1.0em\" css\r\n    \"vertical-align\" \"top\" css\r\n    \"white-space\" \"nowrap\" css.\r\n    //(container) appendTo.\r\n    !autoLayout\r\n].\r\nLabel:fontColor=[|r g b;args c|\r\n    args=:window:Array:prototype:slice!(arguments)call.\r\n    [args:length==1]!then[\r\n        c=r.\r\n    ]else[\r\n        c=Color!(r)(g)(b)create.\r\n    ]execute.\r\n    self:element!\"color\" (c)css.\r\n    self\r\n].\r\nLabel:fontSize=[|s|\r\n    self:element!\"font-size\" (s/10+\"em\")css.\r\n    self\r\n].\r\n\r\nButton=UI ! create.\r\nButton:action=[].\r\n//Button ! \"action\" addEventType.\r\nButton:left=0.\r\nButton:attachEvent=[|;t| t=this. element ! [t ! action] click].\r\nButton:initialize=[|label key;t|\r\n    t=this.\r\n    [label==undef]!then [label=! read] execute.\r\n    element=$!\"<button>\" create\r\n    (! (label) num2str) text\r\n    \"vertical-align\" \"top\" css\r\n    \"white-space\" \"nowrap\" css.\r\n    //\"position\" \"absolute\" css.\r\n    //(container) appendTo.\r\n    //! attachEvent.\r\n    ! autoLayout.\r\n    [key]!then[\r\n        :window![:window:document!\"keydown\"[|k|\r\n                [k:keyCode==(:Button:keyCodeDict!\r\n                ((key+\"\")!toUpperCase)read)]!then[t!action]execute.\r\n        ](:true)addEventListener.]$.\r\n    ]execute.\r\n    // 以上\r\n].\r\nButton:setAction=[|a|\r\n    action=a.this.\r\n].\r\n\r\nButton:keyCodeDict=Dict!create.\r\n[|;arr|\r\n    arr=Array!\"0\" \"1\" \"2\" \"3\" \"4\" \"5\" \"6\" \"7\" \"8\" \"9\"create.\r\n    [|n|\r\n        Button:keyCodeDict!(arr!(n)get)(n+47)write\r\n    ]!(arr!length?)repeat.\r\n    arr=Array!\"A\" \"B\" \"C\" \"D\" \"E\" \"F\" \"G\" \"H\" \"I\" \"J\"\r\n    \"K\" \"L\" \"M\" \"N\" \"O\" \"P\" \"Q\" \"R\" \"S\" \"T\" \"U\"\r\n    \"V\" \"W\" \"X\" \"Y\" \"Z\" create.\r\n    [|n|\r\n        Button:keyCodeDict!(arr!(n)get)(n+64)write\r\n    ]!(arr!length?)repeat.\r\n    arr=Array!\"F1\" \"F2\" \"F3\" \"F4\" \"F5\" \"F6\" \"F7\" \"F8\"\r\n    \"F9\" \"F10\" \"F11\" \"F12\"create.\r\n    [|n|\r\n        Button:keyCodeDict!(arr!(n)get)(n+111)write\r\n    ]!(arr!length?)repeat.\r\n    Button:keyCodeDict!\r\n    \"ESCAPE\" 27 write\r\n    \"MINUS\" 189 write\r\n    \"BACK_SLASH\" 220 write\r\n    \"OPEN_BRACKET\" 219 write\r\n    \"CLOSE_BRACKET\" 221 write\r\n    \"SEMICOLON\" 186 write\r\n    \"COMMA\" 188 write\r\n    \"PERIOD\" 190 write\r\n    \"SLASH\" 191 write\r\n    \"ENTER\" 13 write\r\n    \"PAGE_UP\" 33 write\r\n    \"PAGE_DOWN\" 34 write\r\n    \"END\" 35 write\r\n    \"HOME\" 36 write\r\n    \"LEFT\" 37 write\r\n    \"UP\" 38 write\r\n    \"RIGHT\" 39 write\r\n    \"DOWN\" 40 write\r\n    \"SPACE\" 32 write\r\n    \"SHIFT\" 16 write\r\n    \"CTRL\" 17 write.\r\n]!execute.\r\n// Button:keyCodeDict![|k|\r\n    //     k=(k+\"\") ! toUpperCase.\r\n    //     [k==\"LEFT\"]!then[37]\r\n    //     else[k==\"UP\"]then[38]\r\n    //     else[k==\"RIGHT\"]then[39]\r\n    //     else[k==\"DOWN\"]then[40]\r\n    //     else[k==\"SPACE\"]then[32]execute.\r\n// ].\r\nButton:inc=[|;label|\r\n    label=(self:element!0 get):innerHTML.\r\n    [label!(:window!\"^([0-9０-９]+)$\"RegExp)match]!then[\r\n        self:element!((:window!(label)parseInt)+1)text.\r\n    ]execute.\r\n    self\r\n].\r\n// Button:write=[|m|\r\n    //     [element] ! then [element ! (m) val] execute.\r\n    //     self\r\n// ].\r\n// Button:read=[\r\n    //     [element] ! then [element ! val] else [\"\"] execute.\r\n// ].\r\n\r\nField=UI! create.\r\nField:action=[].\r\nField:attachEvent=[|;t|\r\n    t=this.\r\n    element![|key|\r\n        [key:which==13]!then[\r\n            t!(t!readString)action\r\n        ]execute.\r\n    ]keypress.\r\n].\r\nField:setAction=[|f|\r\n    self:action=f.\r\n    self.\r\n].\r\nField:initialize=[|label|\r\n    [label==undef]!then [label=! read] execute.\r\n    element=$!\"<input>\" create\r\n    (!(label) num2str) val\r\n    \"vertical-align\" \"top\" css\r\n    \"white-space\" \"nowrap\" css.\r\n    //\"position\" \"absolute\" css.\r\n    //(container) appendTo.\r\n    ! autoLayout.\r\n].\r\nField:write=[|m|\r\n    [element] ! then [element ! (! (m) num2str) val] execute.\r\n    self\r\n].\r\nField:readString=[\r\n    [element] ! then [element ! val] else [\"\"] execute.\r\n].\r\n\r\nTextArea=UI! create.\r\nListBox=TextArea ! create.\r\nTextArea:initialize=[|;label|\r\n    label=! read.\r\n    manualRow=false.\r\n    manualCol=false.\r\n    element=$!\"<textarea>\" create\r\n    (label) val\r\n    \"vertical-align\" \"top\" css.\r\n    //\"white-space\" \"nowrap\" css.\r\n    //\"position\" \"absolute\" css.\r\n    //(container) appendTo.\r\n    element ! \"readonly\" (isReadOnly) attr.\r\n    ! autoResize.\r\n    ! autoLayout.\r\n    writeLn ! (self) (arguments) apply.\r\n].\r\nTextArea:autoNewLine=[|f|\r\n    [f==undef] ! then [f=true] execute.\r\n    isAutoBR=f.\r\n    this.\r\n].\r\nTextArea ! \"autoNewLine\" \"autoBR\" addAlias.\r\nTextArea:setReadOnly=[|f|\r\n    isReadOnly=f.\r\n    [element]!then[element ! \"readonly\" (f) attr]execute.\r\n    this.\r\n].\r\nTextArea:readOnly=[!(true) setReadOnly].\r\nTextArea:writable=[!(false) setReadOnly].\r\nTextArea ! \"writable\" \"readWrite\" addAlias.\r\nListBox ! readOnly autoBR.\r\nTextArea:mblen=[|s;i c r|\r\n    i=0.r=0.\r\n    [i<(s:length)] ! while [\r\n        c=s ! (i) charCodeAt.\r\n        r=r+([c>=128] ! then [2] else[1] execute).\r\n        i=i+1.\r\n    ] execute.\r\n    r.\r\n].\r\nTextArea:autoResize=[|;r c|\r\n    r=1.c=1.\r\n    ! readString \"\\n\" split [|s;l|\r\n        l=! (s) mblen.\r\n        [l>c] ! then [c=l] execute.\r\n        r=r+1.\r\n    ] each.\r\n    [manualRow] ! then [] else [element ! \"rows\"(r) attr] execute.\r\n    [manualCol] ! then [] else [element ! \"cols\"(c) attr] execute.\r\n    this.\r\n].\r\nTextArea:setRow=[|r| element ! \"rows\"(r) attr. manualRow=true. self].\r\nTextArea:setCol=[|c| element ! \"cols\"(c) attr. manualCol=true. self].\r\nTextArea:overwrite=[|;a buf|\r\n    ! clear.\r\n    writeLn ! (self) (arguments) apply.\r\n].\r\nTextArea:readString=[\r\n    [element] ! then [element ! val] else [\"\"] execute.\r\n].\r\nTextArea:read=TextArea:readString.\r\nTextArea:write=[\r\n    (Array:prototype:slice) ! (arguments) call [|cont|\r\n        // [cont==null]!then [cont=\"\"] execute.\r\n        // [cont==undef]!then [cont=\"\"] execute.\r\n        // [cont:each] ! then [\r\n            //     cont ! [|e| ! (e) writeLn ] each.\r\n        // ] else [\r\n            //     ! ((!readString)+(!(cont) num2str)) rawOverwrite\r\n        // ] execute.\r\n        ! (cont) (isAutoBR) _write1\r\n    ] each.\r\n    ! autoResize.\r\n].\r\nTextArea:rawOverwrite=[|c|\r\n    [element] ! then [element ! (c) val] execute.\r\n    self.\r\n].\r\nTextArea:rawAppend=[|cont|\r\n    ! ((!readString)+(!(cont) num2str)) rawOverwrite.\r\n].\r\nTextArea:writeLn=[\r\n    (Array:prototype:slice) ! (arguments) call [|cont|\r\n        // [cont==null]!then [cont=\"\"] execute.\r\n        // [cont==undef]!then [cont=\"\"] execute.\r\n        // [cont:each] ! then [\r\n            //     cont ! [|e| ! (e) writeLn ] each.\r\n        // ] else [\r\n            //     ! (cont) write newLine.\r\n        // ] execute.\r\n        ! (cont) (true) _write1\r\n    ] each.\r\n    ! autoResize\r\n].\r\nTextArea:_write1=[|cont br|\r\n    [!(cont) (Array) instanceof] ! then [\r\n        cont ! [|e| ! (e) (br) _write1 ] each.\r\n    ] else [\r\n        ! (cont) rawAppend.\r\n        [br]!then [! \"\\n\" rawAppend] execute.\r\n    ] execute.\r\n    this.\r\n].\r\n\r\nTextArea:newLine=[\r\n    ! (\"\\n\") rawAppend.\r\n].\r\nTextArea:clear=[! \"\" rawOverwrite.  ! autoResize].\r\n\r\nTextArea:readAsArray=[\r\n    !read  \"\\n\"  split [|e|e!=\"\"] select ([|e|\r\n        ! (e) str2num\r\n    ]!(self) bind)  map\r\n].\r\nTextArea:changeLine=[|no line|\r\n    !(! readAsArray(no) (line) set) overwrite\r\n].\r\n\r\nSelectMenu=UI!create.\r\nSelectMenu:action=[].\r\nSelectMenu:attachEvent=[|;t|\r\n    t=this.\r\n    element ! [|;num txt|\r\n        txt=t:element!\"option:selected\" find text.\r\n        num=t:element!val.\r\n        t ! (txt)(num) action\r\n    ] change.\r\n    element!([\r\n        element!\"0\"val.\r\n    ]!(self)bind)click.\r\n].\r\nSelectMenu:initialize=[|;args|\r\n    args=:window:Array:prototype:slice!(arguments)call.\r\n    optNum=0.\r\n    element=$!\"<select>\" create\r\n    (!(label) num2str) val\r\n    \"min-width\" \"100px\" css\r\n    \"font-size\" \"1.3em\" css\r\n    \"vertical-align\" \"top\" css\r\n    \"white-space\" \"nowrap\" css.\r\n    //\"position\" \"absolute\" css.\r\n    //(container) appendTo.\r\n    ! autoLayout.\r\n    args![|e|self!(e)add]each.\r\n].\r\nSelectMenu:add=[|;opt|\r\n    args=:window:Array:prototype:slice!(arguments)call.\r\n    args![|e|\r\n        [:window:Array!(e)isArray]!then[\r\n            e![|e_e|self!(e_e)add]each.\r\n        ]else[\r\n            opt=$!\"<option>\"create.\r\n            opt!\"value\"(self:optNum)attr.\r\n            opt!(e)text.\r\n            self:optNum=self:optNum+1.\r\n            self:element!(opt)append.\r\n        ]execute.\r\n    ]each.\r\n    self.\r\n].\r\n\r\n// !\"SelectMenu\" \"選択メニュー\"addAlias.\r\n// SelectMenu!\"add\" \"書く\"addAlias.\r\n\r\n// Field:inc=[|by|\r\n    //     by=[by] ! [1] or.\r\n    //     element ! ((element ! val)-0+by)  val.\r\n    \r\n// ]."]}