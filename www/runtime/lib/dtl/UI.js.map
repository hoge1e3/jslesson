{"version":3,"sources":["/Tonyu/Projects/Turtle/UI.dtl"],"names":[],"mappings":"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","sourcesContent":["// Dolittle\nScreen=! create.\nScreen:width?=[\n    $ ! (window) create width.\n].\nScreen:height?=[\n    $ ! (window) create height.\n].\nScreen:paint=[|c| \n    $ ! \"body\" create \"background-color\" (c+\"\") css.\n].\n\nUI=Actor ! create.\nUI:setTrans=[|;str|\n    str=\"postion:absolute;left:\"+(pos:x)+\";top:\"+(pos:y)+\";\".\n    element ! \"transform\" (str) attr\n    \"data-trans\" ((pos:x)+\",\"+(pos:y)) attr.\n    this.\n].\nUI:appear=[\n    [element] ! then [ element ! show] execute.\n    this.\n].\nUI:die=[\n    [element] ! then [ element ! hide] execute.\n    this.\n].\nUI:top=((Screen! height?)/2) - 20.\nUI:autoLayout=[|;o|\n    [last] ! then [\n        //o=last ! offset. \n        //!  (o:left + (last ! outerWidth)) (o:top) position.\n        console ! \"autoL\" (last! right?) (last ! top?) log.\n        ! (last ! right?) (last ! top?) moveTo\n    ] else [\n        !  (-(Screen ! width?) / 2+20) (top) moveTo. \n    ] execute.\n    //[UI:top!=undef] ! then [ element ! \"top\" (top) css. ] execute.\n    //UI:last=element.\n    UI:last=this.\n    //UI:top=(element ! offset):top.\n].\nUI:left?=[\n    [element] ! then [ (element ! offset):left-(Screen ! width?)/2 ] else [0] execute.  \n].\nUI:right?=[\n    (! left?) + (! width?)\n].\nUI:top?=[\n    [element] ! then [ -((element ! offset):top-(Screen ! height?)/2) ] else [0] execute.  \n].\nUI:bottom?=[\n    (! top?) - (! height?)\n].\nUI:width?=[//offsetWidth??\n    [element] ! then [ element ! outerWidth] else [0] execute.  \n].\nUI:height?=[\n    [element] ! then [ element ! outerHeight] else [0] execute.  \n].\nUI:nextLine=[|;top left|\n    [last] ! then [\n        console ! \"NL\" (Screen! width?) (last!bottom?) log.\n        left=-(Screen! width?) /2 + 20.\n        //top=(UI:top)-((UI:last) ! outerHeight).\n        top=last ! bottom?.\n        !(left) (top) moveTo.\n    ] execute.    \n    this.\n].\nUI:write=[|m|\n    [element] ! then [ element ! (m) text ] execute.\n    self\n].\nUI:str2int=[|s;r|\n    r=window ! (s) parseFloat.\n    [r==r] ! then [r] else [s] execute.\n].\nUI:readString=[\n    [element] ! then [element ! text] else [\"\"] execute.\n].\nUI:read=[\n    ! (! readString) str2int.\n].\nUI:inc=[|by|\n    by=[by] ! [1] or.\n    ! ( (! read)-0+by) write.\n].\nUI:dec=[|by|\n    by=[by] ! [1] or.\n    ! ( (! read)-by) write.\n].\nUI:moveBy=[|x y;oldx oldy|\n    oldx=(self:element!0 get):offsetLeft.\n    oldy=(self:element!0 get):offsetTop.\n    self!(oldx+x) (oldy-y)position.\n    self\n].\nUI:moveTo=[|x y;w h|\n    w=0.//($ ! (window) create width)/2.\n    h=0.//($ ! (window) create height)/2.\n    //console ! \"WIDH\" (w) (h) log.\n    self:element!\"top\" ((h-y)+\"px\") css\n    \"left\" ((w+x)+\"px\") css.\n    self\n].\nUI:container=$ ! \"<div>\" create \"body\" appendTo \n\"position\" \"absolute\" css \n\"left\" ( (Screen!width?) / 2) css \n\"top\" ( (Screen!height?) / 2) css.\n$ ! (window) create ([\n    UI:container !\n    \"left\" ( (Screen!width?) / 2) css \n    \"top\" ( (Screen!height?) / 2) css.\n] ! (this) bind) resize.\nLabel=UI!create.\nLabel:left=0.\nLabel:initialize=[|label;t|\n    t=this.\n    [label==undef]!then [label=! read] execute.\n    element=$!\"<div>\"create\n    (label+\"\") text\n    \"position\" \"absolute\" css\n    \"font-size\" \"1.0em\" css\n    (container) appendTo.\n    !autoLayout\n].\nLabel:fontColor=[|r g b;args c|\n    args=:window:Array:prototype:slice!(arguments)call.\n    [args:length==1]!then[\n        c=r.    \n    ]else[\n        c=Color!(r)(g)(b)create.\n    ]execute.\n    self:element!\"color\" (c)css.\n    self\n].\nLabel:fontSize=[|s|\n    self:element!\"font-size\" (s/10+\"em\")css.\n    self\n].\n\nButton=UI ! create.\nButton:action=[].\n//Button ! \"action\" addEventType.\nButton:left=0.\nButton:initialize=[|label key;t|\n    t=this.\n    [label==undef]!then [label=! read] execute.\n    element=$!\"<button>\" create \n    (label) text \n    \"position\" \"absolute\" css \n    [t ! action] click\n    (container) appendTo.\n    ! autoLayout.\n    /*本多追加分*/\n    element! \"font-size\" \"1.0em\" css\n    \"border-style\" \"none\" css.\n    :window![:window:document!\"keydown\"[|k|\n            [k:keyCode==(:Button!(key)toKeyCode)]!then[t!action]execute.\n    ](:true)addEventListener.]$.\n    /*以上*/\n].\n/*本多追加分*/\nButton:paint=[|r g b;args c|\n    args=:window:Array:prototype:slice!(arguments)call.\n    [args:length==1]!then[\n        c=r.    \n    ]else[\n        c=Color!(r)(g)(b)create.\n    ]execute.\n    self:element!\"background-color\" (c)css.\n    self\n].\nButton:fontColor=[|r g b;args c|\n    args=:window:Array:prototype:slice!(arguments)call.\n    [args:length==1]!then[\n        c=r.    \n    ]else[\n        c=Color!(r)(g)(b)create.\n    ]execute.\n    self:element!\"color\" (c)css.\n    self\n].\nButton:fontSize=[|s|\n    self:element!\"font-size\" (s/10+\"em\")css.\n    self\n].\n/*Button:width?=[\n    (self:element!0 get):offsetWidth.\n].\nButton:height?=[\n    (self:element!0 get):offsetHeight.\n].*/\nButton:size=[|w h|\n    self:element!\"width\" (w+\"px\") css\n    \"height\" (h+\"px\") css.\n    self\n].\nButton:toKeyCode=[|k|\n    k=(k+\"\") ! toUpperCase.\n    [k==\"LEFT\"]!then[37]\n    else[k==\"UP\"]then[38]\n    else[k==\"RIGHT\"]then[39]\n    else[k==\"DOWN\"]then[40]\n    else[k==\"SPACE\"]then[32]execute.\n].\nButton:inc=[|;label|\n    label=(self:element!0 get):innerHTML.\n    [label!(:window!\"^([0-9０-９]+)$\"RegExp)match]!then[\n        self:element!((:window!(label)parseInt)+1)text.\n    ]execute.\n    self\n].\n/*以上*/\n/*Button:write=[|m|\n    [element] ! then [element ! (m) val] execute.\n    self\n].\nButton:read=[\n    [element] ! then [element ! val] else [\"\"] execute.\n].*/\n\nField=UI! create.\nField:initialize=[|label|\n    [label==undef]!then [label=! read] execute.\n    element=$!\"<input>\" create \n    (label) val \n    \"position\" \"absolute\" css \n    (container) appendTo.\n    ! autoLayout.\n].\nField:write=[|m|\n    [element] ! then [element ! (m) val] execute.\n    self\n].\nField:readString=[\n    [element] ! then [element ! val] else [\"\"] execute.\n].\n/*Field:inc=[|by|\n    by=[by] ! [1] or.\n    element ! ((element ! val)-0+by)  val.\n    \n].*/\n"]}