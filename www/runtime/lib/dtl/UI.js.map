{"version":3,"sources":["/Tonyu/Projects/Turtle/UI.dtl"],"names":[],"mappings":"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","sourcesContent":["// Dolittle\nUI=Actor !create.\nUI:setTrans=[|;str|\n    str=\"postion:absolute;left:\"+(pos:x)+\";top:\"+(pos:y)+\";\".\n    element ! \"transform\" (str) attr\n    \"data-trans\" ((pos:x)+\",\"+(pos:y)) attr.\n    this.\n].\nUI:autoLayout=[\n    [last] ! then [\n        element ! \n        \"left\" \n        ( (last ! offset):left + (last ! outerWidth) ) css.\n    ] execute.\n    UI:last=element.\n].\n\nLabel=UI!create.\nLabel:left=0.\nLabel:initialize=[|label;t|\n    t=this.\n    element=$!\"<div>\"create\n    (label+\"\") text\n    \"position\" \"absolute\" css\n    \"font-size\" \"1.0em\" css\n    \"body\" appendTo.\n    !autoLayout\n].\nLabel:write=[|m|\n    element ! (m) text.\n    self\n].\nLabel:inc=[|by|\n    by=[by] ! [1] or.\n    element ! ((element ! text)-0+by)  text.\n    self\n].\nLabel:fontColor=[|r g b;args c|\n    args=:window:Array:prototype:slice!(arguments)call.\n    [args:length==1]!then[\n        c=r.    \n    ]else[\n        c=Color!(r)(g)(b)create.\n    ]execute.\n    self:element!\"color\" (c)css.\n    self\n].\nLabel:moveTo=[|x y;oldx oldy|\n    oldx=(self:element!0 get):offsetLeft.\n    oldy=(self:element!0 get):offsetTop.\n    self!(oldx+x) (oldy-y)position.\n    self\n].\nLabel:position=[|x y;w h|\n    w=(:window!\"#canvas\"$):context:documentElement:clientWidth/2.\n    h=(:window!\"#canvas\"$):context:documentElement:clientHeight/2.\n    self:element!\"top\" ((h-y)+\"px\") css\n    \"left\" ((w+x)+\"px\") css.\n    self\n].\n\nButton=UI ! create.\nButton:action=[].\n//Button ! \"action\" addEventType.\nButton:left=0.\nButton:initialize=[|label key;t|\n    t=this.\n    //element=! \"foreignObject\" createSVGElem \n    //\"transform\" \"scale(1 -1)\"  attr\n    //(svg_g) appendTo.\n    //div=$!\"<div>\" create \n    //\"xmlns\" \"http://www.w3.org/1999/xhtml\" attr\n    //(element) appendTo.\n    //belement=$!\"<button>\" create \n    //(label) text \n    //[t ! 動作.  t! action  ] click\n    //(div) appendTo.\n    element=$!\"<button>\" create \n    (label) text \n    \"position\" \"absolute\" css \n    [t ! action] click\n    \"body\" appendTo.\n    ! autoLayout.\n    /*本多追加分*/\n    element! \"font-size\" \"1.0em\" css\n    \"border-style\" \"none\" css.\n    :window![:window:document!\"keydown\"[|k|\n            [k:keyCode==(:Button!(key)toKeyCode)]!then[t!action]execute.\n    ](:true)addEventListener.]$.\n    /*以上*/\n].\n/*本多追加分*/\nButton:paint=[|r g b;args c|\n    args=:window:Array:prototype:slice!(arguments)call.\n    [args:length==1]!then[\n        c=r.    \n    ]else[\n        c=Color!(r)(g)(b)create.\n    ]execute.\n    self:element!\"background-color\" (c)css.\n    self\n].\nButton:fontColor=[|r g b;args c|\n    args=:window:Array:prototype:slice!(arguments)call.\n    [args:length==1]!then[\n        c=r.    \n    ]else[\n        c=Color!(r)(g)(b)create.\n    ]execute.\n    self:element!\"color\" (c)css.\n    self\n].\nButton:fontSize=[|s|\n    self:element!\"font-size\" (s/10+\"em\")css.\n    self\n].\nButton:width?=[\n    (self:element!0 get):offsetWidth.\n].\nButton:height?=[\n    (self:element!0 get):offsetHeight.\n].\nButton:size=[|w h|\n    self:element!\"width\" (w+\"px\") css\n    \"height\" (h+\"px\") css.\n    self\n].\nButton:position=[|x y;w h|\n    w=(:window!\"#canvas\"$):context:documentElement:clientWidth/2.\n    h=(:window!\"#canvas\"$):context:documentElement:clientHeight/2.\n    self:element!\"top\" ((h-y)+\"px\") css\n    \"left\" ((w+x)+\"px\") css.\n    self\n].\nButton:moveTo=[|x y;oldx oldy|\n    oldx=(self:element!0 get):offsetLeft.\n    oldy=(self:element!0 get):offsetTop.\n    self!(oldx+x) (oldy-y)position.\n    self\n].\nButton:toKeyCode=[|k|\n    [[k==\"LEFT\"]![k==\"Left\"][k==\"left\"]or]!then[37]\n    else[[k==\"UP\"]![k==\"Up\"][k==\"up\"]or]then[38]\n    else[[k==\"RIGHT\"]![k==\"Right\"][k==\"right\"]or]then[39]\n    else[[k==\"DOWM\"]![k==\"Down\"][k==\"down\"]or]then[40]\n    else[[k==\"SPACE\"]![k==\"Space\"][k==\"space\"]or]then[32]execute.\n].\nButton:inc=[|;label|\n    label=(self:element!0 get):innerHTML.\n    [label!(:window!\"^([0-9０-９]+)$\"RegExp)match]!then[\n        self:element!((:window!(label)parseInt)+1)text.\n    ]execute.\n    self\n].\n/*以上*/\n\nField=UI! create.\nField:initialize=[|label|\n    element=$!\"<input>\" create \n    (label) val \n    \"position\" \"absolute\" css \n    \"body\" appendTo.\n    ! autoLayout.\n].\nField:inc=[|by|\n    by=[by] ! [1] or.\n    element ! ((element ! val)-0+by)  val.\n    \n].\nScreen=! create.\nScreen:width?=[\n    $ ! (window) create width.\n].\nScreen:height?=[\n    $ ! (window) create height.\n].\nScreen:paint=[|c| \n    $ ! \"body\" create \"bgcolor\" (c) attr.\n].\n\n"]}