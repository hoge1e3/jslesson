{"version":3,"sources":["/home/devel/devel/Turtle/Turtle.dtl"],"names":[],"mappings":"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","sourcesContent":["//NOGENERATOR\n// system ! \"Actor\" use.\n//test3\nturtle=Actor ! create.\nTurtle=turtle.\nTurtle:baseURL=window:runtimePath+\"images/\".\nTurtle:img=\"ayumi.gif\".\nturtle:action=[/*:window!\"aa\"alert*/].\nturtle:initialize=[|;t|\n    t=this.//@hoge1e3\n    element= ! \"image\" createSVGElem.\n    element ! 0 get \n    \"http://www.w3.org/1999/xlink\" \"href\" \n    (baseURL+img) setAttributeNS.\n    !adjustImage.\n    ! (baseURL+img) getImageSize .\n    element ! \"transform\" \"scale(1,-1)\" attr.\n    element ! [t!action] click.//@hoge1e3\n    [_lineCol]!else[! \"black\" lineColor]execute.\n    !newLineG.\n    isShowing=false.\n    !appear.\n    self:pos=self:pos!(Vec2:O)add.\n    self:dir=self:dir.\n].\nturtle:width=32.\nturtle:height=32.\nturtle:_lineWidth=3.\nturtle:isPenDown=true.\n\nturtle:adjustImage=[\n    element ! \"width\" (width+\"px\") attr\n    \"height\" (height+\"px\") attr\n    \"x\" (-width/2) attr\n    \"y\" (-height/2) attr.\n].\nturtle:getImageSize=[|url;t|\n    t=this.\n    $ ! \"<img>\" create \"display\" \"none\" css [|;j|\n        j=(t:$) ! (this) create.\n        t:width=j ! width.\n        t:height=j ! height.\n        //(t:console) ! \"getims\" (t:width) (t:height) log.\n        t!adjustImage.\n        j!remove.\n    ] load \"src\" (url) attr \"body\" appendTo.\n].\nturtle:newLineG=[\n    lineG=! \"g\" createSVGElem (svg_g) appendTo.\n    lineG ! \"transform\" (\"translate(\"+(pos:x)+\" \"+(pos:y)+\")\") attr.\n    lineOrig=pos.\n].\nturtle:addPath=[|pos1 pos2;line|// pos:world coord\n    pos1=pos1 ! (lineOrig) sub.\n    pos2=pos2 ! (lineOrig) sub.\n    line=! \"line\" createSVGElem\n    \"x1\" (pos1:x) attr \"y1\" (pos1:y) attr\n    \"x2\" (pos2:x) attr \"y2\" (pos2:y) attr \n    \"style\" (\"stroke:\"+_lineCol+\";stroke-width:\"+_lineWidth) attr\n    \"data-width\" (_lineWidth) attr\n    (lineG) appendTo.\n    this.\n].\nturtle:addPathAfterAction=[|a;pos1|\n    pos1=pos.\n    a ! execute.\n    //console ! \"PEND\" (isPenDown) log.\n    //[[isShowing]![isPendown]or] ! then  // <-これだとペンなしが効かなくなるよー\n    [isPenDown] ! then [\n        ! (pos1) (pos) addPath.\n    ] execute.\n    this.\n].\nturtle:forward=[|by|\n    ! [(Actor:forward) ! (this) (by) call.] addPathAfterAction.\n].\nturtle:moveTo=[|x y|\n    ! [(Actor:moveTo) ! (this) (x) (y) call.] addPathAfterAction.\n].\nturtle:circle=[|r;d|\n    d=r * 0.1745328.\n    !(d/2)backward.\n    [!(d)forward 10 rightTurn] !36 repeat。\n    !(d/2)forward\n].\nturtle:closePath=[\n    [isPenDown]!then[\n        //! (pos) (lineOrig) addPath.\n        ! (lineOrig:x)(lineOrig:y)moveTo.\n    ]execute.\n    self.\n].\nturtle!\"closePath\" \"close\" addAlias.\nturtle:lineColor=[|col|\n    [col]!then[_lineCol=col]execute.\n    this.\n].\nturtle:lineWidth=[|w|\n    w=!(w)num.\n    _lineWidth=w.this.\n].\nturtle:makeFigure=[|col;r|\n    r=Figure ! (this) create.\n    [col]! then[r!(col) paint]execute.\n    ! newLineG.\n    r.\n].\nturtle:paint=[|col|\n    !(col) makeFigure.\n].\nturtle:penDown=[\n    [isPenDown]!then [] else [isPenDown=true. !newLineG] execute. \n    this\n].\nturtle:penUp=[isPenDown=false.this.].\nturtle:setShape=[|url|\n    self:img=url.\n    url=[url ! \"https?\" match] ! then [url] else [baseURL+url] execute.\n    element ! 0 get \n    \"http://www.w3.org/1999/xlink\" \"href\" \n    (url) setAttributeNS.\n    ! (url) getImageSize.\n    this.\n].\nturtle ! \"setShape\" \"change\" addAlias.\nturtle:setTrans=[|;str|\n    str=\"translate(\"+(pos:x)+\" \"+(pos:y)+\") \".\n    str=str+\"rotate(\"+dir+\") \".\n    str=str+\"scale(\"+_scale+\" \"+(0-_scale)+\") \".\n    element ! \"transform\" (str) attr\n    \"data-trans\" ((pos:x)+\",\"+(pos:y)+\",\"+dir) attr.\n    [isShowing] ! then [ ! checkCrash ] execute.\n    this.\n].\nturtle:polygon=[|d n|\n    [self!(d)forward(360/n)rightturn]!(n)repeat.\n].\n:action=[].\n:action:isEventHandler=true.\n:click=[].\n:click:isEventHandler=true.\nturtle:setAction=[|f|\n    [(!(f)typeof)==\"function\"]!then[\n        self:action=f.    \n    ]execute.\n    self.\n]."]}