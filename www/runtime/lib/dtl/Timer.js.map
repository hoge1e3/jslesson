{"version":3,"sources":["/Tonyu/Projects/Turtle/Timer.dtl"],"names":[],"mappings":"aACC;CACA,gBAAS,SAAK;CACd,gBAAS,SAHR;;CAAA,AAIG,IAAK,iBAJP,sBAIc;;QAJd,AAIgB;;QAJjB,AAKG;;CAGJ;CACA,aAAM,iBALoB;CAM1B,aAAM,cANoB;CAO1B,aAAM,aAXL,sBAWgB;;CAXhB,AAWkB,IAAK,iBAXvB,AAWoC;QAXpC,AAWsC;;CACvC,aAAM,UAZL,sBAYa;;CAZb,AAYe,IAAK,cAZpB,AAY8B;QAZ9B,AAYgC;;CACjC,aAAM,MAAG,uBAAS,cAAO,KAAE;CAC3B,aAAM,SAdL;;;CAeD,aAAM,YAfL,sBAee;;;;;;CAff,AAgBG,EAhBH,AAgBK;CAhBL,AAiBG,EAjBH,AAiBK,CAAE;CAjBP,AAkBG,EAlBH,AAkBK,CAAE;CAlBP,AAmBG,EAnBH;CAoBI,gBAAS,iBApBb,AAoBmB;CApBnB,AAqBG,CAAE,MArBL,AAqBO,CAAE,cArBR;;;CAAD,AAsBO,CAAE,SAtBP;;QAsBc,iCAtBhB,AAsBwB,CAAE;;CAtBzB,AAuBM,EAAG,uBAAS,cAAO,KAAE;CAvB5B,AAwBO,CAAE,QAAK,+BAxBZ;;CAAF,AAyBW,cAzBX,AAyBc;CAzBd,AA0BW,GA1BX,AA0Ba,EA1Bb;QAAG;;SAAH,AA2BY,EA3BZ,AA2Bc;yBA3BX;;CAAH,AA4Be;QA5Bd,AA6Bc;;KA7Bf,AA+BU;QA/BT,AAgCM;;QAhCP,AAkCG;;QAEJ,aAAM,kBApCL,sBAoCqB;;CApCrB,AAqCG,IAAK,cArCP;;QAAD,AAqCW;;QArCX,AAsCG","sourcesContent":["// Dolittle\nalltimer=!create.\nalltimer:list=Array!create.\nalltimer:stop=[\n    self:list![|i|i!stop.]each.\n    self.\n].\n\nTimer=!create.\nTimer:interval_val=100.\nTimer:times_val=100.\nTimer:interval=[|i|self:interval_val=i.self].\nTimer:times=[|t|self:times_val=t.self].\nTimer:d=:system!(:window:$:Deferred)new resolve.\nTimer:stop=[].\nTimer:execute=[|f;s t i c|\n    s=self.\n    t=s:times_val.\n    i=s:interval_val.\n    c=1.\n    :alltimer:list!(s)add.\n    s:d=s:d![|;d|\n        s:stop=[:window!(s:id)clearInterval].\n        d=:system!(:window:$:Deferred)new.\n        s:id=(:window)![\n            f!(c)execute.\n            c=c+1.\n            [c>t]!then[\n                s!stop.\n                d!resolve.\n            ]execute.\n        ] (i) setInterval.\n        d.\n    ]then.\n    self.\n].\nTimer:after_execute=[|f|\n    self:d![f!execute]then.\n    self.\n]."]}