{"version":3,"sources":["SysDebugger_concat.js"],"names":["requirejs","require","define","undef","main","req","makeMap","handlers","defined","waiting","config","defining","hasOwn","Object","prototype","hasOwnProperty","aps","slice","jsSuffixRegExp","hasProp","obj","prop","call","normalize","name","baseName","nameParts","nameSegment","mapValue","foundMap","lastIndex","foundI","foundStarMap","starI","i","j","part","baseParts","split","map","starMap","length","nodeIdCompat","test","replace","charAt","concat","splice","join","makeRequire","relName","forceSync","args","arguments","push","apply","makeLoad","depName","value","callDep","Error","splitPrefix","prefix","index","indexOf","substring","makeRelParts","relParts","plugin","parts","relResourceName","f","n","pr","p","exports","e","module","id","uri","makeConfig","deps","callback","cjsModule","ret","usingExports","callbackType","load","undefined","alt","setTimeout","cfg","_defined","amd","jQuery","window","global","self","this","TonyuBuilderClient","r","t","o","c","u","a","code","1","root","Worker","WS","SourceFiles","FileMap","NS2DepSpec","FS","BuilderClient","[object Object]","prj","url","worker","match","Math","random","w","Wrapper","fileMap","getOutputFile","getDir","debugger","srcraw","exec","path","convert","localPrjDir","n2files","sourceFiles","exported","base","data","k","relPath","text","opt","getOptionsFile","console","log","ns2depspec","exportFiles","getDependingProjects","outputDir","up","newDep","dep","ns","getNamespace","has","namespace","out","relOfOut","rel","outputFile","JSON","parse","compiler","dependingProjects","stringify","inited","files","exportWithDependingFiles","prjDir","remotePrjDir","run","locale","add","local","remote","init","content","resetFiles","fullCompile","partialCompilable","compres","sf","saveAs","convertError","noexec","clean","from","to","changed","val","convertFromWorkerPath","get","rm","isTError","src","ee","watch","async","ext","nsraw","partialCompile","onCompiled","../lang/SourceFiles","../lib/FileMap","../lib/WorkerServiceB","../lib/root","../project/NS2DepSpec","2","ProjectFactory","CompiledProject","langMod","StackDecoder","SourceMap","DebuggerCore","../browser/DebuggerCore","../lang/StackDecoder","../lang/langMod","../lang/source-map","../project/CompiledProject","../project/ProjectFactory","./BuilderClient","3","Tonyu","Debugger","Events","type","evt","getHandler","forEach","noCatch","onRuntimeError","pop","setErrorHandler","error","stack","decode","message","fire","globals","$currentProject","currentProject","$debugger","loadClasses","ID","classes","create","className","getClass","on","bind","parent","onTonyuDebuggerReady","4","vm","SourceFile","sourceMap","params","toString","outf","mapFile","sibling","options","Promise","resolve","reject","document","b","Blob","URL","createObjectURL","s","createElement","setAttribute","addEventListener","url2SourceFile","body","appendChild","tmpdir","uniqFile","importScripts","F","Function","compileFunction","functions","sourceFile","5","S","StackTrace","tr","fromError","offline","fileName","line","lineNumber","column","columnNumber","bias","SourceMapConsumer","GREATEST_LOWER_BOUND","pos","originalPositionFor","source","ex","getSourceMapConsumer","sourceMapConsumer","./SourceFiles","./source-map","./stacktrace","6","getOptions","myNsp","getEXT","7","factory","modules","installedModules","__webpack_require__","moduleId","loaded","m","SourceMapGenerator","SourceNode","base64VLQ","util","ArraySet","MappingList","aArgs","_file","getArg","_sourceRoot","_skipValidation","_sources","_names","_mappings","_sourcesContents","_version","fromSourceMap","aSourceMapConsumer","sourceRoot","generator","file","eachMapping","mapping","newMapping","generated","generatedLine","generatedColumn","relative","original","originalLine","originalColumn","addMapping","sources","sourceContentFor","setSourceContent","_validateMapping","String","aSourceFile","aSourceContent","toSetString","keys","applySourceMap","aSourceMapPath","newSources","newNames","unsortedForEach","aGenerated","aOriginal","aSource","aName","_serializeMappings","next","nameIdx","sourceIdx","previousGeneratedColumn","previousGeneratedLine","previousOriginalColumn","previousOriginalLine","previousName","previousSource","result","mappings","toArray","len","compareByGeneratedPositionsInflated","encode","_generateSourcesContent","aSources","aSourceRoot","key","toJSON","version","names","sourcesContent","base64","aValue","digit","encoded","vlq","toVLQSigned","VLQ_BASE","aStr","aIndex","aOutParam","continuation","shifted","strLen","shift","charCodeAt","rest","intToCharMap","number","TypeError","charCode","aDefaultValue","urlRegexp","dataUrlRegexp","urlParse","aUrl","scheme","auth","host","port","urlGenerate","aParsedUrl","aPath","isAbsolute","aRoot","aPathUrl","aRootUrl","joined","level","lastIndexOf","Array","substr","supportsNullProto","identity","isProtoString","strcmp","aStr1","aStr2","fromSetString","compareByOriginalPositions","mappingA","mappingB","onlyCompareOriginal","cmp","compareByGeneratedPositionsDeflated","onlyCompareGenerated","_array","_set","fromArray","aArray","aAllowDuplicates","set","size","getOwnPropertyNames","sStr","isDuplicate","idx","at","aIdx","_sorted","_last","aCallback","aThisArg","aMapping","lineA","lineB","columnA","columnB","sort","binarySearch","quickSort","aSourceMap","sections","IndexedSourceMapConsumer","BasicSourceMapConsumer","Mapping","lastOffset","_sections","offset","offsetLine","offsetColumn","generatedOffset","consumer","__generatedMappings","defineProperty","_parseMappings","__originalMappings","_charIsMappingSeparator","GENERATED_ORDER","ORIGINAL_ORDER","LEAST_UPPER_BOUND","aContext","aOrder","context","_generatedMappings","_originalMappings","allGeneratedPositionsFor","needle","_findMapping","lastColumn","smc","generatedMappings","destGeneratedMappings","destOriginalMappings","srcMapping","destMapping","str","segment","end","cachedSegments","temp","originalMappings","aNeedle","aMappings","aLineName","aColumnName","aComparator","aBias","search","computeColumnSpans","nextMapping","lastGeneratedColumn","Infinity","hasContentsOfAllSources","some","sc","nullOnMissing","fileUriAbsPath","generatedPositionFor","constructor","sectionIndex","section","every","generatedPosition","sectionMappings","adjustedMapping","aHaystack","aCompare","recursiveSearch","aLow","aHigh","mid","floor","swap","ary","x","y","doQuickSort","comparator","low","high","round","pivot","q","REGEX_NEWLINE","isSourceNode","aLine","aColumn","aChunks","children","sourceContents","fromStringWithSourceMap","aGeneratedCode","aRelativePath","node","remainingLines","shiftNextLine","lastGeneratedLine","lastMapping","nextLine","addMappingWithCode","aChunk","isArray","chunk","prepend","unshift","walk","aFn","aSep","newChildren","replaceRight","aPattern","aReplacement","lastChild","walkSourceContents","toStringWithSourceMap","sourceMappingActive","lastOriginalSource","lastOriginalLine","lastOriginalColumn","lastOriginalName","sourceContent","8","l","ErrorStackParser","StackFrame","stacktrace","parseOpera","parseV8OrIE","parseFFOrSafari","extractLocation","filter","functionName","parseOpera9","parseOpera11","parseOpera10","stackframe","StackGenerator","backtrace","maxStackSize","callee","RegExp","$1","caller","isNaN","parseFloat","isFinite","toUpperCase","getArgs","setArgs","getEvalOrigin","evalOrigin","setEvalOrigin","getFunctionName","getFileName","getLineNumber","getColumnNumber","Boolean","Number","./util","./base64","9","g","h","d","v","_","C","./array-set","./base64-vlq","./binary-search","./quick-sort","10","11","StackTraceGPS","XMLHttpRequest","open","onerror","onreadystatechange","readyState","status","responseText","send","atob","sourceCache","sourceMapConsumerCache","ajax","_atob","_get","method","then","_getSourceMapConsumer","pinpoint","getMappedLocation","findFunctionName","min","source-map/lib/source-map-consumer","12","generateArtificially","getSync","all","instrument","__stacktraceOriginalFn","deinstrument","report","setRequestHeader","headers","error-stack-parser","stack-generator","stacktrace-gps","sidesList","sides","fromSide","toSide","startsWith","idseq","queue","readyQueue","reverse","procReverse","ready","paths","postMessage","sendError","err","assign","je","isReady","succ","readyPromise","terminate","WorkerService","install","func","serv","addType","createCore","include","getOutputURL","ctx","loadDependingClasses","urlBased","outJS","exists","outputFileBased","dir","createDirBasedCore","addDependencyResolver","spec","./ProjectFactory","13","hashOrArray","array","Symbol","iterator","14","resolvers","types","fromDependencySpec","res","ProjectCore","dprj","mod","dirBasedMod","rdir","isDir","TPR","lang","outF","recursive","endsWith","nb","truncExt","ja","superClassIsUndefined","classIsUndefined","invalidLeftValue","fieldDeclarationRequired","duplicateKeyInObjectLiteral","cannotUseStringLiteralAsAShorthandOfObjectValue","breakShouldBeUsedInIterationOrSwitchStatement","continueShouldBeUsedInIterationStatement","cannotUseObjectLiteralAsTheExpressionOfStatement","undefinedMethod","notAWaitableMethod","circularDependencyDetected","cannotWriteReturnInTryStatement","cannotWriteBreakInTryStatement","cannotWriteContinueInTryStatement","cannotWriteTwoOrMoreCatch","lexicalError","parseError","ambiguousClassName","cannotInvokeMethod","notAMethod","notAFunction","uninitialized","newIsRequiredOnInstanciate","bootClassIsNotFound","infiniteLoopDetected","en","dict","R","mesg","format","P","parseInt","buildMesg","englishify","setLocale","Assertion","failMesg","flatten","$a","_regedType","registerType","MODE_STRICT","MODE_DEFENSIVE","MODE_BOOL","fail","_mode","isDefensive","isBool","subAssertion","assert","eq","ne","isset","is","_assert_func","na","ty","ensureError","action","setMode","mode","isStrict","top","and","TonyuThreadF","IT","performance","now","Date","TT","klass","handleEx","alert","addMeta","fn","extend","getMeta","removeMeta","classMetas","removeMetaAll","meta","mm","ensureNamespace","nsp","propReg","property","isPropertyMethod","methodFor","bless","dst","superclass","includes","fullName","shortName","methodsF","methods","decls","nso","chkclass","chkmeta","isShim","extenderFullName","extender","includesRec","extendFrom","initialize","useNew","nonShimParent","prot","props","fbk","methodInfo","fiber","isTonyuObject","desc","tter","getClassInfo","initFullName","isSourceChanged","tonyu","nodeTimestamp","lastUpdate","shouldCompile","hasSemanticError","dks","getDependingClasses","found","nn","nr","lastLoopCheck","resetLoopCheck","disableTime","thread","setGlobal","getGlobal","timeout","bindFunc","meth","thiz","not_a_tonyu_object","hasKey","invokeMethod","objName","callFunc","fName","checkNonNull","bootClassName","bootClass","runMode","boot","runningObj","checkLoop","VERSION","A","../lib/R","../lib/assert","./TonyuThread","./tonyuIterator","idSeq","TonyuThread","frame","_isDead","cnt","_isWaiting","fSuspended","tryStack","preemptionTime","onEndHandlers","onTerminateHandlers","age","isDead","_threadGroup","objectPoolAge","tGrpObjectPoolAge","isDeadThreadGroup","frameFunc","prev","methodName","pc","enter","th","termStatus","notifyEnd","retVal","exit","notifyTermination","tst","fb","st","exception","promise","kill","lastEx","catchPC","eventSpec","suspend","lastEvent","remove","steps","msg","gotoCatch","stepsLoop","wrapError","re","sv","currentThread","preempted","isAlive","SYMIT","ArrayValueIterator","ArrayKeyValueIterator","ObjectKeyIterator","elems","ObjectKeyValueIterator","NativeIteratorWrapper","it","done","arity","tonyuIterator","PP","img","height","width","newImage","getContext","drawImage","pixels","getImageData","getPixel","cv","imagePixelData","ofs","G","B","setPixel","parse1Pattern","isParseError","image","hex","trans","dx","dy","PatterParseError","sx","sy","newim","nc","newImD","newD","di","ey","putImageData","yy","xx","boundsInSrc","resMod","reqjsSeq","def","reqs","getModuleInfo","reqsFromFunc","setReqs","doLoad","getObjs","loadIfAvailable","reqm","revReqs","ms","notifyLoaded","dependingMod","loadedModuleName","cur","postfix","PathUtil","driveLetter","Path","isPath","Absolute","isAbsolutePath","Relative","Dir","AbsDir","File","SEP","isChildOf","child","fixSep","hasDriveLetter","isURL","protocol","hostPort","isRelativePath","hasBackslashSep","directorify","filify","splitPath","truncSEP","resPath","ps","old","backslashifyAfter","isRelative",".png",".gif",".jpeg",".jpg",".ico",".wav",".mp3",".ogg",".midi",".mid",".mzo",".txt",".html",".htm",".css",".js",".json",".zip",".swf",".pdf",".doc",".xls",".ppt",".docx",".docm",".dotx",".dotm",".xlsx",".xlsm",".xltx",".xltm",".xlsb",".xlam",".pptx",".pptm",".potx",".potm",".ppsx",".ppsm",".ppam",".tonyu",".c",".dtl","DU","DUBRK","same","isNativePromise","catch","isJQPromise","isPromise","useJQ","throwNowIfRejected","state","assertResolved","resolved","ensureDefer","isDeferred","directPromise","funcPromise","$","Deferred","external","rej","throwPromise","throwF","each","loop","brk","objs","when1","deff1","deff2","r1","dr","r2","tryLoop","tryEach","documentReady","callbackToPromise","NOP","E","errorHandler","setE","begin","try","DeferredUtil","M","fstypes","stub","addFSType","fsgen","availFSTypes","fstype","isReadOnly","supportsSync","resolveFS","getRootFS","mounted","rootFS","mountPoint","inMyFS","getReturnTypes","getContent","ArrayBuffer","toBin","byteLength","getContentAsync","setContent","setContentAsync","appendContent","appendContentAsync","getMetaInfo","setMetaInfo","info","mkdir","touch","opendir","opendirAsync","cp","assertExist","srcIsDir","dstfs","dstIsDir","cont","mv","link","getURL","onAddObserver","delegateMethods","fs","assertWriteable","getContentType","toLowerCase","getBlob","blobType","binType","hasPlainText","toPlainText","isText","find","ls","ep","resolveLink","isLink","np","opendirEx","dest","getDirTree","style","excludes","relP","getQueryString","default_","qs","location","href","decodeURIComponent","privatize","__privatized","_global","download","opts","xhr","responseType","onload","response","corsEnabled","click","dispatchEvent","MouseEvent","createEvent","initMouseEvent","HTMLAnchorElement","blob","webkitURL","origin","target","revokeObjectURL","navigator","msSaveOrOpenBlob","autoBom","warn","fromCharCode","bom","popup","title","innerText","force","isSafari","HTMLElement","safari","isChromeIOS","userAgent","FileReader","reader","onloadend","readAsDataURL","Util","Content","plainText","contentType","plain","buffer2ArrayBuffer","isBuffer","Uint8Array","buffer","arrayBuffer2Buffer","Buffer","bin","isNodeBuffer","bufType","nodeBuffer","arrayBuffer","looksLikeDataURL","hasNodeBuffer","DataURL","setBuffer","str2utf8bytes","toArrayBuffer","toNodeBuffer","toURL","hasBin","utf8bytes2str","hasURL","hasArrayBuffer","toBlob","Base64_To_ArrayBuffer","dic","num","ary_buffer","ary_u8","Base64_From_ArrayBuffer","bytes","encodeURIComponent","dataURL2bin","bin2dataURL","head","dataHeader","dataURL","ctype","existsSync","NativeFS","rootPoint","process","cwd","available","Pro","toNativePath","readFileSync","statSync","pa","writeFileSync","appendFileSync","stat","mtime","getTime","mkdirSync","ts","readdirSync","nosep","isDirectory","rmdirSync","unlinkSync","utimesSync","apath","rfs","rpath","fpath","eventType","notifyChanged","close","LSFS","storage","useDirCache","dirCache","ramDisk","localStorage","resolveKey","getItem","setItem","removeItem","itemExists","getDirInfo","dinfos","dinfo","putDirInfo","trashed","ppath","pdinfo","_touch","removeEntry","removeEntryWithoutTrash","isRAM","getUsage","using","getCapacity","seq","KEY","lim","pow","ru","max","readOnly","cs","includeTrashed","pinfo","inf","noTrash","ajaxTransport","originalOptions","jqXHR","FormData","dataType","username","password","statusText","getAllResponseHeaders","abort","WebFS","readAsArrayBuffer","Env","expand","expandPath","FSClass","SFile","_path","isSFile","setPolicy","policy","_clone","getPolicy","_resolve","topdir","topDir","contains","bp","pathR","assertDir","pre","post","equals","act","isTrashed","metaInfo","assertExists","noFollowLink","removeWithoutTrash","getText","setText","ct","appendText","forceText","getDataURL","setDataURL","setBytes","getBytes","lines","copyFrom","copyTo","dstf","progress","echo","getResolvedLinkPath","moveFrom","moveTo","listFilesAsync","eachrev","fun","convertOptions","_listFiles","ord","order","cvt","excludesF","listFiles","nex","getFS","observe","addObserver","setBlob","sum","exportAsObject","importFromObject","_1","_2","handler","_act","RootFS","defaultFS","mount","fstab","_fstab","unmount","fact","_3","observers","remover","observer","ob","fsv","zip","setJSZip","JSZip","dstZip","jszip","folder","generateAsync","compression","unzip","arrayBuf","destDir","onCheckFile","overwrite","loadAsync","zipEntry","buf","_buf","redirectedTo","noop","_state","_handled","_value","_deferreds","doResolve","handle","deferred","_immediateFn","cb","onFulfilled","onRejected","newValue","finale","thisArg","_unhandledRejectionFn","reason","prom","arr","remaining","race","PR","Class","env","setEnvProvider","getEnvProvider","setEnv","getEnv","isFile","WebSite","tablet","mobile","Platform","loc","runType","WebSite_runType","VER","urlAliases","builtinAssetNames","images/Ball.png","images/base.png","pwidth","pheight","images/Sample.png","images/inputPad.png","images/neko.png","images/mapchip.png","pluginTop","sampleImg","isNW","__node_webkit","__nwjs","mp4Disabled","tonyuHome","PathSep","sep","TONYU_HOME","logdir","TONYU_LOGDIR","wwwDir","platform","ffmpeg","pkgInfo","TONYU_PROJECTS","projects","delimiter","prjDirs","kernelDir","compiledKernel","compiledTools","mapEditor2","setNS2DepSpec","uploadTmpUrl","newVersionUrl","quickUploadURL","scriptServer","sysVersion","projectEditorURL","setDefaultResource","BuiltinAssets","requireTries","nodeRequire","fsf","getPathSep","defaultResource","images","sounds","er","Assets","baseDir","mp3Disabled","oggf","asFile","urlTrailer","put","tonyu_app_version","IL","cache","resImgs","onLoad","resa","resImg","excludeEmpty","urlKey","proc","im","attr","pw","ph","rw","rh","parse1","imgDOM","ImageList","T2MediaLib","isMezonetSource","bgm","Mezonet","Source","isAudioBufferSourceNode","PicoAudio","isPicoAudio","_context","picoAudio","soundDataAry","bgmPlayerMax","bgmPlayerAry","masterVolume","seMasterVolume","bgmMasterVolume","playingAudio","audioVolume","audioTempo","audioDataAry","seSources","disabled","AudioContext","webkitAudioContext","T2MediaLib_BGMPlayer","allClearSoundData","dataAry","clearSoundData","allRemoveDecodedSoundData","soundData","isDecodeComplete","isDecoding","removeDecodedData","removeDecodedSoundData","getMasterVolume","setMasterVolume","vol","bgmPlayer","onChangeBGMMasterVolume","createSoundFromArray","array1","array2","T2MediaLib_SoundData","numOfChannels","audioBuffer","createBuffer","sampleRate","buffer1","getChannelData","buffer2","onDecodeComplete","loadSound","callbacks","isLoadAndDecode","audioContext","isSkipBeginning","initReverb","that","onLoadComplete","decodeSound","onError","errorID","fileData","isLoadComplete","decodedCallbacksAry","bgmPlayerId","onDecode","smf","parseSMF","retAry","searchOggLoop","tagLoopStart","tagLoopEnd","decodeAudioData","activate","isContextResumed","resume","isActivated","createBufferSource","connect","destination","start","noteOn","getSoundFileData","soundDataObj","getSoundDecodedData","decodedData","getCurrentTime","currentTime","playSE","pan","rate","loopStart","loopEnd","duration","playback","Start","volume","AudioBuffer","durationStart","createGain","createGainNode","gainNode","panNode","createPanner","playbackRate","panningModel","offset_adj","panAngle","panX","sin","PI","panZ","cos","positionX","positionY","positionZ","setPosition","gain","volumeValue","panValue","playStartTime","playOffset","plusTime","stop","noteOff","onended","event","stopSE","sourceObj","cancelScheduledValues","linearRampToValueAtTime","stopAllSE","getSEMasterVolume","setSEMasterVolume","getSEVolume","setSEVolume","getSERate","setSERate","getSEPan","setSEPan","isSELoop","setSELoop","getSELoopStartTime","setSELoopStartTime","getSELoopEndTime","setSELoopEndTime","playBGM","_getBgmPlayer","stopBGM","pauseBGM","resumeBGM","getBGMMasterVolume","setBGMMasterVolume","getBGMVolume","setBGMVolume","getBGMTempo","setBGMTempo","tempo","getBGMPan","setBGMPan","isBGMLoop","setBGMLoop","getBGMLoopStartTime","setBGMLoopStartTime","getBGMLoopEndTime","setBGMLoopEndTime","getBGMCurrentTime","getBGMLength","getPlayingBGMName","setOnBGMEndListener","listener","getPlayingBGMState","getBGMPicoAudio","isTagLoop","setTagLoop","getBGMPlayerMax","allStopBGM","allResetBGM","loadAudio","audio","Audio","play","createMediaElementSource","playAudio","startTime","pause","stopAudio","pauseAudio","resumeAudio","setAudioVolume","setAudioTempo","setAudioPosition","time","getAudioData","getAudioCurrentTime","getAudioLength","tagSize","startIdx","lengthIdx","loopLength","isMezonetPlayback","Playback","t2MediaLib","arg_id","playingBGMState","playingBGMStatePending","playingBGM","playingBGMName","bgmPause","bgmPauseTime","bgmPauseCurrentTime","bgmPauseTempo","bgmPauseLoop","bgmPauseLoopStart","bgmPauseLoopEnd","bgmVolume","bgmTempo","bgmPan","picoAudioSetDataBGMName","PICO_AUDIO_VOLUME_COEF","succFunc","pending","_setPlayingBGMState","_initPicoAudio","setData","initStatus","setLoop","bgmLengthTime","MAX_SAFE_INTEGER","setStartTime","Stop","setVolume","setRate","isLoop","time2","currenTime","minusTime","getTrackTime","states","setOnSongEndListener","isNone","isTrcf","handleException","EC","UI","expr","listeners","$vars","$edits","model","edit","writeToJq","$edit","jq","validator","validate","toVal","errors","show","validationMessage","empty","append","OKButton","ok","addError","removeError","allOK","isValid","writeToModel","fromVal","li","tag","$var","realtimechange","css","eType","ev","which","first","parseAttr","parseArray","createTextNode","QuickUpload","ClickToCompleteQuickUpload","reloadRequested","namespaceIsNotSet","namespaceIsSame","alreadyHaveSameNamespace","projectNotFound","addDependingProject","dependencyEditor","plugins","depProejctPlaceholder","closeFile","removeFile","renameProject","removeProject","mapEditor","searchFiles","imageList","soundList","projectOptions","editorConfig","openFolder","resetRunDialog","exportAsHTML","openHelpInThisWindow","import","tools","publish","help","openHelpWithNewTab","publisedProjects","showEditButton","editorFontSize","inputFileName","newFile","renameFile","refactorClassName","someFilesHaveErrorOnRefactor","namingNotice","autoReload","selectMain","createAtLeastOneFile","inputNewProjectName","unknown","jumpToErrorPosition","showTrace","generateSingleHTML","thisIsExecutableInSingleHTML","runnableInIE11","globalVariables","theseGlobalVariablesAreInitializedOnStart","variablesShouldBeStringOrJSON","save","varableName","varableNameShouldBeAlphabetOrNumber","cannotBeParsedAsValue","ifYouWantContainDoubleQuoteAsTheValue","ifYouWantContainBackslash","imageDetails","singlePicture","rowsAndColumns","chipWidthAndHeight","compatibleWithTonyu1","chipNo","dragImageFilesHere","sizePerChip","importFromHTML","overwriteFolder","selectOtherFolder","pasteHTMLHere","inputFolderPathForImport","startImport","overwriteTheseFiles","openTheProjectWithoutOverwrite","followingFilesWillBeOverwritten","ovr","new","importComplete","selectMainClass","newProject","newProjectName","parentFolder","willCreateAt","inputProjectName","folderExists","rename","downloadAsZip","delete","deleteProject","downloadAsZipBeforeDeletion","yes","no","diagMode","disableInfiniteLoopCheck","requireFieldDeclaration","defaultSuperClass","runtimes","mainClass","thisFileCannotBeAdded","resourceFileExists","sound","wordToFind","showAllProjects","thisFolderShouldBeUploadedToWebServer","seeRuntime","createExecutable","howToOutput","saveExecutableAsZip","uploadToProjectBoard","saveExecutableAtFolder","executableOptions","RunInIE11","attachSourceFiles","ifSourceFilesAreAttached","ItCanBeEditableInProjectBoard","youCanPublishThisExecutableAsWebApplicationBy","uploadTheFolderIntoYourWebSite","uploadZippedFileInto","projectBoard","afterProjectBoard","executableCreated","uploadTheExtractedFolderIntoYourWebSite","uploadTheZipFileInto","uploadHasNotBeenDoneYet","youHaveToDescribeAboutThisVersion","toCompleteTheUpload","youCanConfigureAboutInfinteLoopDetection","seeProjectOption","importingFromZip","importFromZip","confirm","cancel","input","fileExists","fileExistsInOtherFolder","deleteFileConfirm","duplicatedFiles","cannotUseFolderManagedByProject","cannotUseKernelFiles","upCased","resouceList","dragFileHere","storageUsage","unzipping","doesNotContainTonyu2Project","checking","downloadFromProjectBoard","copying","runtimeCreatedAt","uploadFailed","duplicateGlobalVariable","invalidGlobalVariableName","runClass","ThisFolderWillBeCreated","pluginAddedAndRestart","otherCommandInProgress","deleteProjectConfirm","renamedProjectExists","deleteProjectFromItem","destinationFolder","Open_URL","UseRightClick","filenameMatched","noPushedPages","noSuchPat","invalidPatExpr","openProjectInNewWindow","localeStr","language","renderMenu","getLocale","UIDiag","requestJQueryUI","curPrj","requestPlugin","isPrimitive","parseMesg","defTitle","multiLine","useNative","afterModal","sendF","dialog","prompt","_default","left","getStatus","$Scheduler","resetLastSteps","$InputDevice","reset","geom","position","my","of","enterkey","focus","resultValue","draw","canvas","Image","onld","clb","cw","ch","cctx","calcw","calch","clearRect","marginw","marginh","IR","TN","NAME","WIDTH","HEIGHT","delay","surpressCreateThumbnail","$Screen","toDataURL","rsrc","getResource","prjdir","imfile","item","imgs","setResource","crt","installed","box2d","detection","symbol","timbre","gif","jquery_ui","convOpt","detectNeeded","hasInGlobal","loadAll","namea","loadNext","reqj","request","pluginName","thumbnail","rawRun","removeJSOutput","detectPlugins","fixBootRunClasses","runScriptMode","rawBoot","getResourceFile","resFile","chg","imgSnd","removeThumbnail","resc","tfile","hasSoundResource","getThumbnail","convertBlobInfos","user","getName","isBlobURL","BLOB_PATH_EXPR","getBlobInfos","loadResource","sp","setImageList","hasMZO","hasMIDI","addPlugin","removePlugin","setOptions","loadPlugins","mc","fixClassName","bc","showProgress","initCanvas","$mainCanvas","SplashScreen","nonSourceDirs","js","static","maps","collect","KEC","down","elem","stopPropagation","preventDefault","originalEvent","altKey","ctrlKey","shiftKey","keyCode","hide","doResize","overflow","margin","class","appendTo","resize","use","scriptURL","MEASURED","sid","eid","mark","measure","getPrototypeOf","profile","hash","profileTonyuClass","sortKey","getEntriesByType","ag","count","durationSum","durationAvg","list","Profiler","runtime","sysMod","KeyEventChecker","runScript_common","jshint","animationFrame","requestAnimationFrame","Tonyu_StartProject","requestStop"],"mappings":"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","sourcesContent":["(function (){\r\n/**\r\n * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.\r\n * Released under MIT license, http://github.com/requirejs/almond/LICENSE\r\n */\r\n//Going sloppy to avoid 'use strict' string cost, but strict practices should\r\n//be followed.\r\n/*global setTimeout: false */\r\n\r\nvar requirejs, require, define;\r\n(function (undef) {\r\n    var main, req, makeMap, handlers,\r\n        defined = {},\r\n        waiting = {},\r\n        config = {},\r\n        defining = {},\r\n        hasOwn = Object.prototype.hasOwnProperty,\r\n        aps = [].slice,\r\n        jsSuffixRegExp = /\\.js$/;\r\n\r\n    function hasProp(obj, prop) {\r\n        return hasOwn.call(obj, prop);\r\n    }\r\n\r\n    /**\r\n     * Given a relative module name, like ./something, normalize it to\r\n     * a real name that can be mapped to a path.\r\n     * @param {String} name the relative name\r\n     * @param {String} baseName a real name that the name arg is relative\r\n     * to.\r\n     * @returns {String} normalized name\r\n     */\r\n    function normalize(name, baseName) {\r\n        var nameParts, nameSegment, mapValue, foundMap, lastIndex,\r\n            foundI, foundStarMap, starI, i, j, part, normalizedBaseParts,\r\n            baseParts = baseName && baseName.split(\"/\"),\r\n            map = config.map,\r\n            starMap = (map && map['*']) || {};\r\n\r\n        //Adjust any relative paths.\r\n        if (name) {\r\n            name = name.split('/');\r\n            lastIndex = name.length - 1;\r\n\r\n            // If wanting node ID compatibility, strip .js from end\r\n            // of IDs. Have to do this here, and not in nameToUrl\r\n            // because node allows either .js or non .js to map\r\n            // to same file.\r\n            if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {\r\n                name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');\r\n            }\r\n\r\n            // Starts with a '.' so need the baseName\r\n            if (name[0].charAt(0) === '.' && baseParts) {\r\n                //Convert baseName to array, and lop off the last part,\r\n                //so that . matches that 'directory' and not name of the baseName's\r\n                //module. For instance, baseName of 'one/two/three', maps to\r\n                //'one/two/three.js', but we want the directory, 'one/two' for\r\n                //this normalization.\r\n                normalizedBaseParts = baseParts.slice(0, baseParts.length - 1);\r\n                name = normalizedBaseParts.concat(name);\r\n            }\r\n\r\n            //start trimDots\r\n            for (i = 0; i < name.length; i++) {\r\n                part = name[i];\r\n                if (part === '.') {\r\n                    name.splice(i, 1);\r\n                    i -= 1;\r\n                } else if (part === '..') {\r\n                    // If at the start, or previous value is still ..,\r\n                    // keep them so that when converted to a path it may\r\n                    // still work when converted to a path, even though\r\n                    // as an ID it is less than ideal. In larger point\r\n                    // releases, may be better to just kick out an error.\r\n                    if (i === 0 || (i === 1 && name[2] === '..') || name[i - 1] === '..') {\r\n                        continue;\r\n                    } else if (i > 0) {\r\n                        name.splice(i - 1, 2);\r\n                        i -= 2;\r\n                    }\r\n                }\r\n            }\r\n            //end trimDots\r\n\r\n            name = name.join('/');\r\n        }\r\n\r\n        //Apply map config if available.\r\n        if ((baseParts || starMap) && map) {\r\n            nameParts = name.split('/');\r\n\r\n            for (i = nameParts.length; i > 0; i -= 1) {\r\n                nameSegment = nameParts.slice(0, i).join(\"/\");\r\n\r\n                if (baseParts) {\r\n                    //Find the longest baseName segment match in the config.\r\n                    //So, do joins on the biggest to smallest lengths of baseParts.\r\n                    for (j = baseParts.length; j > 0; j -= 1) {\r\n                        mapValue = map[baseParts.slice(0, j).join('/')];\r\n\r\n                        //baseName segment has  config, find if it has one for\r\n                        //this name.\r\n                        if (mapValue) {\r\n                            mapValue = mapValue[nameSegment];\r\n                            if (mapValue) {\r\n                                //Match, update name to the new value.\r\n                                foundMap = mapValue;\r\n                                foundI = i;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (foundMap) {\r\n                    break;\r\n                }\r\n\r\n                //Check for a star map match, but just hold on to it,\r\n                //if there is a shorter segment match later in a matching\r\n                //config, then favor over this star map.\r\n                if (!foundStarMap && starMap && starMap[nameSegment]) {\r\n                    foundStarMap = starMap[nameSegment];\r\n                    starI = i;\r\n                }\r\n            }\r\n\r\n            if (!foundMap && foundStarMap) {\r\n                foundMap = foundStarMap;\r\n                foundI = starI;\r\n            }\r\n\r\n            if (foundMap) {\r\n                nameParts.splice(0, foundI, foundMap);\r\n                name = nameParts.join('/');\r\n            }\r\n        }\r\n\r\n        return name;\r\n    }\r\n\r\n    function makeRequire(relName, forceSync) {\r\n        return function () {\r\n            //A version of a require function that passes a moduleName\r\n            //value for items that may need to\r\n            //look up paths relative to the moduleName\r\n            var args = aps.call(arguments, 0);\r\n\r\n            //If first arg is not require('string'), and there is only\r\n            //one arg, it is the array form without a callback. Insert\r\n            //a null so that the following concat is correct.\r\n            if (typeof args[0] !== 'string' && args.length === 1) {\r\n                args.push(null);\r\n            }\r\n            return req.apply(undef, args.concat([relName, forceSync]));\r\n        };\r\n    }\r\n\r\n    function makeNormalize(relName) {\r\n        return function (name) {\r\n            return normalize(name, relName);\r\n        };\r\n    }\r\n\r\n    function makeLoad(depName) {\r\n        return function (value) {\r\n            defined[depName] = value;\r\n        };\r\n    }\r\n\r\n    function callDep(name) {\r\n        if (hasProp(waiting, name)) {\r\n            var args = waiting[name];\r\n            delete waiting[name];\r\n            defining[name] = true;\r\n            main.apply(undef, args);\r\n        }\r\n\r\n        if (!hasProp(defined, name) && !hasProp(defining, name)) {\r\n            throw new Error('No ' + name);\r\n        }\r\n        return defined[name];\r\n    }\r\n\r\n    //Turns a plugin!resource to [plugin, resource]\r\n    //with the plugin being undefined if the name\r\n    //did not have a plugin prefix.\r\n    function splitPrefix(name) {\r\n        var prefix,\r\n            index = name ? name.indexOf('!') : -1;\r\n        if (index > -1) {\r\n            prefix = name.substring(0, index);\r\n            name = name.substring(index + 1, name.length);\r\n        }\r\n        return [prefix, name];\r\n    }\r\n\r\n    //Creates a parts array for a relName where first part is plugin ID,\r\n    //second part is resource ID. Assumes relName has already been normalized.\r\n    function makeRelParts(relName) {\r\n        return relName ? splitPrefix(relName) : [];\r\n    }\r\n\r\n    /**\r\n     * Makes a name map, normalizing the name, and using a plugin\r\n     * for normalization if necessary. Grabs a ref to plugin\r\n     * too, as an optimization.\r\n     */\r\n    makeMap = function (name, relParts) {\r\n        var plugin,\r\n            parts = splitPrefix(name),\r\n            prefix = parts[0],\r\n            relResourceName = relParts[1];\r\n\r\n        name = parts[1];\r\n\r\n        if (prefix) {\r\n            prefix = normalize(prefix, relResourceName);\r\n            plugin = callDep(prefix);\r\n        }\r\n\r\n        //Normalize according\r\n        if (prefix) {\r\n            if (plugin && plugin.normalize) {\r\n                name = plugin.normalize(name, makeNormalize(relResourceName));\r\n            } else {\r\n                name = normalize(name, relResourceName);\r\n            }\r\n        } else {\r\n            name = normalize(name, relResourceName);\r\n            parts = splitPrefix(name);\r\n            prefix = parts[0];\r\n            name = parts[1];\r\n            if (prefix) {\r\n                plugin = callDep(prefix);\r\n            }\r\n        }\r\n\r\n        //Using ridiculous property names for space reasons\r\n        return {\r\n            f: prefix ? prefix + '!' + name : name, //fullName\r\n            n: name,\r\n            pr: prefix,\r\n            p: plugin\r\n        };\r\n    };\r\n\r\n    function makeConfig(name) {\r\n        return function () {\r\n            return (config && config.config && config.config[name]) || {};\r\n        };\r\n    }\r\n\r\n    handlers = {\r\n        require: function (name) {\r\n            return makeRequire(name);\r\n        },\r\n        exports: function (name) {\r\n            var e = defined[name];\r\n            if (typeof e !== 'undefined') {\r\n                return e;\r\n            } else {\r\n                return (defined[name] = {});\r\n            }\r\n        },\r\n        module: function (name) {\r\n            return {\r\n                id: name,\r\n                uri: '',\r\n                exports: defined[name],\r\n                config: makeConfig(name)\r\n            };\r\n        }\r\n    };\r\n\r\n    main = function (name, deps, callback, relName) {\r\n        var cjsModule, depName, ret, map, i, relParts,\r\n            args = [],\r\n            callbackType = typeof callback,\r\n            usingExports;\r\n\r\n        //Use name if no relName\r\n        relName = relName || name;\r\n        relParts = makeRelParts(relName);\r\n\r\n        //Call the callback to define the module, if necessary.\r\n        if (callbackType === 'undefined' || callbackType === 'function') {\r\n            //Pull out the defined dependencies and pass the ordered\r\n            //values to the callback.\r\n            //Default to [require, exports, module] if no deps\r\n            deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;\r\n            for (i = 0; i < deps.length; i += 1) {\r\n                map = makeMap(deps[i], relParts);\r\n                depName = map.f;\r\n\r\n                //Fast path CommonJS standard dependencies.\r\n                if (depName === \"require\") {\r\n                    args[i] = handlers.require(name);\r\n                } else if (depName === \"exports\") {\r\n                    //CommonJS module spec 1.1\r\n                    args[i] = handlers.exports(name);\r\n                    usingExports = true;\r\n                } else if (depName === \"module\") {\r\n                    //CommonJS module spec 1.1\r\n                    cjsModule = args[i] = handlers.module(name);\r\n                } else if (hasProp(defined, depName) ||\r\n                           hasProp(waiting, depName) ||\r\n                           hasProp(defining, depName)) {\r\n                    args[i] = callDep(depName);\r\n                } else if (map.p) {\r\n                    map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});\r\n                    args[i] = defined[depName];\r\n                } else {\r\n                    throw new Error(name + ' missing ' + depName);\r\n                }\r\n            }\r\n\r\n            ret = callback ? callback.apply(defined[name], args) : undefined;\r\n\r\n            if (name) {\r\n                //If setting exports via \"module\" is in play,\r\n                //favor that over return value and exports. After that,\r\n                //favor a non-undefined return value over exports use.\r\n                if (cjsModule && cjsModule.exports !== undef &&\r\n                        cjsModule.exports !== defined[name]) {\r\n                    defined[name] = cjsModule.exports;\r\n                } else if (ret !== undef || !usingExports) {\r\n                    //Use the return value from the function.\r\n                    defined[name] = ret;\r\n                }\r\n            }\r\n        } else if (name) {\r\n            //May just be an object definition for the module. Only\r\n            //worry about defining if have a module name.\r\n            defined[name] = callback;\r\n        }\r\n    };\r\n\r\n    requirejs = require = req = function (deps, callback, relName, forceSync, alt) {\r\n        if (typeof deps === \"string\") {\r\n            if (handlers[deps]) {\r\n                //callback in this case is really relName\r\n                return handlers[deps](callback);\r\n            }\r\n            //Just return the module wanted. In this scenario, the\r\n            //deps arg is the module name, and second arg (if passed)\r\n            //is just the relName.\r\n            //Normalize module name, if it contains . or ..\r\n            return callDep(makeMap(deps, makeRelParts(callback)).f);\r\n        } else if (!deps.splice) {\r\n            //deps is a config object, not an array.\r\n            config = deps;\r\n            if (config.deps) {\r\n                req(config.deps, config.callback);\r\n            }\r\n            if (!callback) {\r\n                return;\r\n            }\r\n\r\n            if (callback.splice) {\r\n                //callback is an array, which means it is a dependency list.\r\n                //Adjust args if there are dependencies\r\n                deps = callback;\r\n                callback = relName;\r\n                relName = null;\r\n            } else {\r\n                deps = undef;\r\n            }\r\n        }\r\n\r\n        //Support require(['a'])\r\n        callback = callback || function () {};\r\n\r\n        //If relName is a function, it is an errback handler,\r\n        //so remove it.\r\n        if (typeof relName === 'function') {\r\n            relName = forceSync;\r\n            forceSync = alt;\r\n        }\r\n\r\n        //Simulate async callback;\r\n        if (forceSync) {\r\n            main(undef, deps, callback, relName);\r\n        } else {\r\n            //Using a non-zero value because of concern for what old browsers\r\n            //do, and latest browsers \"upgrade\" to 4 if lower value is used:\r\n            //http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:\r\n            //If want a value immediately, use require('id') instead -- something\r\n            //that works in almond on the global level, but not guaranteed and\r\n            //unlikely to work in other AMD implementations.\r\n            setTimeout(function () {\r\n                main(undef, deps, callback, relName);\r\n            }, 4);\r\n        }\r\n\r\n        return req;\r\n    };\r\n\r\n    /**\r\n     * Just drops the config on the floor, but returns req in case\r\n     * the config return value is used.\r\n     */\r\n    req.config = function (cfg) {\r\n        return req(cfg);\r\n    };\r\n\r\n    /**\r\n     * Expose module registry for debugging and tooling\r\n     */\r\n    requirejs._defined = defined;\r\n\r\n    define = function (name, deps, callback) {\r\n        if (typeof name !== 'string') {\r\n            throw new Error('See almond README: incorrect module build, no module name');\r\n        }\r\n\r\n        //This module may not have dependencies\r\n        if (!deps.splice) {\r\n            //deps is not an array, so probably means\r\n            //an object literal or factory function for\r\n            //the value. Adjust args.\r\n            callback = deps;\r\n            deps = [];\r\n        }\r\n\r\n        if (!hasProp(defined, name) && !hasProp(waiting, name)) {\r\n            waiting[name] = [name, deps, callback];\r\n        }\r\n    };\r\n\r\n    define.amd = {\r\n        jQuery: true\r\n    };\r\n}());\ndefine(\"js/almond\", function(){});\n\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define('BuilderClient4Sys',[],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.TonyuBuilderClient = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\r\nconst root=require(\"../lib/root\");\r\nconst Worker=root.Worker;\r\nconst WS=require(\"../lib/WorkerServiceB\");\r\nconst SourceFiles=require(\"../lang/SourceFiles\");\r\nconst FileMap=require(\"../lib/FileMap\");\r\nconst NS2DepSpec=require(\"../project/NS2DepSpec\");\r\n//const FS=(root.parent && root.parent.FS) || root.FS;\r\nconst FS=root.FS;// TODO\r\n\r\nclass BuilderClient {\r\n    constructor(prj,config) {// dirBased\r\n        this.prj=prj;\r\n        let url=config.worker.url;\r\n        if (!url.match(/^blob/)) url+=\"?\"+Math.random();\r\n        this.w=new WS.Wrapper(new Worker(url));\r\n        this.config=config||{};\r\n        this.fileMap=new FileMap();\r\n    }\r\n    getOutputFile(...f) {return this.prj.getOutputFile(...f);}\r\n    getDir(){return this.prj.getDir();}\r\n    setDebugger(t) {this.debugger=t;}// t:iframe.contentWindow.Debugger\r\n    exec(srcraw) {\r\n        if (this.debugger) return this.debugger.exec(srcraw);\r\n    }\r\n    convertFromWorkerPath(path) {\r\n        return this.fileMap.convert(path,\"remote\",\"local\");\r\n    }\r\n    exportFiles() {\r\n        const localPrjDir=this.getDir();\r\n        const n2files=this.prj.sourceFiles();\r\n        const exported={base:localPrjDir.path(),data:{}};\r\n        for (var k in n2files) {\r\n            const f=n2files[k];\r\n            exported.data[f.relPath(localPrjDir)]=f.text();\r\n        }\r\n        const opt=this.prj.getOptionsFile();\r\n        exported.data[opt.relPath(localPrjDir)]=opt.text();\r\n        console.log(\"exported\",exported);\r\n        return exported;\r\n    }\r\n    exportWithDependingFiles() {\r\n        const ns2depspec=new NS2DepSpec(this.config.worker.ns2depspec);\r\n        const exported=this.exportFiles();\r\n        const deps=this.prj.getDependingProjects();//TODO recursive\r\n        const outputDir=this.prj.getOutputFile().up();\r\n        const newDep=[];\r\n        for (let dep of deps) {\r\n            const ns=dep.getNamespace();\r\n            if (ns2depspec.has(ns)) {\r\n                newDep.push({namespace:ns});\r\n                continue;\r\n            }\r\n            const out=dep.getOutputFile();\r\n            const dstOut=outputDir.rel(`${ns}.js`);\r\n            const relOfOut=dstOut.relPath(this.prj.getDir());\r\n            newDep.push({namespace:ns, outputFile: relOfOut});\r\n            exported.data[relOfOut]=out.text();\r\n        }\r\n        const opt=JSON.parse(exported.data[\"options.json\"]);\r\n        opt.compiler.dependingProjects=newDep;\r\n        exported.data[\"options.json\"]=JSON.stringify(opt);\r\n        console.log(\"opt changed\", opt);\r\n        return exported;\r\n    }\r\n    async init() {\r\n        if (this.inited) return;\r\n        const fileMap=this.fileMap;\r\n        const localPrjDir=this.getDir();\r\n        const ns2depspec=this.config.worker.ns2depspec;\r\n        const files=this.exportWithDependingFiles();\r\n        const {prjDir:remotePrjDir}=await this.w.run(\"compiler/init\",{\r\n            namespace:this.prj.getNamespace(),\r\n            files, ns2depspec, locale: this.config.locale\r\n        });\r\n        fileMap.add({local:localPrjDir, remote: remotePrjDir});\r\n        const deps=this.prj.getDependingProjects();//TODO recursive\r\n        this.inited=true;\r\n    }\r\n    resetFiles() {\r\n        if (!this.inited) return this.init();\r\n        const files=this.exportWithDependingFiles();\r\n        return this.w.run(\"compiler/resetFiles\",{\r\n            //namespace:this.prj.getNamespace(),\r\n            files\r\n        });\r\n    }\r\n    async parse(f,content=false){// use content when check not-yet-saved file\r\n        if (content===false) content=f.text();\r\n        await this.init();\r\n        const filePath=f.relPath(this.getDir());\r\n        const files={};\r\n        files[filePath]=content;\r\n        return await this.w.run(\"compiler/parse\", {files});\r\n    }\r\n    async clean() {// Stands for eclipse \"Clean\" menu.\r\n        await this.resetFiles();\r\n        return await this.fullCompile();\r\n    }\r\n    async fullCompile() {\r\n        try {\r\n            this.partialCompilable=false;\r\n            await this.init();\r\n            const compres=await this.w.run(\"compiler/fullCompile\");\r\n            console.log(compres);\r\n            const sf=SourceFiles.add(compres);\r\n            await sf.saveAs(this.getOutputFile());\r\n            await this.exec(compres);\r\n            this.partialCompilable=true;\r\n            return compres;\r\n        } catch(e) {\r\n            throw this.convertError(e);\r\n        }\r\n    }\r\n    async partialCompile(f, {content, noexec}={}) {\r\n        if (!this.partialCompilable) {\r\n            return await this.clean();\r\n        }\r\n        try {\r\n            if (typeof content!==\"string\") {\r\n                content=f.text();\r\n                if (noexec==null) noexec=false;\r\n            } else {\r\n                if (noexec==null) noexec=true;\r\n            }\r\n            const files={};files[f.relPath(this.getDir())]=content;\r\n            await this.init();\r\n            const compres=await this.w.run(\"compiler/postChange\",{files});\r\n            console.log(compres);\r\n            if (!noexec) await this.exec(compres);\r\n            return compres;\r\n        } catch(e) {\r\n            throw this.convertError(e);\r\n        }\r\n    }\r\n    async renameClassName(from,to) {\r\n        try {\r\n            await this.init();\r\n            let changed=await this.w.run(\"compiler/renameClassName\",{from,to});\r\n            for (let n in changed) {\r\n                let val=changed[n];\r\n                n=this.convertFromWorkerPath(n);\r\n                if (val==null) {\r\n                    FS.get(n).rm();\r\n                } else {\r\n                    FS.get(n).text(val);\r\n                }\r\n            }\r\n            return changed;\r\n        } catch(e) {\r\n            throw this.convertError(e);\r\n        }\r\n    }\r\n    convertError(e) {\r\n        if (e.isTError) {\r\n            try {\r\n                e.src=FS.get(this.convertFromWorkerPath(e.src));\r\n            } catch(ee) {\r\n                console.log(ee);\r\n            }\r\n        }\r\n        return e;\r\n    }\r\n    async run() {\r\n        await this.init();\r\n        await this.fullCompile();\r\n        this.getDir().watch(async (e,f)=>{\r\n            console.log(e,f.path());\r\n            if (f.ext()===\".tonyu\") {\r\n                const nsraw=await this.partialCompile(f);\r\n                if (this.config.onCompiled) this.config.onCompiled(nsraw);\r\n\r\n                //if (root.Tonyu.globals.$restart) root.Tonyu.globals.$restart();\r\n            }\r\n        });\r\n    }\r\n}\r\nBuilderClient.SourceFiles=SourceFiles;\r\nBuilderClient.NS2DepSpec=NS2DepSpec;\r\n//root.TonyuBuilderClient=BuilderClient;\r\nmodule.exports=BuilderClient;\r\n\r\n},{\"../lang/SourceFiles\":4,\"../lib/FileMap\":9,\"../lib/WorkerServiceB\":10,\"../lib/root\":11,\"../project/NS2DepSpec\":13}],2:[function(require,module,exports){\r\n// Add extra libraries for Tonyu System IDE\r\n//const root=require(\"../lib/root\");\r\nconst BuilderClient=require(\"./BuilderClient\");\r\n\r\nconst SourceFiles=require(\"../lang/SourceFiles\");\r\nconst ProjectFactory=require(\"../project/ProjectFactory\");\r\nconst CompiledProject=require(\"../project/CompiledProject\");\r\nconst langMod=require(\"../lang/langMod\");\r\nconst StackDecoder=require(\"../lang/StackDecoder\");\r\nconst SourceMap=require(\"../lang/source-map\");\r\nconst DebuggerCore=require(\"../browser/DebuggerCore\");\r\nBuilderClient.SourceFiles=SourceFiles;\r\nBuilderClient.ProjectFactory=ProjectFactory;\r\nBuilderClient.CompiledProject=CompiledProject;\r\nBuilderClient.langMod=langMod;\r\nBuilderClient.StackDecoder=StackDecoder;\r\nBuilderClient.SourceMap=SourceMap;\r\nBuilderClient.DebuggerCore=DebuggerCore;\r\nmodule.exports=BuilderClient;\r\n//root.TonyuBuilderClient=BuilderClient;\r\n\r\n},{\"../browser/DebuggerCore\":3,\"../lang/SourceFiles\":4,\"../lang/StackDecoder\":5,\"../lang/langMod\":6,\"../lang/source-map\":7,\"../project/CompiledProject\":12,\"../project/ProjectFactory\":14,\"./BuilderClient\":1}],3:[function(require,module,exports){\r\n//define(function (require,exports,module) {\r\n// module.exports:: DI_container -> Debugger\r\nconst SourceFiles=require(\"../lang/SourceFiles\");\r\n//const ProjectFactory=require(\"../project/ProjectFactory\");\r\nconst CompiledProject=require(\"../project/CompiledProject\");\r\nconst langMod=require(\"../lang/langMod\");\r\nconst StackDecoder=require(\"../lang/StackDecoder\");\r\nconst root=require(\"../lib/root\");\r\nmodule.exports=function ({\r\n    //-- Bundled in BuilderClient4Sys\r\n    /*SourceFiles,\r\n    ProjectFactory:F,\r\n    CompiledProject:CP,\r\n    langMod,\r\n    StackDecoder,*/\r\n    //--\r\n    Tonyu,\r\n}) {//------\r\nif (root.Debugger) return root.Debugger;\r\nconst Events={\r\n    handlers:{},\r\n    getHandler(t) {\r\n        this.handlers[t]=this.handlers[t]||[];\r\n        return this.handlers[t];\r\n    },\r\n    fire(type,evt) {\r\n        try {\r\n            this.getHandler(type).forEach(f=>f(evt));\r\n        } catch(e) {\r\n            if (!evt || !evt.noCatch) Tonyu.onRuntimeError(e);\r\n        }\r\n    },\r\n    on(type,...args) {\r\n        const f=args.pop();\r\n        this.getHandler(type).push(f);\r\n    }\r\n};\r\nroot.Debugger={\r\n    setErrorHandler: function () {\r\n        Tonyu.onRuntimeError=async e=>{\r\n            console.error(e);\r\n            const stack=await StackDecoder.decode(e);\r\n            const evt={error:e, message:e.message,stack,noCatch:true};\r\n            Events.fire(\"runtimeError\",evt);\r\n        };\r\n    },\r\n    init: async function (prj) {\r\n        //Tonyu=Tonyu||_Tonyu;\r\n        this.setErrorHandler();\r\n        Tonyu.globals.$currentProject=prj;\r\n        Tonyu.currentProject=prj;\r\n        Tonyu.globals.$debugger=root.Debugger;\r\n        await prj.loadClasses();\r\n        console.log(\"Loading classes COMPLETE\",Tonyu.ID,Tonyu.classes);\r\n    },\r\n    exec: async function (srcraw) {\r\n        await SourceFiles.add(srcraw).exec();\r\n        Events.fire(\"classChanged\");\r\n    },\r\n    create: function (className) {\r\n        try {\r\n            const klass=Tonyu.getClass(className);\r\n            return new klass();\r\n        }catch(e) {\r\n            Tonyu.onRuntimeError(e);\r\n            //console.error(e);\r\n            //StackDecoder.decode(e);\r\n        }\r\n    },\r\n    on:Events.on.bind(Events),\r\n    fire:Events.fire.bind(Events)\r\n};\r\ntry {\r\n    //if (root.parent && root.parent.onTonyuDebuggerReady) <- fails CORS\r\n    root.parent.onTonyuDebuggerReady(root.Debugger);\r\n} catch(e) {\r\n    console.log(e);\r\n}\r\nreturn root.Debugger;\r\n};//--------\r\n//});//--- end of define\r\n\r\n},{\"../lang/SourceFiles\":4,\"../lang/StackDecoder\":5,\"../lang/langMod\":6,\"../lib/root\":11,\"../project/CompiledProject\":12}],4:[function(require,module,exports){\r\n//define(function (require,exports,module) {\r\n/*const root=require(\"root\");*/\r\nconst root=require(\"../lib/root\");\r\nfunction timeout(t) {\r\n    return new Promise(s=>setTimeout(s,t));\r\n}\r\nlet vm;\r\n/*global global*/\r\nif (typeof global!==\"undefined\" && global.require && global.require.name!==\"requirejs\") {\r\n    vm=global.require(\"vm\");\r\n}\r\nclass SourceFile {\r\n    // var text, sourceMap:S.Sourcemap;\r\n    constructor(text, sourceMap) {\r\n        if (typeof text===\"object\") {\r\n            const params=text;\r\n            sourceMap=params.sourceMap;\r\n            //functions=params.functions;\r\n            text=params.text;\r\n            if (params.url) {\r\n                this.url=params.url;\r\n            }\r\n        }\r\n        this.text=text;\r\n        this.sourceMap=sourceMap && sourceMap.toString();\r\n        //this.functions=functions;\r\n    }\r\n    async saveAs(outf) {\r\n        const mapFile=outf.sibling(outf.name()+\".map\");\r\n        let text=this.text;\r\n        //text+=\"\\n//# traceFunctions=\"+JSON.stringify(this.functions);\r\n        if (this.sourceMap) {\r\n            await mapFile.text(this.sourceMap);\r\n            text+=\"\\n//# sourceMappingURL=\"+mapFile.name();\r\n        }\r\n        await outf.text(text);\r\n        //return Promise.resolve();\r\n    }\r\n    exec(options) {\r\n        return new Promise((resolve, reject)=>{\r\n            if (root.window) {\r\n                const document=root.document;\r\n                let u;\r\n                if (this.url) {\r\n                    u=this.url;\r\n                } else {\r\n                    const b=new root.Blob([this.text], {type: 'text/plain'});\r\n                    u=root.URL.createObjectURL(b);\r\n                }\r\n                const s=document.createElement(\"script\");\r\n                console.log(\"load script\",u);\r\n                s.setAttribute(\"src\",u);\r\n                s.addEventListener(\"load\",e=>{\r\n                    resolve(e);\r\n                });\r\n                this.parent.url2SourceFile[u]=this;\r\n                document.body.appendChild(s);\r\n            } else if (options && options.tmpdir){\r\n                const tmpdir=options.tmpdir;\r\n                const uniqFile=tmpdir.rel(Math.random()+\".js\");\r\n                const mapFile=uniqFile.sibling(uniqFile.name()+\".map\");\r\n                let text=this.text;\r\n                text+=\"\\n//# sourceMappingURL=\"+mapFile.name();\r\n                uniqFile.text(text);\r\n                mapFile.text(this.sourceMap);\r\n                //console.log(\"EX\",uniqFile.exists());\r\n                require(uniqFile.path());\r\n                uniqFile.rm();\r\n                mapFile.rm();\r\n                resolve();\r\n            } else if (root.importScripts && this.url){\r\n                root.importScripts(this.url);\r\n                resolve();\r\n            } else {\r\n                const F=Function;\r\n                const f=(vm? vm.compileFunction(this.text) : new F(this.text));\r\n                resolve(f());\r\n            }\r\n        });\r\n    }\r\n    export() {\r\n        return {text:this.text, sourceMap:this.sourceMap, functions:this.functions};\r\n    }\r\n}\r\nclass SourceFiles {\r\n    constructor() {\r\n        this.url2SourceFile={};\r\n    }\r\n    add(text, sourceMap) {\r\n        const sourceFile=new SourceFile(text, sourceMap);\r\n        /*if (sourceFile.functions) for (let k in sourceFile.functions) {\r\n            this.functions[k]=sourceFile;\r\n        }*/\r\n        sourceFile.parent=this;\r\n        return sourceFile;\r\n    }\r\n\r\n}\r\nmodule.exports=new SourceFiles();\r\n//});/*--end of define--*/\r\n\r\n},{\"../lib/root\":11}],5:[function(require,module,exports){\r\nconst S=require(\"./source-map\");\r\nconst StackTrace=require(\"./stacktrace\");\r\nconst SourceFiles=require(\"./SourceFiles\");\r\nmodule.exports={\r\n    async decode(e) {\r\n        try{\r\n            const tr=await StackTrace.fromError(e,{offline:true});\r\n            tr.forEach(t=>{\r\n                try {\r\n                    const sf=SourceFiles.url2SourceFile[t.fileName];\r\n                    //console.log(\"sf\", t.fileName, sf, SourceFiles.url2SourceFile);\r\n                    if (sf) {\r\n                        const opt={\r\n                            line: t.lineNumber, column:t.columnNumber,\r\n                            bias:S.SourceMapConsumer.GREATEST_LOWER_BOUND\r\n                        };\r\n                        const pos=this.originalPositionFor(sf,opt);\r\n                        console.log(\"pos\",opt,pos);\r\n                        if (pos.source) t.fileName=pos.source;\r\n                        if (pos.line) t.lineNumber=pos.line;\r\n                        if (pos.column) t.columnNumber=pos.column;\r\n                    }\r\n                }catch(ex) {\r\n                    console.log(\"Sourcemap error\",ex);\r\n                }\r\n            });\r\n            console.log(\"Converted: \",tr);\r\n            return tr;\r\n        } catch(ex) {\r\n            console.log(\"StackTrace error\",ex);\r\n            if (!e || !e.stack) {\r\n                console.log(\"HennaError\",e);\r\n                return [];\r\n            }\r\n            return e.stack.split(\"\\n\");\r\n        }\r\n    },\r\n    originalPositionFor(sf,opt) {\r\n        const s=this.getSourceMapConsumer(sf);\r\n        if (!s) return opt;\r\n        return s.originalPositionFor(opt);\r\n    },\r\n    getSourceMapConsumer(sf) {\r\n        if (sf.sourceMapConsumer) return sf.sourceMapConsumer;\r\n        sf.sourceMapConsumer=new S.SourceMapConsumer(JSON.parse(sf.sourceMap));\r\n        //console.log(this.sourceMapConsumer);\r\n        return sf.sourceMapConsumer;\r\n    }\r\n};\r\n\r\n},{\"./SourceFiles\":4,\"./source-map\":7,\"./stacktrace\":8}],6:[function(require,module,exports){\r\n    module.exports={\r\n        getNamespace: function () {//override\r\n            var opt=this.getOptions();\r\n            if (opt.compiler && opt.compiler.namespace) return opt.compiler.namespace;\r\n            throw new Error(\"Namespace is not set\");\r\n        },\r\n        async loadDependingClasses() {\r\n            const myNsp=this.getNamespace();\r\n            for (let p of this.getDependingProjects()) {\r\n                if (p.getNamespace()===myNsp) continue;\r\n                await p.loadClasses();\r\n            }\r\n        },\r\n        getEXT() {return \".tonyu\";}\r\n        // loadClasses: stub\r\n    };\r\n\r\n},{}],7:[function(require,module,exports){\r\n(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(typeof exports === 'object' && typeof module === 'object')\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine(\"source-map\",[], factory);\r\n\telse if(typeof exports === 'object')\r\n\t\texports[\"sourceMap\"] = factory();\r\n\telse\r\n\t\troot[\"sourceMap\"] = factory();\r\n})(this, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId])\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\texports: {},\r\n/******/ \t\t\tid: moduleId,\r\n/******/ \t\t\tloaded: false\r\n/******/ \t\t};\r\n\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.loaded = true;\r\n\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n\r\n\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"\";\r\n\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(0);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/*\r\n\t* Copyright 2009-2011 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE.txt or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*/\r\n\texports.SourceMapGenerator = __webpack_require__(1).SourceMapGenerator;\r\n\texports.SourceMapConsumer = __webpack_require__(7).SourceMapConsumer;\r\n\texports.SourceNode = __webpack_require__(10).SourceNode;\r\n\r\n\r\n/***/ },\r\n/* 1 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* -*- Mode: js; js-indent-level: 2; -*- */\r\n\t/*\r\n\t* Copyright 2011 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*/\r\n\r\n\tvar base64VLQ = __webpack_require__(2);\r\n\tvar util = __webpack_require__(4);\r\n\tvar ArraySet = __webpack_require__(5).ArraySet;\r\n\tvar MappingList = __webpack_require__(6).MappingList;\r\n\r\n\t/**\r\n\t* An instance of the SourceMapGenerator represents a source map which is\r\n\t* being built incrementally. You may pass an object with the following\r\n\t* properties:\r\n\t*\r\n\t*   - file: The filename of the generated source.\r\n\t*   - sourceRoot: A root for all relative URLs in this source map.\r\n\t*/\r\n\tfunction SourceMapGenerator(aArgs) {\r\n\t\tif (!aArgs) {\r\n\t\taArgs = {};\r\n\t\t}\r\n\t\tthis._file = util.getArg(aArgs, 'file', null);\r\n\t\tthis._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);\r\n\t\tthis._skipValidation = util.getArg(aArgs, 'skipValidation', false);\r\n\t\tthis._sources = new ArraySet();\r\n\t\tthis._names = new ArraySet();\r\n\t\tthis._mappings = new MappingList();\r\n\t\tthis._sourcesContents = null;\r\n\t}\r\n\r\n\tSourceMapGenerator.prototype._version = 3;\r\n\r\n\t/**\r\n\t* Creates a new SourceMapGenerator based on a SourceMapConsumer\r\n\t*\r\n\t* @param aSourceMapConsumer The SourceMap.\r\n\t*/\r\n\tSourceMapGenerator.fromSourceMap =\r\n\t\tfunction SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {\r\n\t\tvar sourceRoot = aSourceMapConsumer.sourceRoot;\r\n\t\tvar generator = new SourceMapGenerator({\r\n\t\t\tfile: aSourceMapConsumer.file,\r\n\t\t\tsourceRoot: sourceRoot\r\n\t\t});\r\n\t\taSourceMapConsumer.eachMapping(function (mapping) {\r\n\t\t\tvar newMapping = {\r\n\t\t\tgenerated: {\r\n\t\t\t\tline: mapping.generatedLine,\r\n\t\t\t\tcolumn: mapping.generatedColumn\r\n\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tif (mapping.source != null) {\r\n\t\t\tnewMapping.source = mapping.source;\r\n\t\t\tif (sourceRoot != null) {\r\n\t\t\t\tnewMapping.source = util.relative(sourceRoot, newMapping.source);\r\n\t\t\t}\r\n\r\n\t\t\tnewMapping.original = {\r\n\t\t\t\tline: mapping.originalLine,\r\n\t\t\t\tcolumn: mapping.originalColumn\r\n\t\t\t};\r\n\r\n\t\t\tif (mapping.name != null) {\r\n\t\t\t\tnewMapping.name = mapping.name;\r\n\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tgenerator.addMapping(newMapping);\r\n\t\t});\r\n\t\taSourceMapConsumer.sources.forEach(function (sourceFile) {\r\n\t\t\tvar content = aSourceMapConsumer.sourceContentFor(sourceFile);\r\n\t\t\tif (content != null) {\r\n\t\t\tgenerator.setSourceContent(sourceFile, content);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn generator;\r\n\t\t};\r\n\r\n\t/**\r\n\t* Add a single mapping from original source line and column to the generated\r\n\t* source's line and column for this source map being created. The mapping\r\n\t* object should have the following properties:\r\n\t*\r\n\t*   - generated: An object with the generated line and column positions.\r\n\t*   - original: An object with the original line and column positions.\r\n\t*   - source: The original source file (relative to the sourceRoot).\r\n\t*   - name: An optional original token name for this mapping.\r\n\t*/\r\n\tSourceMapGenerator.prototype.addMapping =\r\n\t\tfunction SourceMapGenerator_addMapping(aArgs) {\r\n\t\tvar generated = util.getArg(aArgs, 'generated');\r\n\t\tvar original = util.getArg(aArgs, 'original', null);\r\n\t\tvar source = util.getArg(aArgs, 'source', null);\r\n\t\tvar name = util.getArg(aArgs, 'name', null);\r\n\r\n\t\tif (!this._skipValidation) {\r\n\t\t\tthis._validateMapping(generated, original, source, name);\r\n\t\t}\r\n\r\n\t\tif (source != null) {\r\n\t\t\tsource = String(source);\r\n\t\t\tif (!this._sources.has(source)) {\r\n\t\t\tthis._sources.add(source);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (name != null) {\r\n\t\t\tname = String(name);\r\n\t\t\tif (!this._names.has(name)) {\r\n\t\t\tthis._names.add(name);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._mappings.add({\r\n\t\t\tgeneratedLine: generated.line,\r\n\t\t\tgeneratedColumn: generated.column,\r\n\t\t\toriginalLine: original != null && original.line,\r\n\t\t\toriginalColumn: original != null && original.column,\r\n\t\t\tsource: source,\r\n\t\t\tname: name\r\n\t\t});\r\n\t\t};\r\n\r\n\t/**\r\n\t* Set the source content for a source file.\r\n\t*/\r\n\tSourceMapGenerator.prototype.setSourceContent =\r\n\t\tfunction SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {\r\n\t\tvar source = aSourceFile;\r\n\t\tif (this._sourceRoot != null) {\r\n\t\t\tsource = util.relative(this._sourceRoot, source);\r\n\t\t}\r\n\r\n\t\tif (aSourceContent != null) {\r\n\t\t\t// Add the source content to the _sourcesContents map.\r\n\t\t\t// Create a new _sourcesContents map if the property is null.\r\n\t\t\tif (!this._sourcesContents) {\r\n\t\t\tthis._sourcesContents = Object.create(null);\r\n\t\t\t}\r\n\t\t\tthis._sourcesContents[util.toSetString(source)] = aSourceContent;\r\n\t\t} else if (this._sourcesContents) {\r\n\t\t\t// Remove the source file from the _sourcesContents map.\r\n\t\t\t// If the _sourcesContents map is empty, set the property to null.\r\n\t\t\tdelete this._sourcesContents[util.toSetString(source)];\r\n\t\t\tif (Object.keys(this._sourcesContents).length === 0) {\r\n\t\t\tthis._sourcesContents = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\t};\r\n\r\n\t/**\r\n\t* Applies the mappings of a sub-source-map for a specific source file to the\r\n\t* source map being generated. Each mapping to the supplied source file is\r\n\t* rewritten using the supplied source map. Note: The resolution for the\r\n\t* resulting mappings is the minimium of this map and the supplied map.\r\n\t*\r\n\t* @param aSourceMapConsumer The source map to be applied.\r\n\t* @param aSourceFile Optional. The filename of the source file.\r\n\t*        If omitted, SourceMapConsumer's file property will be used.\r\n\t* @param aSourceMapPath Optional. The dirname of the path to the source map\r\n\t*        to be applied. If relative, it is relative to the SourceMapConsumer.\r\n\t*        This parameter is needed when the two source maps aren't in the same\r\n\t*        directory, and the source map to be applied contains relative source\r\n\t*        paths. If so, those relative source paths need to be rewritten\r\n\t*        relative to the SourceMapGenerator.\r\n\t*/\r\n\tSourceMapGenerator.prototype.applySourceMap =\r\n\t\tfunction SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {\r\n\t\tvar sourceFile = aSourceFile;\r\n\t\t// If aSourceFile is omitted, we will use the file property of the SourceMap\r\n\t\tif (aSourceFile == null) {\r\n\t\t\tif (aSourceMapConsumer.file == null) {\r\n\t\t\tthrow new Error(\r\n\t\t\t\t'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' +\r\n\t\t\t\t'or the source map\\'s \"file\" property. Both were omitted.'\r\n\t\t\t);\r\n\t\t\t}\r\n\t\t\tsourceFile = aSourceMapConsumer.file;\r\n\t\t}\r\n\t\tvar sourceRoot = this._sourceRoot;\r\n\t\t// Make \"sourceFile\" relative if an absolute Url is passed.\r\n\t\tif (sourceRoot != null) {\r\n\t\t\tsourceFile = util.relative(sourceRoot, sourceFile);\r\n\t\t}\r\n\t\t// Applying the SourceMap can add and remove items from the sources and\r\n\t\t// the names array.\r\n\t\tvar newSources = new ArraySet();\r\n\t\tvar newNames = new ArraySet();\r\n\r\n\t\t// Find mappings for the \"sourceFile\"\r\n\t\tthis._mappings.unsortedForEach(function (mapping) {\r\n\t\t\tif (mapping.source === sourceFile && mapping.originalLine != null) {\r\n\t\t\t// Check if it can be mapped by the source map, then update the mapping.\r\n\t\t\tvar original = aSourceMapConsumer.originalPositionFor({\r\n\t\t\t\tline: mapping.originalLine,\r\n\t\t\t\tcolumn: mapping.originalColumn\r\n\t\t\t});\r\n\t\t\tif (original.source != null) {\r\n\t\t\t\t// Copy mapping\r\n\t\t\t\tmapping.source = original.source;\r\n\t\t\t\tif (aSourceMapPath != null) {\r\n\t\t\t\tmapping.source = util.join(aSourceMapPath, mapping.source)\r\n\t\t\t\t}\r\n\t\t\t\tif (sourceRoot != null) {\r\n\t\t\t\tmapping.source = util.relative(sourceRoot, mapping.source);\r\n\t\t\t\t}\r\n\t\t\t\tmapping.originalLine = original.line;\r\n\t\t\t\tmapping.originalColumn = original.column;\r\n\t\t\t\tif (original.name != null) {\r\n\t\t\t\tmapping.name = original.name;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar source = mapping.source;\r\n\t\t\tif (source != null && !newSources.has(source)) {\r\n\t\t\tnewSources.add(source);\r\n\t\t\t}\r\n\r\n\t\t\tvar name = mapping.name;\r\n\t\t\tif (name != null && !newNames.has(name)) {\r\n\t\t\tnewNames.add(name);\r\n\t\t\t}\r\n\r\n\t\t}, this);\r\n\t\tthis._sources = newSources;\r\n\t\tthis._names = newNames;\r\n\r\n\t\t// Copy sourcesContents of applied map.\r\n\t\taSourceMapConsumer.sources.forEach(function (sourceFile) {\r\n\t\t\tvar content = aSourceMapConsumer.sourceContentFor(sourceFile);\r\n\t\t\tif (content != null) {\r\n\t\t\tif (aSourceMapPath != null) {\r\n\t\t\t\tsourceFile = util.join(aSourceMapPath, sourceFile);\r\n\t\t\t}\r\n\t\t\tif (sourceRoot != null) {\r\n\t\t\t\tsourceFile = util.relative(sourceRoot, sourceFile);\r\n\t\t\t}\r\n\t\t\tthis.setSourceContent(sourceFile, content);\r\n\t\t\t}\r\n\t\t}, this);\r\n\t\t};\r\n\r\n\t/**\r\n\t* A mapping can have one of the three levels of data:\r\n\t*\r\n\t*   1. Just the generated position.\r\n\t*   2. The Generated position, original position, and original source.\r\n\t*   3. Generated and original position, original source, as well as a name\r\n\t*      token.\r\n\t*\r\n\t* To maintain consistency, we validate that any new mapping being added falls\r\n\t* in to one of these categories.\r\n\t*/\r\n\tSourceMapGenerator.prototype._validateMapping =\r\n\t\tfunction SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taName) {\r\n\t\tif (aGenerated && 'line' in aGenerated && 'column' in aGenerated\r\n\t\t\t&& aGenerated.line > 0 && aGenerated.column >= 0\r\n\t\t\t&& !aOriginal && !aSource && !aName) {\r\n\t\t\t// Case 1.\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\r\n\t\t\t\t&& aOriginal && 'line' in aOriginal && 'column' in aOriginal\r\n\t\t\t\t&& aGenerated.line > 0 && aGenerated.column >= 0\r\n\t\t\t\t&& aOriginal.line > 0 && aOriginal.column >= 0\r\n\t\t\t\t&& aSource) {\r\n\t\t\t// Cases 2 and 3.\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthrow new Error('Invalid mapping: ' + JSON.stringify({\r\n\t\t\tgenerated: aGenerated,\r\n\t\t\tsource: aSource,\r\n\t\t\toriginal: aOriginal,\r\n\t\t\tname: aName\r\n\t\t\t}));\r\n\t\t}\r\n\t\t};\r\n\r\n\t/**\r\n\t* Serialize the accumulated mappings in to the stream of base 64 VLQs\r\n\t* specified by the source map format.\r\n\t*/\r\n\tSourceMapGenerator.prototype._serializeMappings =\r\n\t\tfunction SourceMapGenerator_serializeMappings() {\r\n\t\tvar previousGeneratedColumn = 0;\r\n\t\tvar previousGeneratedLine = 1;\r\n\t\tvar previousOriginalColumn = 0;\r\n\t\tvar previousOriginalLine = 0;\r\n\t\tvar previousName = 0;\r\n\t\tvar previousSource = 0;\r\n\t\tvar result = '';\r\n\t\tvar next;\r\n\t\tvar mapping;\r\n\t\tvar nameIdx;\r\n\t\tvar sourceIdx;\r\n\r\n\t\tvar mappings = this._mappings.toArray();\r\n\t\tfor (var i = 0, len = mappings.length; i < len; i++) {\r\n\t\t\tmapping = mappings[i];\r\n\t\t\tnext = ''\r\n\r\n\t\t\tif (mapping.generatedLine !== previousGeneratedLine) {\r\n\t\t\tpreviousGeneratedColumn = 0;\r\n\t\t\twhile (mapping.generatedLine !== previousGeneratedLine) {\r\n\t\t\t\tnext += ';';\r\n\t\t\t\tpreviousGeneratedLine++;\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\tif (i > 0) {\r\n\t\t\t\tif (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {\r\n\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tnext += ',';\r\n\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tnext += base64VLQ.encode(mapping.generatedColumn\r\n\t\t\t\t\t\t\t\t\t- previousGeneratedColumn);\r\n\t\t\tpreviousGeneratedColumn = mapping.generatedColumn;\r\n\r\n\t\t\tif (mapping.source != null) {\r\n\t\t\tsourceIdx = this._sources.indexOf(mapping.source);\r\n\t\t\tnext += base64VLQ.encode(sourceIdx - previousSource);\r\n\t\t\tpreviousSource = sourceIdx;\r\n\r\n\t\t\t// lines are stored 0-based in SourceMap spec version 3\r\n\t\t\tnext += base64VLQ.encode(mapping.originalLine - 1\r\n\t\t\t\t\t\t\t\t\t\t- previousOriginalLine);\r\n\t\t\tpreviousOriginalLine = mapping.originalLine - 1;\r\n\r\n\t\t\tnext += base64VLQ.encode(mapping.originalColumn\r\n\t\t\t\t\t\t\t\t\t\t- previousOriginalColumn);\r\n\t\t\tpreviousOriginalColumn = mapping.originalColumn;\r\n\r\n\t\t\tif (mapping.name != null) {\r\n\t\t\t\tnameIdx = this._names.indexOf(mapping.name);\r\n\t\t\t\tnext += base64VLQ.encode(nameIdx - previousName);\r\n\t\t\t\tpreviousName = nameIdx;\r\n\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tresult += next;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t\t};\r\n\r\n\tSourceMapGenerator.prototype._generateSourcesContent =\r\n\t\tfunction SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {\r\n\t\treturn aSources.map(function (source) {\r\n\t\t\tif (!this._sourcesContents) {\r\n\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif (aSourceRoot != null) {\r\n\t\t\tsource = util.relative(aSourceRoot, source);\r\n\t\t\t}\r\n\t\t\tvar key = util.toSetString(source);\r\n\t\t\treturn Object.prototype.hasOwnProperty.call(this._sourcesContents, key)\r\n\t\t\t? this._sourcesContents[key]\r\n\t\t\t: null;\r\n\t\t}, this);\r\n\t\t};\r\n\r\n\t/**\r\n\t* Externalize the source map.\r\n\t*/\r\n\tSourceMapGenerator.prototype.toJSON =\r\n\t\tfunction SourceMapGenerator_toJSON() {\r\n\t\tvar map = {\r\n\t\t\tversion: this._version,\r\n\t\t\tsources: this._sources.toArray(),\r\n\t\t\tnames: this._names.toArray(),\r\n\t\t\tmappings: this._serializeMappings()\r\n\t\t};\r\n\t\tif (this._file != null) {\r\n\t\t\tmap.file = this._file;\r\n\t\t}\r\n\t\tif (this._sourceRoot != null) {\r\n\t\t\tmap.sourceRoot = this._sourceRoot;\r\n\t\t}\r\n\t\tif (this._sourcesContents) {\r\n\t\t\tmap.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);\r\n\t\t}\r\n\r\n\t\treturn map;\r\n\t\t};\r\n\r\n\t/**\r\n\t* Render the source map being generated to a string.\r\n\t*/\r\n\tSourceMapGenerator.prototype.toString =\r\n\t\tfunction SourceMapGenerator_toString() {\r\n\t\treturn JSON.stringify(this.toJSON());\r\n\t\t};\r\n\r\n\texports.SourceMapGenerator = SourceMapGenerator;\r\n\r\n\r\n/***/ },\r\n/* 2 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* -*- Mode: js; js-indent-level: 2; -*- */\r\n\t/*\r\n\t* Copyright 2011 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*\r\n\t* Based on the Base 64 VLQ implementation in Closure Compiler:\r\n\t* https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\r\n\t*\r\n\t* Copyright 2011 The Closure Compiler Authors. All rights reserved.\r\n\t* Redistribution and use in source and binary forms, with or without\r\n\t* modification, are permitted provided that the following conditions are\r\n\t* met:\r\n\t*\r\n\t*  * Redistributions of source code must retain the above copyright\r\n\t*    notice, this list of conditions and the following disclaimer.\r\n\t*  * Redistributions in binary form must reproduce the above\r\n\t*    copyright notice, this list of conditions and the following\r\n\t*    disclaimer in the documentation and/or other materials provided\r\n\t*    with the distribution.\r\n\t*  * Neither the name of Google Inc. nor the names of its\r\n\t*    contributors may be used to endorse or promote products derived\r\n\t*    from this software without specific prior written permission.\r\n\t*\r\n\t* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\r\n\t* \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\r\n\t* LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\r\n\t* A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\r\n\t* OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n\t* SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\r\n\t* LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n\t* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\r\n\t* THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n\t* (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\r\n\t* OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n\t*/\r\n\r\n\tvar base64 = __webpack_require__(3);\r\n\r\n\t// A single base 64 digit can contain 6 bits of data. For the base 64 variable\r\n\t// length quantities we use in the source map spec, the first bit is the sign,\r\n\t// the next four bits are the actual value, and the 6th bit is the\r\n\t// continuation bit. The continuation bit tells us whether there are more\r\n\t// digits in this value following this digit.\r\n\t//\r\n\t//   Continuation\r\n\t//   |    Sign\r\n\t//   |    |\r\n\t//   V    V\r\n\t//   101011\r\n\r\n\tvar VLQ_BASE_SHIFT = 5;\r\n\r\n\t// binary: 100000\r\n\tvar VLQ_BASE = 1 << VLQ_BASE_SHIFT;\r\n\r\n\t// binary: 011111\r\n\tvar VLQ_BASE_MASK = VLQ_BASE - 1;\r\n\r\n\t// binary: 100000\r\n\tvar VLQ_CONTINUATION_BIT = VLQ_BASE;\r\n\r\n\t/**\r\n\t* Converts from a two-complement value to a value where the sign bit is\r\n\t* placed in the least significant bit.  For example, as decimals:\r\n\t*   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\r\n\t*   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\r\n\t*/\r\n\tfunction toVLQSigned(aValue) {\r\n\t\treturn aValue < 0\r\n\t\t? ((-aValue) << 1) + 1\r\n\t\t: (aValue << 1) + 0;\r\n\t}\r\n\r\n\t/**\r\n\t* Converts to a two-complement value from a value where the sign bit is\r\n\t* placed in the least significant bit.  For example, as decimals:\r\n\t*   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\r\n\t*   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\r\n\t*/\r\n\tfunction fromVLQSigned(aValue) {\r\n\t\tvar isNegative = (aValue & 1) === 1;\r\n\t\tvar shifted = aValue >> 1;\r\n\t\treturn isNegative\r\n\t\t? -shifted\r\n\t\t: shifted;\r\n\t}\r\n\r\n\t/**\r\n\t* Returns the base 64 VLQ encoded value.\r\n\t*/\r\n\texports.encode = function base64VLQ_encode(aValue) {\r\n\t\tvar encoded = \"\";\r\n\t\tvar digit;\r\n\r\n\t\tvar vlq = toVLQSigned(aValue);\r\n\r\n\t\tdo {\r\n\t\tdigit = vlq & VLQ_BASE_MASK;\r\n\t\tvlq >>>= VLQ_BASE_SHIFT;\r\n\t\tif (vlq > 0) {\r\n\t\t\t// There are still more digits in this value, so we must make sure the\r\n\t\t\t// continuation bit is marked.\r\n\t\t\tdigit |= VLQ_CONTINUATION_BIT;\r\n\t\t}\r\n\t\tencoded += base64.encode(digit);\r\n\t\t} while (vlq > 0);\r\n\r\n\t\treturn encoded;\r\n\t};\r\n\r\n\t/**\r\n\t* Decodes the next base 64 VLQ value from the given string and returns the\r\n\t* value and the rest of the string via the out parameter.\r\n\t*/\r\n\texports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\r\n\t\tvar strLen = aStr.length;\r\n\t\tvar result = 0;\r\n\t\tvar shift = 0;\r\n\t\tvar continuation, digit;\r\n\r\n\t\tdo {\r\n\t\tif (aIndex >= strLen) {\r\n\t\t\tthrow new Error(\"Expected more digits in base 64 VLQ value.\");\r\n\t\t}\r\n\r\n\t\tdigit = base64.decode(aStr.charCodeAt(aIndex++));\r\n\t\tif (digit === -1) {\r\n\t\t\tthrow new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\r\n\t\t}\r\n\r\n\t\tcontinuation = !!(digit & VLQ_CONTINUATION_BIT);\r\n\t\tdigit &= VLQ_BASE_MASK;\r\n\t\tresult = result + (digit << shift);\r\n\t\tshift += VLQ_BASE_SHIFT;\r\n\t\t} while (continuation);\r\n\r\n\t\taOutParam.value = fromVLQSigned(result);\r\n\t\taOutParam.rest = aIndex;\r\n\t};\r\n\r\n\r\n/***/ },\r\n/* 3 */\r\n/***/ function(module, exports) {\r\n\r\n\t/* -*- Mode: js; js-indent-level: 2; -*- */\r\n\t/*\r\n\t* Copyright 2011 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*/\r\n\r\n\tvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\r\n\r\n\t/**\r\n\t* Encode an integer in the range of 0 to 63 to a single base 64 digit.\r\n\t*/\r\n\texports.encode = function (number) {\r\n\t\tif (0 <= number && number < intToCharMap.length) {\r\n\t\treturn intToCharMap[number];\r\n\t\t}\r\n\t\tthrow new TypeError(\"Must be between 0 and 63: \" + number);\r\n\t};\r\n\r\n\t/**\r\n\t* Decode a single base 64 character code digit to an integer. Returns -1 on\r\n\t* failure.\r\n\t*/\r\n\texports.decode = function (charCode) {\r\n\t\tvar bigA = 65;     // 'A'\r\n\t\tvar bigZ = 90;     // 'Z'\r\n\r\n\t\tvar littleA = 97;  // 'a'\r\n\t\tvar littleZ = 122; // 'z'\r\n\r\n\t\tvar zero = 48;     // '0'\r\n\t\tvar nine = 57;     // '9'\r\n\r\n\t\tvar plus = 43;     // '+'\r\n\t\tvar slash = 47;    // '/'\r\n\r\n\t\tvar littleOffset = 26;\r\n\t\tvar numberOffset = 52;\r\n\r\n\t\t// 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\r\n\t\tif (bigA <= charCode && charCode <= bigZ) {\r\n\t\treturn (charCode - bigA);\r\n\t\t}\r\n\r\n\t\t// 26 - 51: abcdefghijklmnopqrstuvwxyz\r\n\t\tif (littleA <= charCode && charCode <= littleZ) {\r\n\t\treturn (charCode - littleA + littleOffset);\r\n\t\t}\r\n\r\n\t\t// 52 - 61: 0123456789\r\n\t\tif (zero <= charCode && charCode <= nine) {\r\n\t\treturn (charCode - zero + numberOffset);\r\n\t\t}\r\n\r\n\t\t// 62: +\r\n\t\tif (charCode == plus) {\r\n\t\treturn 62;\r\n\t\t}\r\n\r\n\t\t// 63: /\r\n\t\tif (charCode == slash) {\r\n\t\treturn 63;\r\n\t\t}\r\n\r\n\t\t// Invalid base64 digit.\r\n\t\treturn -1;\r\n\t};\r\n\r\n\r\n/***/ },\r\n/* 4 */\r\n/***/ function(module, exports) {\r\n\r\n\t/* -*- Mode: js; js-indent-level: 2; -*- */\r\n\t/*\r\n\t* Copyright 2011 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*/\r\n\r\n\t/**\r\n\t* This is a helper function for getting values from parameter/options\r\n\t* objects.\r\n\t*\r\n\t* @param args The object we are extracting values from\r\n\t* @param name The name of the property we are getting.\r\n\t* @param defaultValue An optional value to return if the property is missing\r\n\t* from the object. If this is not specified and the property is missing, an\r\n\t* error will be thrown.\r\n\t*/\r\n\tfunction getArg(aArgs, aName, aDefaultValue) {\r\n\t\tif (aName in aArgs) {\r\n\t\treturn aArgs[aName];\r\n\t\t} else if (arguments.length === 3) {\r\n\t\treturn aDefaultValue;\r\n\t\t} else {\r\n\t\tthrow new Error('\"' + aName + '\" is a required argument.');\r\n\t\t}\r\n\t}\r\n\texports.getArg = getArg;\r\n\r\n\tvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.]*)(?::(\\d+))?(\\S*)$/;\r\n\tvar dataUrlRegexp = /^data:.+\\,.+$/;\r\n\r\n\tfunction urlParse(aUrl) {\r\n\t\tvar match = aUrl.match(urlRegexp);\r\n\t\tif (!match) {\r\n\t\treturn null;\r\n\t\t}\r\n\t\treturn {\r\n\t\tscheme: match[1],\r\n\t\tauth: match[2],\r\n\t\thost: match[3],\r\n\t\tport: match[4],\r\n\t\tpath: match[5]\r\n\t\t};\r\n\t}\r\n\texports.urlParse = urlParse;\r\n\r\n\tfunction urlGenerate(aParsedUrl) {\r\n\t\tvar url = '';\r\n\t\tif (aParsedUrl.scheme) {\r\n\t\turl += aParsedUrl.scheme + ':';\r\n\t\t}\r\n\t\turl += '//';\r\n\t\tif (aParsedUrl.auth) {\r\n\t\turl += aParsedUrl.auth + '@';\r\n\t\t}\r\n\t\tif (aParsedUrl.host) {\r\n\t\turl += aParsedUrl.host;\r\n\t\t}\r\n\t\tif (aParsedUrl.port) {\r\n\t\turl += \":\" + aParsedUrl.port\r\n\t\t}\r\n\t\tif (aParsedUrl.path) {\r\n\t\turl += aParsedUrl.path;\r\n\t\t}\r\n\t\treturn url;\r\n\t}\r\n\texports.urlGenerate = urlGenerate;\r\n\r\n\t/**\r\n\t* Normalizes a path, or the path portion of a URL:\r\n\t*\r\n\t* - Replaces consequtive slashes with one slash.\r\n\t* - Removes unnecessary '.' parts.\r\n\t* - Removes unnecessary '<dir>/..' parts.\r\n\t*\r\n\t* Based on code in the Node.js 'path' core module.\r\n\t*\r\n\t* @param aPath The path or url to normalize.\r\n\t*/\r\n\tfunction normalize(aPath) {\r\n\t\tvar path = aPath;\r\n\t\tvar url = urlParse(aPath);\r\n\t\tif (url) {\r\n\t\tif (!url.path) {\r\n\t\t\treturn aPath;\r\n\t\t}\r\n\t\tpath = url.path;\r\n\t\t}\r\n\t\tvar isAbsolute = exports.isAbsolute(path);\r\n\r\n\t\tvar parts = path.split(/\\/+/);\r\n\t\tfor (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\r\n\t\tpart = parts[i];\r\n\t\tif (part === '.') {\r\n\t\t\tparts.splice(i, 1);\r\n\t\t} else if (part === '..') {\r\n\t\t\tup++;\r\n\t\t} else if (up > 0) {\r\n\t\t\tif (part === '') {\r\n\t\t\t// The first part is blank if the path is absolute. Trying to go\r\n\t\t\t// above the root is a no-op. Therefore we can remove all '..' parts\r\n\t\t\t// directly after the root.\r\n\t\t\tparts.splice(i + 1, up);\r\n\t\t\tup = 0;\r\n\t\t\t} else {\r\n\t\t\tparts.splice(i, 2);\r\n\t\t\tup--;\r\n\t\t\t}\r\n\t\t}\r\n\t\t}\r\n\t\tpath = parts.join('/');\r\n\r\n\t\tif (path === '') {\r\n\t\tpath = isAbsolute ? '/' : '.';\r\n\t\t}\r\n\r\n\t\tif (url) {\r\n\t\turl.path = path;\r\n\t\treturn urlGenerate(url);\r\n\t\t}\r\n\t\treturn path;\r\n\t}\r\n\texports.normalize = normalize;\r\n\r\n\t/**\r\n\t* Joins two paths/URLs.\r\n\t*\r\n\t* @param aRoot The root path or URL.\r\n\t* @param aPath The path or URL to be joined with the root.\r\n\t*\r\n\t* - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\r\n\t*   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\r\n\t*   first.\r\n\t* - Otherwise aPath is a path. If aRoot is a URL, then its path portion\r\n\t*   is updated with the result and aRoot is returned. Otherwise the result\r\n\t*   is returned.\r\n\t*   - If aPath is absolute, the result is aPath.\r\n\t*   - Otherwise the two paths are joined with a slash.\r\n\t* - Joining for example 'http://' and 'www.example.com' is also supported.\r\n\t*/\r\n\tfunction join(aRoot, aPath) {\r\n\t\tif (aRoot === \"\") {\r\n\t\taRoot = \".\";\r\n\t\t}\r\n\t\tif (aPath === \"\") {\r\n\t\taPath = \".\";\r\n\t\t}\r\n\t\tvar aPathUrl = urlParse(aPath);\r\n\t\tvar aRootUrl = urlParse(aRoot);\r\n\t\tif (aRootUrl) {\r\n\t\taRoot = aRootUrl.path || '/';\r\n\t\t}\r\n\r\n\t\t// `join(foo, '//www.example.org')`\r\n\t\tif (aPathUrl && !aPathUrl.scheme) {\r\n\t\tif (aRootUrl) {\r\n\t\t\taPathUrl.scheme = aRootUrl.scheme;\r\n\t\t}\r\n\t\treturn urlGenerate(aPathUrl);\r\n\t\t}\r\n\r\n\t\tif (aPathUrl || aPath.match(dataUrlRegexp)) {\r\n\t\treturn aPath;\r\n\t\t}\r\n\r\n\t\t// `join('http://', 'www.example.com')`\r\n\t\tif (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\r\n\t\taRootUrl.host = aPath;\r\n\t\treturn urlGenerate(aRootUrl);\r\n\t\t}\r\n\r\n\t\tvar joined = aPath.charAt(0) === '/'\r\n\t\t? aPath\r\n\t\t: normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\r\n\r\n\t\tif (aRootUrl) {\r\n\t\taRootUrl.path = joined;\r\n\t\treturn urlGenerate(aRootUrl);\r\n\t\t}\r\n\t\treturn joined;\r\n\t}\r\n\texports.join = join;\r\n\r\n\texports.isAbsolute = function (aPath) {\r\n\t\treturn aPath.charAt(0) === '/' || !!aPath.match(urlRegexp);\r\n\t};\r\n\r\n\t/**\r\n\t* Make a path relative to a URL or another path.\r\n\t*\r\n\t* @param aRoot The root path or URL.\r\n\t* @param aPath The path or URL to be made relative to aRoot.\r\n\t*/\r\n\tfunction relative(aRoot, aPath) {\r\n\t\tif (aRoot === \"\") {\r\n\t\taRoot = \".\";\r\n\t\t}\r\n\r\n\t\taRoot = aRoot.replace(/\\/$/, '');\r\n\r\n\t\t// It is possible for the path to be above the root. In this case, simply\r\n\t\t// checking whether the root is a prefix of the path won't work. Instead, we\r\n\t\t// need to remove components from the root one by one, until either we find\r\n\t\t// a prefix that fits, or we run out of components to remove.\r\n\t\tvar level = 0;\r\n\t\twhile (aPath.indexOf(aRoot + '/') !== 0) {\r\n\t\tvar index = aRoot.lastIndexOf(\"/\");\r\n\t\tif (index < 0) {\r\n\t\t\treturn aPath;\r\n\t\t}\r\n\r\n\t\t// If the only part of the root that is left is the scheme (i.e. http://,\r\n\t\t// file:///, etc.), one or more slashes (/), or simply nothing at all, we\r\n\t\t// have exhausted all components, so the path is not relative to the root.\r\n\t\taRoot = aRoot.slice(0, index);\r\n\t\tif (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\r\n\t\t\treturn aPath;\r\n\t\t}\r\n\r\n\t\t++level;\r\n\t\t}\r\n\r\n\t\t// Make sure we add a \"../\" for each component we removed from the root.\r\n\t\treturn Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\r\n\t}\r\n\texports.relative = relative;\r\n\r\n\tvar supportsNullProto = (function () {\r\n\t\tvar obj = Object.create(null);\r\n\t\treturn !('__proto__' in obj);\r\n\t}());\r\n\r\n\tfunction identity (s) {\r\n\t\treturn s;\r\n\t}\r\n\r\n\t/**\r\n\t* Because behavior goes wacky when you set `__proto__` on objects, we\r\n\t* have to prefix all the strings in our set with an arbitrary character.\r\n\t*\r\n\t* See https://github.com/mozilla/source-map/pull/31 and\r\n\t* https://github.com/mozilla/source-map/issues/30\r\n\t*\r\n\t* @param String aStr\r\n\t*/\r\n\tfunction toSetString(aStr) {\r\n\t\tif (isProtoString(aStr)) {\r\n\t\treturn '$' + aStr;\r\n\t\t}\r\n\r\n\t\treturn aStr;\r\n\t}\r\n\texports.toSetString = supportsNullProto ? identity : toSetString;\r\n\r\n\tfunction fromSetString(aStr) {\r\n\t\tif (isProtoString(aStr)) {\r\n\t\treturn aStr.slice(1);\r\n\t\t}\r\n\r\n\t\treturn aStr;\r\n\t}\r\n\texports.fromSetString = supportsNullProto ? identity : fromSetString;\r\n\r\n\tfunction isProtoString(s) {\r\n\t\tif (!s) {\r\n\t\treturn false;\r\n\t\t}\r\n\r\n\t\tvar length = s.length;\r\n\r\n\t\tif (length < 9 /* \"__proto__\".length */) {\r\n\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\r\n\t\t\ts.charCodeAt(length - 2) !== 95  /* '_' */ ||\r\n\t\t\ts.charCodeAt(length - 3) !== 111 /* 'o' */ ||\r\n\t\t\ts.charCodeAt(length - 4) !== 116 /* 't' */ ||\r\n\t\t\ts.charCodeAt(length - 5) !== 111 /* 'o' */ ||\r\n\t\t\ts.charCodeAt(length - 6) !== 114 /* 'r' */ ||\r\n\t\t\ts.charCodeAt(length - 7) !== 112 /* 'p' */ ||\r\n\t\t\ts.charCodeAt(length - 8) !== 95  /* '_' */ ||\r\n\t\t\ts.charCodeAt(length - 9) !== 95  /* '_' */) {\r\n\t\treturn false;\r\n\t\t}\r\n\r\n\t\tfor (var i = length - 10; i >= 0; i--) {\r\n\t\tif (s.charCodeAt(i) !== 36 /* '$' */) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t* Comparator between two mappings where the original positions are compared.\r\n\t*\r\n\t* Optionally pass in `true` as `onlyCompareGenerated` to consider two\r\n\t* mappings with the same original source/line/column, but different generated\r\n\t* line and column the same. Useful when searching for a mapping with a\r\n\t* stubbed out mapping.\r\n\t*/\r\n\tfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\r\n\t\tvar cmp = mappingA.source - mappingB.source;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.originalLine - mappingB.originalLine;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.originalColumn - mappingB.originalColumn;\r\n\t\tif (cmp !== 0 || onlyCompareOriginal) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.generatedColumn - mappingB.generatedColumn;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.generatedLine - mappingB.generatedLine;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\treturn mappingA.name - mappingB.name;\r\n\t}\r\n\texports.compareByOriginalPositions = compareByOriginalPositions;\r\n\r\n\t/**\r\n\t* Comparator between two mappings with deflated source and name indices where\r\n\t* the generated positions are compared.\r\n\t*\r\n\t* Optionally pass in `true` as `onlyCompareGenerated` to consider two\r\n\t* mappings with the same generated line and column, but different\r\n\t* source/name/original line and column the same. Useful when searching for a\r\n\t* mapping with a stubbed out mapping.\r\n\t*/\r\n\tfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\r\n\t\tvar cmp = mappingA.generatedLine - mappingB.generatedLine;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.generatedColumn - mappingB.generatedColumn;\r\n\t\tif (cmp !== 0 || onlyCompareGenerated) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.source - mappingB.source;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.originalLine - mappingB.originalLine;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.originalColumn - mappingB.originalColumn;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\treturn mappingA.name - mappingB.name;\r\n\t}\r\n\texports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\r\n\r\n\tfunction strcmp(aStr1, aStr2) {\r\n\t\tif (aStr1 === aStr2) {\r\n\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tif (aStr1 > aStr2) {\r\n\t\treturn 1;\r\n\t\t}\r\n\r\n\t\treturn -1;\r\n\t}\r\n\r\n\t/**\r\n\t* Comparator between two mappings with inflated source and name strings where\r\n\t* the generated positions are compared.\r\n\t*/\r\n\tfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\r\n\t\tvar cmp = mappingA.generatedLine - mappingB.generatedLine;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.generatedColumn - mappingB.generatedColumn;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = strcmp(mappingA.source, mappingB.source);\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.originalLine - mappingB.originalLine;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.originalColumn - mappingB.originalColumn;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\treturn strcmp(mappingA.name, mappingB.name);\r\n\t}\r\n\texports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\r\n\r\n\r\n/***/ },\r\n/* 5 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* -*- Mode: js; js-indent-level: 2; -*- */\r\n\t/*\r\n\t* Copyright 2011 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*/\r\n\r\n\tvar util = __webpack_require__(4);\r\n\tvar has = Object.prototype.hasOwnProperty;\r\n\r\n\t/**\r\n\t* A data structure which is a combination of an array and a set. Adding a new\r\n\t* member is O(1), testing for membership is O(1), and finding the index of an\r\n\t* element is O(1). Removing elements from the set is not supported. Only\r\n\t* strings are supported for membership.\r\n\t*/\r\n\tfunction ArraySet() {\r\n\t\tthis._array = [];\r\n\t\tthis._set = Object.create(null);\r\n\t}\r\n\r\n\t/**\r\n\t* Static method for creating ArraySet instances from an existing array.\r\n\t*/\r\n\tArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\r\n\t\tvar set = new ArraySet();\r\n\t\tfor (var i = 0, len = aArray.length; i < len; i++) {\r\n\t\tset.add(aArray[i], aAllowDuplicates);\r\n\t\t}\r\n\t\treturn set;\r\n\t};\r\n\r\n\t/**\r\n\t* Return how many unique items are in this ArraySet. If duplicates have been\r\n\t* added, than those do not count towards the size.\r\n\t*\r\n\t* @returns Number\r\n\t*/\r\n\tArraySet.prototype.size = function ArraySet_size() {\r\n\t\treturn Object.getOwnPropertyNames(this._set).length;\r\n\t};\r\n\r\n\t/**\r\n\t* Add the given string to this set.\r\n\t*\r\n\t* @param String aStr\r\n\t*/\r\n\tArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\r\n\t\tvar sStr = util.toSetString(aStr);\r\n\t\tvar isDuplicate = has.call(this._set, sStr);\r\n\t\tvar idx = this._array.length;\r\n\t\tif (!isDuplicate || aAllowDuplicates) {\r\n\t\tthis._array.push(aStr);\r\n\t\t}\r\n\t\tif (!isDuplicate) {\r\n\t\tthis._set[sStr] = idx;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t* Is the given string a member of this set?\r\n\t*\r\n\t* @param String aStr\r\n\t*/\r\n\tArraySet.prototype.has = function ArraySet_has(aStr) {\r\n\t\tvar sStr = util.toSetString(aStr);\r\n\t\treturn has.call(this._set, sStr);\r\n\t};\r\n\r\n\t/**\r\n\t* What is the index of the given string in the array?\r\n\t*\r\n\t* @param String aStr\r\n\t*/\r\n\tArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\r\n\t\tvar sStr = util.toSetString(aStr);\r\n\t\tif (has.call(this._set, sStr)) {\r\n\t\treturn this._set[sStr];\r\n\t\t}\r\n\t\tthrow new Error('\"' + aStr + '\" is not in the set.');\r\n\t};\r\n\r\n\t/**\r\n\t* What is the element at the given index?\r\n\t*\r\n\t* @param Number aIdx\r\n\t*/\r\n\tArraySet.prototype.at = function ArraySet_at(aIdx) {\r\n\t\tif (aIdx >= 0 && aIdx < this._array.length) {\r\n\t\treturn this._array[aIdx];\r\n\t\t}\r\n\t\tthrow new Error('No element indexed by ' + aIdx);\r\n\t};\r\n\r\n\t/**\r\n\t* Returns the array representation of this set (which has the proper indices\r\n\t* indicated by indexOf). Note that this is a copy of the internal array used\r\n\t* for storing the members so that no one can mess with internal state.\r\n\t*/\r\n\tArraySet.prototype.toArray = function ArraySet_toArray() {\r\n\t\treturn this._array.slice();\r\n\t};\r\n\r\n\texports.ArraySet = ArraySet;\r\n\r\n\r\n/***/ },\r\n/* 6 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* -*- Mode: js; js-indent-level: 2; -*- */\r\n\t/*\r\n\t* Copyright 2014 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*/\r\n\r\n\tvar util = __webpack_require__(4);\r\n\r\n\t/**\r\n\t* Determine whether mappingB is after mappingA with respect to generated\r\n\t* position.\r\n\t*/\r\n\tfunction generatedPositionAfter(mappingA, mappingB) {\r\n\t\t// Optimized for most common case\r\n\t\tvar lineA = mappingA.generatedLine;\r\n\t\tvar lineB = mappingB.generatedLine;\r\n\t\tvar columnA = mappingA.generatedColumn;\r\n\t\tvar columnB = mappingB.generatedColumn;\r\n\t\treturn lineB > lineA || lineB == lineA && columnB >= columnA ||\r\n\t\t\tutil.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;\r\n\t}\r\n\r\n\t/**\r\n\t* A data structure to provide a sorted view of accumulated mappings in a\r\n\t* performance conscious manner. It trades a neglibable overhead in general\r\n\t* case for a large speedup in case of mappings being added in order.\r\n\t*/\r\n\tfunction MappingList() {\r\n\t\tthis._array = [];\r\n\t\tthis._sorted = true;\r\n\t\t// Serves as infimum\r\n\t\tthis._last = {generatedLine: -1, generatedColumn: 0};\r\n\t}\r\n\r\n\t/**\r\n\t* Iterate through internal items. This method takes the same arguments that\r\n\t* `Array.prototype.forEach` takes.\r\n\t*\r\n\t* NOTE: The order of the mappings is NOT guaranteed.\r\n\t*/\r\n\tMappingList.prototype.unsortedForEach =\r\n\t\tfunction MappingList_forEach(aCallback, aThisArg) {\r\n\t\tthis._array.forEach(aCallback, aThisArg);\r\n\t\t};\r\n\r\n\t/**\r\n\t* Add the given source mapping.\r\n\t*\r\n\t* @param Object aMapping\r\n\t*/\r\n\tMappingList.prototype.add = function MappingList_add(aMapping) {\r\n\t\tif (generatedPositionAfter(this._last, aMapping)) {\r\n\t\tthis._last = aMapping;\r\n\t\tthis._array.push(aMapping);\r\n\t\t} else {\r\n\t\tthis._sorted = false;\r\n\t\tthis._array.push(aMapping);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t* Returns the flat, sorted array of mappings. The mappings are sorted by\r\n\t* generated position.\r\n\t*\r\n\t* WARNING: This method returns internal data without copying, for\r\n\t* performance. The return value must NOT be mutated, and should be treated as\r\n\t* an immutable borrow. If you want to take ownership, you must make your own\r\n\t* copy.\r\n\t*/\r\n\tMappingList.prototype.toArray = function MappingList_toArray() {\r\n\t\tif (!this._sorted) {\r\n\t\tthis._array.sort(util.compareByGeneratedPositionsInflated);\r\n\t\tthis._sorted = true;\r\n\t\t}\r\n\t\treturn this._array;\r\n\t};\r\n\r\n\texports.MappingList = MappingList;\r\n\r\n\r\n/***/ },\r\n/* 7 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* -*- Mode: js; js-indent-level: 2; -*- */\r\n\t/*\r\n\t* Copyright 2011 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*/\r\n\r\n\tvar util = __webpack_require__(4);\r\n\tvar binarySearch = __webpack_require__(8);\r\n\tvar ArraySet = __webpack_require__(5).ArraySet;\r\n\tvar base64VLQ = __webpack_require__(2);\r\n\tvar quickSort = __webpack_require__(9).quickSort;\r\n\r\n\tfunction SourceMapConsumer(aSourceMap) {\r\n\t\tvar sourceMap = aSourceMap;\r\n\t\tif (typeof aSourceMap === 'string') {\r\n\t\tsourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\r\n\t\t}\r\n\r\n\t\treturn sourceMap.sections != null\r\n\t\t? new IndexedSourceMapConsumer(sourceMap)\r\n\t\t: new BasicSourceMapConsumer(sourceMap);\r\n\t}\r\n\r\n\tSourceMapConsumer.fromSourceMap = function(aSourceMap) {\r\n\t\treturn BasicSourceMapConsumer.fromSourceMap(aSourceMap);\r\n\t}\r\n\r\n\t/**\r\n\t* The version of the source mapping spec that we are consuming.\r\n\t*/\r\n\tSourceMapConsumer.prototype._version = 3;\r\n\r\n\t// `__generatedMappings` and `__originalMappings` are arrays that hold the\r\n\t// parsed mapping coordinates from the source map's \"mappings\" attribute. They\r\n\t// are lazily instantiated, accessed via the `_generatedMappings` and\r\n\t// `_originalMappings` getters respectively, and we only parse the mappings\r\n\t// and create these arrays once queried for a source location. We jump through\r\n\t// these hoops because there can be many thousands of mappings, and parsing\r\n\t// them is expensive, so we only want to do it if we must.\r\n\t//\r\n\t// Each object in the arrays is of the form:\r\n\t//\r\n\t//     {\r\n\t//       generatedLine: The line number in the generated code,\r\n\t//       generatedColumn: The column number in the generated code,\r\n\t//       source: The path to the original source file that generated this\r\n\t//               chunk of code,\r\n\t//       originalLine: The line number in the original source that\r\n\t//                     corresponds to this chunk of generated code,\r\n\t//       originalColumn: The column number in the original source that\r\n\t//                       corresponds to this chunk of generated code,\r\n\t//       name: The name of the original symbol which generated this chunk of\r\n\t//             code.\r\n\t//     }\r\n\t//\r\n\t// All properties except for `generatedLine` and `generatedColumn` can be\r\n\t// `null`.\r\n\t//\r\n\t// `_generatedMappings` is ordered by the generated positions.\r\n\t//\r\n\t// `_originalMappings` is ordered by the original positions.\r\n\r\n\tSourceMapConsumer.prototype.__generatedMappings = null;\r\n\tObject.defineProperty(SourceMapConsumer.prototype, '_generatedMappings', {\r\n\t\tget: function () {\r\n\t\tif (!this.__generatedMappings) {\r\n\t\t\tthis._parseMappings(this._mappings, this.sourceRoot);\r\n\t\t}\r\n\r\n\t\treturn this.__generatedMappings;\r\n\t\t}\r\n\t});\r\n\r\n\tSourceMapConsumer.prototype.__originalMappings = null;\r\n\tObject.defineProperty(SourceMapConsumer.prototype, '_originalMappings', {\r\n\t\tget: function () {\r\n\t\tif (!this.__originalMappings) {\r\n\t\t\tthis._parseMappings(this._mappings, this.sourceRoot);\r\n\t\t}\r\n\r\n\t\treturn this.__originalMappings;\r\n\t\t}\r\n\t});\r\n\r\n\tSourceMapConsumer.prototype._charIsMappingSeparator =\r\n\t\tfunction SourceMapConsumer_charIsMappingSeparator(aStr, index) {\r\n\t\tvar c = aStr.charAt(index);\r\n\t\treturn c === \";\" || c === \",\";\r\n\t\t};\r\n\r\n\t/**\r\n\t* Parse the mappings in a string in to a data structure which we can easily\r\n\t* query (the ordered arrays in the `this.__generatedMappings` and\r\n\t* `this.__originalMappings` properties).\r\n\t*/\r\n\tSourceMapConsumer.prototype._parseMappings =\r\n\t\tfunction SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\r\n\t\tthrow new Error(\"Subclasses must implement _parseMappings\");\r\n\t\t};\r\n\r\n\tSourceMapConsumer.GENERATED_ORDER = 1;\r\n\tSourceMapConsumer.ORIGINAL_ORDER = 2;\r\n\r\n\tSourceMapConsumer.GREATEST_LOWER_BOUND = 1;\r\n\tSourceMapConsumer.LEAST_UPPER_BOUND = 2;\r\n\r\n\t/**\r\n\t* Iterate over each mapping between an original source/line/column and a\r\n\t* generated line/column in this source map.\r\n\t*\r\n\t* @param Function aCallback\r\n\t*        The function that is called with each mapping.\r\n\t* @param Object aContext\r\n\t*        Optional. If specified, this object will be the value of `this` every\r\n\t*        time that `aCallback` is called.\r\n\t* @param aOrder\r\n\t*        Either `SourceMapConsumer.GENERATED_ORDER` or\r\n\t*        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to\r\n\t*        iterate over the mappings sorted by the generated file's line/column\r\n\t*        order or the original's source/line/column order, respectively. Defaults to\r\n\t*        `SourceMapConsumer.GENERATED_ORDER`.\r\n\t*/\r\n\tSourceMapConsumer.prototype.eachMapping =\r\n\t\tfunction SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {\r\n\t\tvar context = aContext || null;\r\n\t\tvar order = aOrder || SourceMapConsumer.GENERATED_ORDER;\r\n\r\n\t\tvar mappings;\r\n\t\tswitch (order) {\r\n\t\tcase SourceMapConsumer.GENERATED_ORDER:\r\n\t\t\tmappings = this._generatedMappings;\r\n\t\t\tbreak;\r\n\t\tcase SourceMapConsumer.ORIGINAL_ORDER:\r\n\t\t\tmappings = this._originalMappings;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tthrow new Error(\"Unknown order of iteration.\");\r\n\t\t}\r\n\r\n\t\tvar sourceRoot = this.sourceRoot;\r\n\t\tmappings.map(function (mapping) {\r\n\t\t\tvar source = mapping.source === null ? null : this._sources.at(mapping.source);\r\n\t\t\tif (source != null && sourceRoot != null) {\r\n\t\t\tsource = util.join(sourceRoot, source);\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\tsource: source,\r\n\t\t\tgeneratedLine: mapping.generatedLine,\r\n\t\t\tgeneratedColumn: mapping.generatedColumn,\r\n\t\t\toriginalLine: mapping.originalLine,\r\n\t\t\toriginalColumn: mapping.originalColumn,\r\n\t\t\tname: mapping.name === null ? null : this._names.at(mapping.name)\r\n\t\t\t};\r\n\t\t}, this).forEach(aCallback, context);\r\n\t\t};\r\n\r\n\t/**\r\n\t* Returns all generated line and column information for the original source,\r\n\t* line, and column provided. If no column is provided, returns all mappings\r\n\t* corresponding to a either the line we are searching for or the next\r\n\t* closest line that has any mappings. Otherwise, returns all mappings\r\n\t* corresponding to the given line and either the column we are searching for\r\n\t* or the next closest column that has any offsets.\r\n\t*\r\n\t* The only argument is an object with the following properties:\r\n\t*\r\n\t*   - source: The filename of the original source.\r\n\t*   - line: The line number in the original source.\r\n\t*   - column: Optional. the column number in the original source.\r\n\t*\r\n\t* and an array of objects is returned, each with the following properties:\r\n\t*\r\n\t*   - line: The line number in the generated source, or null.\r\n\t*   - column: The column number in the generated source, or null.\r\n\t*/\r\n\tSourceMapConsumer.prototype.allGeneratedPositionsFor =\r\n\t\tfunction SourceMapConsumer_allGeneratedPositionsFor(aArgs) {\r\n\t\tvar line = util.getArg(aArgs, 'line');\r\n\r\n\t\t// When there is no exact match, BasicSourceMapConsumer.prototype._findMapping\r\n\t\t// returns the index of the closest mapping less than the needle. By\r\n\t\t// setting needle.originalColumn to 0, we thus find the last mapping for\r\n\t\t// the given line, provided such a mapping exists.\r\n\t\tvar needle = {\r\n\t\t\tsource: util.getArg(aArgs, 'source'),\r\n\t\t\toriginalLine: line,\r\n\t\t\toriginalColumn: util.getArg(aArgs, 'column', 0)\r\n\t\t};\r\n\r\n\t\tif (this.sourceRoot != null) {\r\n\t\t\tneedle.source = util.relative(this.sourceRoot, needle.source);\r\n\t\t}\r\n\t\tif (!this._sources.has(needle.source)) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\tneedle.source = this._sources.indexOf(needle.source);\r\n\r\n\t\tvar mappings = [];\r\n\r\n\t\tvar index = this._findMapping(needle,\r\n\t\t\t\t\t\t\t\t\t\tthis._originalMappings,\r\n\t\t\t\t\t\t\t\t\t\t\"originalLine\",\r\n\t\t\t\t\t\t\t\t\t\t\"originalColumn\",\r\n\t\t\t\t\t\t\t\t\t\tutil.compareByOriginalPositions,\r\n\t\t\t\t\t\t\t\t\t\tbinarySearch.LEAST_UPPER_BOUND);\r\n\t\tif (index >= 0) {\r\n\t\t\tvar mapping = this._originalMappings[index];\r\n\r\n\t\t\tif (aArgs.column === undefined) {\r\n\t\t\tvar originalLine = mapping.originalLine;\r\n\r\n\t\t\t// Iterate until either we run out of mappings, or we run into\r\n\t\t\t// a mapping for a different line than the one we found. Since\r\n\t\t\t// mappings are sorted, this is guaranteed to find all mappings for\r\n\t\t\t// the line we found.\r\n\t\t\twhile (mapping && mapping.originalLine === originalLine) {\r\n\t\t\t\tmappings.push({\r\n\t\t\t\tline: util.getArg(mapping, 'generatedLine', null),\r\n\t\t\t\tcolumn: util.getArg(mapping, 'generatedColumn', null),\r\n\t\t\t\tlastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\r\n\t\t\t\t});\r\n\r\n\t\t\t\tmapping = this._originalMappings[++index];\r\n\t\t\t}\r\n\t\t\t} else {\r\n\t\t\tvar originalColumn = mapping.originalColumn;\r\n\r\n\t\t\t// Iterate until either we run out of mappings, or we run into\r\n\t\t\t// a mapping for a different line than the one we were searching for.\r\n\t\t\t// Since mappings are sorted, this is guaranteed to find all mappings for\r\n\t\t\t// the line we are searching for.\r\n\t\t\twhile (mapping &&\r\n\t\t\t\t\tmapping.originalLine === line &&\r\n\t\t\t\t\tmapping.originalColumn == originalColumn) {\r\n\t\t\t\tmappings.push({\r\n\t\t\t\tline: util.getArg(mapping, 'generatedLine', null),\r\n\t\t\t\tcolumn: util.getArg(mapping, 'generatedColumn', null),\r\n\t\t\t\tlastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\r\n\t\t\t\t});\r\n\r\n\t\t\t\tmapping = this._originalMappings[++index];\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn mappings;\r\n\t\t};\r\n\r\n\texports.SourceMapConsumer = SourceMapConsumer;\r\n\r\n\t/**\r\n\t* A BasicSourceMapConsumer instance represents a parsed source map which we can\r\n\t* query for information about the original file positions by giving it a file\r\n\t* position in the generated source.\r\n\t*\r\n\t* The only parameter is the raw source map (either as a JSON string, or\r\n\t* already parsed to an object). According to the spec, source maps have the\r\n\t* following attributes:\r\n\t*\r\n\t*   - version: Which version of the source map spec this map is following.\r\n\t*   - sources: An array of URLs to the original source files.\r\n\t*   - names: An array of identifiers which can be referrenced by individual mappings.\r\n\t*   - sourceRoot: Optional. The URL root from which all sources are relative.\r\n\t*   - sourcesContent: Optional. An array of contents of the original source files.\r\n\t*   - mappings: A string of base64 VLQs which contain the actual mappings.\r\n\t*   - file: Optional. The generated file this source map is associated with.\r\n\t*\r\n\t* Here is an example source map, taken from the source map spec[0]:\r\n\t*\r\n\t*     {\r\n\t*       version : 3,\r\n\t*       file: \"out.js\",\r\n\t*       sourceRoot : \"\",\r\n\t*       sources: [\"foo.js\", \"bar.js\"],\r\n\t*       names: [\"src\", \"maps\", \"are\", \"fun\"],\r\n\t*       mappings: \"AA,AB;;ABCDE;\"\r\n\t*     }\r\n\t*\r\n\t* [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#\r\n\t*/\r\n\tfunction BasicSourceMapConsumer(aSourceMap) {\r\n\t\tvar sourceMap = aSourceMap;\r\n\t\tif (typeof aSourceMap === 'string') {\r\n\t\tsourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\r\n\t\t}\r\n\r\n\t\tvar version = util.getArg(sourceMap, 'version');\r\n\t\tvar sources = util.getArg(sourceMap, 'sources');\r\n\t\t// Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which\r\n\t\t// requires the array) to play nice here.\r\n\t\tvar names = util.getArg(sourceMap, 'names', []);\r\n\t\tvar sourceRoot = util.getArg(sourceMap, 'sourceRoot', null);\r\n\t\tvar sourcesContent = util.getArg(sourceMap, 'sourcesContent', null);\r\n\t\tvar mappings = util.getArg(sourceMap, 'mappings');\r\n\t\tvar file = util.getArg(sourceMap, 'file', null);\r\n\r\n\t\t// Once again, Sass deviates from the spec and supplies the version as a\r\n\t\t// string rather than a number, so we use loose equality checking here.\r\n\t\tif (version != this._version) {\r\n\t\tthrow new Error('Unsupported version: ' + version);\r\n\t\t}\r\n\r\n\t\tsources = sources\r\n\t\t.map(String)\r\n\t\t// Some source maps produce relative source paths like \"./foo.js\" instead of\r\n\t\t// \"foo.js\".  Normalize these first so that future comparisons will succeed.\r\n\t\t// See bugzil.la/1090768.\r\n\t\t.map(util.normalize)\r\n\t\t// Always ensure that absolute sources are internally stored relative to\r\n\t\t// the source root, if the source root is absolute. Not doing this would\r\n\t\t// be particularly problematic when the source root is a prefix of the\r\n\t\t// source (valid, but why??). See github issue #199 and bugzil.la/1188982.\r\n\t\t.map(function (source) {\r\n\t\t\treturn sourceRoot && util.isAbsolute(sourceRoot) && util.isAbsolute(source)\r\n\t\t\t? util.relative(sourceRoot, source)\r\n\t\t\t: source;\r\n\t\t});\r\n\r\n\t\t// Pass `true` below to allow duplicate names and sources. While source maps\r\n\t\t// are intended to be compressed and deduplicated, the TypeScript compiler\r\n\t\t// sometimes generates source maps with duplicates in them. See Github issue\r\n\t\t// #72 and bugzil.la/889492.\r\n\t\tthis._names = ArraySet.fromArray(names.map(String), true);\r\n\t\tthis._sources = ArraySet.fromArray(sources, true);\r\n\r\n\t\tthis.sourceRoot = sourceRoot;\r\n\t\tthis.sourcesContent = sourcesContent;\r\n\t\tthis._mappings = mappings;\r\n\t\tthis.file = file;\r\n\t}\r\n\r\n\tBasicSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\r\n\tBasicSourceMapConsumer.prototype.consumer = SourceMapConsumer;\r\n\r\n\t/**\r\n\t* Create a BasicSourceMapConsumer from a SourceMapGenerator.\r\n\t*\r\n\t* @param SourceMapGenerator aSourceMap\r\n\t*        The source map that will be consumed.\r\n\t* @returns BasicSourceMapConsumer\r\n\t*/\r\n\tBasicSourceMapConsumer.fromSourceMap =\r\n\t\tfunction SourceMapConsumer_fromSourceMap(aSourceMap) {\r\n\t\tvar smc = Object.create(BasicSourceMapConsumer.prototype);\r\n\r\n\t\tvar names = smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);\r\n\t\tvar sources = smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);\r\n\t\tsmc.sourceRoot = aSourceMap._sourceRoot;\r\n\t\tsmc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsmc.sourceRoot);\r\n\t\tsmc.file = aSourceMap._file;\r\n\r\n\t\t// Because we are modifying the entries (by converting string sources and\r\n\t\t// names to indices into the sources and names ArraySets), we have to make\r\n\t\t// a copy of the entry or else bad things happen. Shared mutable state\r\n\t\t// strikes again! See github issue #191.\r\n\r\n\t\tvar generatedMappings = aSourceMap._mappings.toArray().slice();\r\n\t\tvar destGeneratedMappings = smc.__generatedMappings = [];\r\n\t\tvar destOriginalMappings = smc.__originalMappings = [];\r\n\r\n\t\tfor (var i = 0, length = generatedMappings.length; i < length; i++) {\r\n\t\t\tvar srcMapping = generatedMappings[i];\r\n\t\t\tvar destMapping = new Mapping;\r\n\t\t\tdestMapping.generatedLine = srcMapping.generatedLine;\r\n\t\t\tdestMapping.generatedColumn = srcMapping.generatedColumn;\r\n\r\n\t\t\tif (srcMapping.source) {\r\n\t\t\tdestMapping.source = sources.indexOf(srcMapping.source);\r\n\t\t\tdestMapping.originalLine = srcMapping.originalLine;\r\n\t\t\tdestMapping.originalColumn = srcMapping.originalColumn;\r\n\r\n\t\t\tif (srcMapping.name) {\r\n\t\t\t\tdestMapping.name = names.indexOf(srcMapping.name);\r\n\t\t\t}\r\n\r\n\t\t\tdestOriginalMappings.push(destMapping);\r\n\t\t\t}\r\n\r\n\t\t\tdestGeneratedMappings.push(destMapping);\r\n\t\t}\r\n\r\n\t\tquickSort(smc.__originalMappings, util.compareByOriginalPositions);\r\n\r\n\t\treturn smc;\r\n\t\t};\r\n\r\n\t/**\r\n\t* The version of the source mapping spec that we are consuming.\r\n\t*/\r\n\tBasicSourceMapConsumer.prototype._version = 3;\r\n\r\n\t/**\r\n\t* The list of original sources.\r\n\t*/\r\n\tObject.defineProperty(BasicSourceMapConsumer.prototype, 'sources', {\r\n\t\tget: function () {\r\n\t\treturn this._sources.toArray().map(function (s) {\r\n\t\t\treturn this.sourceRoot != null ? util.join(this.sourceRoot, s) : s;\r\n\t\t}, this);\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t* Provide the JIT with a nice shape / hidden class.\r\n\t*/\r\n\tfunction Mapping() {\r\n\t\tthis.generatedLine = 0;\r\n\t\tthis.generatedColumn = 0;\r\n\t\tthis.source = null;\r\n\t\tthis.originalLine = null;\r\n\t\tthis.originalColumn = null;\r\n\t\tthis.name = null;\r\n\t}\r\n\r\n\t/**\r\n\t* Parse the mappings in a string in to a data structure which we can easily\r\n\t* query (the ordered arrays in the `this.__generatedMappings` and\r\n\t* `this.__originalMappings` properties).\r\n\t*/\r\n\tBasicSourceMapConsumer.prototype._parseMappings =\r\n\t\tfunction SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\r\n\t\tvar generatedLine = 1;\r\n\t\tvar previousGeneratedColumn = 0;\r\n\t\tvar previousOriginalLine = 0;\r\n\t\tvar previousOriginalColumn = 0;\r\n\t\tvar previousSource = 0;\r\n\t\tvar previousName = 0;\r\n\t\tvar length = aStr.length;\r\n\t\tvar index = 0;\r\n\t\tvar cachedSegments = {};\r\n\t\tvar temp = {};\r\n\t\tvar originalMappings = [];\r\n\t\tvar generatedMappings = [];\r\n\t\tvar mapping, str, segment, end, value;\r\n\r\n\t\twhile (index < length) {\r\n\t\t\tif (aStr.charAt(index) === ';') {\r\n\t\t\tgeneratedLine++;\r\n\t\t\tindex++;\r\n\t\t\tpreviousGeneratedColumn = 0;\r\n\t\t\t}\r\n\t\t\telse if (aStr.charAt(index) === ',') {\r\n\t\t\tindex++;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\tmapping = new Mapping();\r\n\t\t\tmapping.generatedLine = generatedLine;\r\n\r\n\t\t\t// Because each offset is encoded relative to the previous one,\r\n\t\t\t// many segments often have the same encoding. We can exploit this\r\n\t\t\t// fact by caching the parsed variable length fields of each segment,\r\n\t\t\t// allowing us to avoid a second parse if we encounter the same\r\n\t\t\t// segment again.\r\n\t\t\tfor (end = index; end < length; end++) {\r\n\t\t\t\tif (this._charIsMappingSeparator(aStr, end)) {\r\n\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tstr = aStr.slice(index, end);\r\n\r\n\t\t\tsegment = cachedSegments[str];\r\n\t\t\tif (segment) {\r\n\t\t\t\tindex += str.length;\r\n\t\t\t} else {\r\n\t\t\t\tsegment = [];\r\n\t\t\t\twhile (index < end) {\r\n\t\t\t\tbase64VLQ.decode(aStr, index, temp);\r\n\t\t\t\tvalue = temp.value;\r\n\t\t\t\tindex = temp.rest;\r\n\t\t\t\tsegment.push(value);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (segment.length === 2) {\r\n\t\t\t\tthrow new Error('Found a source, but no line and column');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (segment.length === 3) {\r\n\t\t\t\tthrow new Error('Found a source and line, but no column');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcachedSegments[str] = segment;\r\n\t\t\t}\r\n\r\n\t\t\t// Generated column.\r\n\t\t\tmapping.generatedColumn = previousGeneratedColumn + segment[0];\r\n\t\t\tpreviousGeneratedColumn = mapping.generatedColumn;\r\n\r\n\t\t\tif (segment.length > 1) {\r\n\t\t\t\t// Original source.\r\n\t\t\t\tmapping.source = previousSource + segment[1];\r\n\t\t\t\tpreviousSource += segment[1];\r\n\r\n\t\t\t\t// Original line.\r\n\t\t\t\tmapping.originalLine = previousOriginalLine + segment[2];\r\n\t\t\t\tpreviousOriginalLine = mapping.originalLine;\r\n\t\t\t\t// Lines are stored 0-based\r\n\t\t\t\tmapping.originalLine += 1;\r\n\r\n\t\t\t\t// Original column.\r\n\t\t\t\tmapping.originalColumn = previousOriginalColumn + segment[3];\r\n\t\t\t\tpreviousOriginalColumn = mapping.originalColumn;\r\n\r\n\t\t\t\tif (segment.length > 4) {\r\n\t\t\t\t// Original name.\r\n\t\t\t\tmapping.name = previousName + segment[4];\r\n\t\t\t\tpreviousName += segment[4];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tgeneratedMappings.push(mapping);\r\n\t\t\tif (typeof mapping.originalLine === 'number') {\r\n\t\t\t\toriginalMappings.push(mapping);\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tquickSort(generatedMappings, util.compareByGeneratedPositionsDeflated);\r\n\t\tthis.__generatedMappings = generatedMappings;\r\n\r\n\t\tquickSort(originalMappings, util.compareByOriginalPositions);\r\n\t\tthis.__originalMappings = originalMappings;\r\n\t\t};\r\n\r\n\t/**\r\n\t* Find the mapping that best matches the hypothetical \"needle\" mapping that\r\n\t* we are searching for in the given \"haystack\" of mappings.\r\n\t*/\r\n\tBasicSourceMapConsumer.prototype._findMapping =\r\n\t\tfunction SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName,\r\n\t\t\t\t\t\t\t\t\t\t\taColumnName, aComparator, aBias) {\r\n\t\t// To return the position we are searching for, we must first find the\r\n\t\t// mapping for the given position and then return the opposite position it\r\n\t\t// points to. Because the mappings are sorted, we can use binary search to\r\n\t\t// find the best mapping.\r\n\r\n\t\tif (aNeedle[aLineName] <= 0) {\r\n\t\t\tthrow new TypeError('Line must be greater than or equal to 1, got '\r\n\t\t\t\t\t\t\t\t+ aNeedle[aLineName]);\r\n\t\t}\r\n\t\tif (aNeedle[aColumnName] < 0) {\r\n\t\t\tthrow new TypeError('Column must be greater than or equal to 0, got '\r\n\t\t\t\t\t\t\t\t+ aNeedle[aColumnName]);\r\n\t\t}\r\n\r\n\t\treturn binarySearch.search(aNeedle, aMappings, aComparator, aBias);\r\n\t\t};\r\n\r\n\t/**\r\n\t* Compute the last column for each generated mapping. The last column is\r\n\t* inclusive.\r\n\t*/\r\n\tBasicSourceMapConsumer.prototype.computeColumnSpans =\r\n\t\tfunction SourceMapConsumer_computeColumnSpans() {\r\n\t\tfor (var index = 0; index < this._generatedMappings.length; ++index) {\r\n\t\t\tvar mapping = this._generatedMappings[index];\r\n\r\n\t\t\t// Mappings do not contain a field for the last generated columnt. We\r\n\t\t\t// can come up with an optimistic estimate, however, by assuming that\r\n\t\t\t// mappings are contiguous (i.e. given two consecutive mappings, the\r\n\t\t\t// first mapping ends where the second one starts).\r\n\t\t\tif (index + 1 < this._generatedMappings.length) {\r\n\t\t\tvar nextMapping = this._generatedMappings[index + 1];\r\n\r\n\t\t\tif (mapping.generatedLine === nextMapping.generatedLine) {\r\n\t\t\t\tmapping.lastGeneratedColumn = nextMapping.generatedColumn - 1;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// The last mapping for each line spans the entire line.\r\n\t\t\tmapping.lastGeneratedColumn = Infinity;\r\n\t\t}\r\n\t\t};\r\n\r\n\t/**\r\n\t* Returns the original source, line, and column information for the generated\r\n\t* source's line and column positions provided. The only argument is an object\r\n\t* with the following properties:\r\n\t*\r\n\t*   - line: The line number in the generated source.\r\n\t*   - column: The column number in the generated source.\r\n\t*   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\r\n\t*     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\r\n\t*     closest element that is smaller than or greater than the one we are\r\n\t*     searching for, respectively, if the exact element cannot be found.\r\n\t*     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\r\n\t*\r\n\t* and an object is returned with the following properties:\r\n\t*\r\n\t*   - source: The original source file, or null.\r\n\t*   - line: The line number in the original source, or null.\r\n\t*   - column: The column number in the original source, or null.\r\n\t*   - name: The original identifier, or null.\r\n\t*/\r\n\tBasicSourceMapConsumer.prototype.originalPositionFor =\r\n\t\tfunction SourceMapConsumer_originalPositionFor(aArgs) {\r\n\t\tvar needle = {\r\n\t\t\tgeneratedLine: util.getArg(aArgs, 'line'),\r\n\t\t\tgeneratedColumn: util.getArg(aArgs, 'column')\r\n\t\t};\r\n\r\n\t\tvar index = this._findMapping(\r\n\t\t\tneedle,\r\n\t\t\tthis._generatedMappings,\r\n\t\t\t\"generatedLine\",\r\n\t\t\t\"generatedColumn\",\r\n\t\t\tutil.compareByGeneratedPositionsDeflated,\r\n\t\t\tutil.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\r\n\t\t);\r\n\r\n\t\tif (index >= 0) {\r\n\t\t\tvar mapping = this._generatedMappings[index];\r\n\r\n\t\t\tif (mapping.generatedLine === needle.generatedLine) {\r\n\t\t\tvar source = util.getArg(mapping, 'source', null);\r\n\t\t\tif (source !== null) {\r\n\t\t\t\tsource = this._sources.at(source);\r\n\t\t\t\tif (this.sourceRoot != null) {\r\n\t\t\t\tsource = util.join(this.sourceRoot, source);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar name = util.getArg(mapping, 'name', null);\r\n\t\t\tif (name !== null) {\r\n\t\t\t\tname = this._names.at(name);\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tsource: source,\r\n\t\t\t\tline: util.getArg(mapping, 'originalLine', null),\r\n\t\t\t\tcolumn: util.getArg(mapping, 'originalColumn', null),\r\n\t\t\t\tname: name\r\n\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tsource: null,\r\n\t\t\tline: null,\r\n\t\t\tcolumn: null,\r\n\t\t\tname: null\r\n\t\t};\r\n\t\t};\r\n\r\n\t/**\r\n\t* Return true if we have the source content for every source in the source\r\n\t* map, false otherwise.\r\n\t*/\r\n\tBasicSourceMapConsumer.prototype.hasContentsOfAllSources =\r\n\t\tfunction BasicSourceMapConsumer_hasContentsOfAllSources() {\r\n\t\tif (!this.sourcesContent) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn this.sourcesContent.length >= this._sources.size() &&\r\n\t\t\t!this.sourcesContent.some(function (sc) { return sc == null; });\r\n\t\t};\r\n\r\n\t/**\r\n\t* Returns the original source content. The only argument is the url of the\r\n\t* original source file. Returns null if no original source content is\r\n\t* available.\r\n\t*/\r\n\tBasicSourceMapConsumer.prototype.sourceContentFor =\r\n\t\tfunction SourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\r\n\t\tif (!this.sourcesContent) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tif (this.sourceRoot != null) {\r\n\t\t\taSource = util.relative(this.sourceRoot, aSource);\r\n\t\t}\r\n\r\n\t\tif (this._sources.has(aSource)) {\r\n\t\t\treturn this.sourcesContent[this._sources.indexOf(aSource)];\r\n\t\t}\r\n\r\n\t\tvar url;\r\n\t\tif (this.sourceRoot != null\r\n\t\t\t&& (url = util.urlParse(this.sourceRoot))) {\r\n\t\t\t// XXX: file:// URIs and absolute paths lead to unexpected behavior for\r\n\t\t\t// many users. We can help them out when they expect file:// URIs to\r\n\t\t\t// behave like it would if they were running a local HTTP server. See\r\n\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=885597.\r\n\t\t\tvar fileUriAbsPath = aSource.replace(/^file:\\/\\//, \"\");\r\n\t\t\tif (url.scheme == \"file\"\r\n\t\t\t\t&& this._sources.has(fileUriAbsPath)) {\r\n\t\t\treturn this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]\r\n\t\t\t}\r\n\r\n\t\t\tif ((!url.path || url.path == \"/\")\r\n\t\t\t\t&& this._sources.has(\"/\" + aSource)) {\r\n\t\t\treturn this.sourcesContent[this._sources.indexOf(\"/\" + aSource)];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// This function is used recursively from\r\n\t\t// IndexedSourceMapConsumer.prototype.sourceContentFor. In that case, we\r\n\t\t// don't want to throw if we can't find the source - we just want to\r\n\t\t// return null, so we provide a flag to exit gracefully.\r\n\t\tif (nullOnMissing) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthrow new Error('\"' + aSource + '\" is not in the SourceMap.');\r\n\t\t}\r\n\t\t};\r\n\r\n\t/**\r\n\t* Returns the generated line and column information for the original source,\r\n\t* line, and column positions provided. The only argument is an object with\r\n\t* the following properties:\r\n\t*\r\n\t*   - source: The filename of the original source.\r\n\t*   - line: The line number in the original source.\r\n\t*   - column: The column number in the original source.\r\n\t*   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\r\n\t*     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\r\n\t*     closest element that is smaller than or greater than the one we are\r\n\t*     searching for, respectively, if the exact element cannot be found.\r\n\t*     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\r\n\t*\r\n\t* and an object is returned with the following properties:\r\n\t*\r\n\t*   - line: The line number in the generated source, or null.\r\n\t*   - column: The column number in the generated source, or null.\r\n\t*/\r\n\tBasicSourceMapConsumer.prototype.generatedPositionFor =\r\n\t\tfunction SourceMapConsumer_generatedPositionFor(aArgs) {\r\n\t\tvar source = util.getArg(aArgs, 'source');\r\n\t\tif (this.sourceRoot != null) {\r\n\t\t\tsource = util.relative(this.sourceRoot, source);\r\n\t\t}\r\n\t\tif (!this._sources.has(source)) {\r\n\t\t\treturn {\r\n\t\t\tline: null,\r\n\t\t\tcolumn: null,\r\n\t\t\tlastColumn: null\r\n\t\t\t};\r\n\t\t}\r\n\t\tsource = this._sources.indexOf(source);\r\n\r\n\t\tvar needle = {\r\n\t\t\tsource: source,\r\n\t\t\toriginalLine: util.getArg(aArgs, 'line'),\r\n\t\t\toriginalColumn: util.getArg(aArgs, 'column')\r\n\t\t};\r\n\r\n\t\tvar index = this._findMapping(\r\n\t\t\tneedle,\r\n\t\t\tthis._originalMappings,\r\n\t\t\t\"originalLine\",\r\n\t\t\t\"originalColumn\",\r\n\t\t\tutil.compareByOriginalPositions,\r\n\t\t\tutil.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\r\n\t\t);\r\n\r\n\t\tif (index >= 0) {\r\n\t\t\tvar mapping = this._originalMappings[index];\r\n\r\n\t\t\tif (mapping.source === needle.source) {\r\n\t\t\treturn {\r\n\t\t\t\tline: util.getArg(mapping, 'generatedLine', null),\r\n\t\t\t\tcolumn: util.getArg(mapping, 'generatedColumn', null),\r\n\t\t\t\tlastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\r\n\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tline: null,\r\n\t\t\tcolumn: null,\r\n\t\t\tlastColumn: null\r\n\t\t};\r\n\t\t};\r\n\r\n\texports.BasicSourceMapConsumer = BasicSourceMapConsumer;\r\n\r\n\t/**\r\n\t* An IndexedSourceMapConsumer instance represents a parsed source map which\r\n\t* we can query for information. It differs from BasicSourceMapConsumer in\r\n\t* that it takes \"indexed\" source maps (i.e. ones with a \"sections\" field) as\r\n\t* input.\r\n\t*\r\n\t* The only parameter is a raw source map (either as a JSON string, or already\r\n\t* parsed to an object). According to the spec for indexed source maps, they\r\n\t* have the following attributes:\r\n\t*\r\n\t*   - version: Which version of the source map spec this map is following.\r\n\t*   - file: Optional. The generated file this source map is associated with.\r\n\t*   - sections: A list of section definitions.\r\n\t*\r\n\t* Each value under the \"sections\" field has two fields:\r\n\t*   - offset: The offset into the original specified at which this section\r\n\t*       begins to apply, defined as an object with a \"line\" and \"column\"\r\n\t*       field.\r\n\t*   - map: A source map definition. This source map could also be indexed,\r\n\t*       but doesn't have to be.\r\n\t*\r\n\t* Instead of the \"map\" field, it's also possible to have a \"url\" field\r\n\t* specifying a URL to retrieve a source map from, but that's currently\r\n\t* unsupported.\r\n\t*\r\n\t* Here's an example source map, taken from the source map spec[0], but\r\n\t* modified to omit a section which uses the \"url\" field.\r\n\t*\r\n\t*  {\r\n\t*    version : 3,\r\n\t*    file: \"app.js\",\r\n\t*    sections: [{\r\n\t*      offset: {line:100, column:10},\r\n\t*      map: {\r\n\t*        version : 3,\r\n\t*        file: \"section.js\",\r\n\t*        sources: [\"foo.js\", \"bar.js\"],\r\n\t*        names: [\"src\", \"maps\", \"are\", \"fun\"],\r\n\t*        mappings: \"AAAA,E;;ABCDE;\"\r\n\t*      }\r\n\t*    }],\r\n\t*  }\r\n\t*\r\n\t* [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt\r\n\t*/\r\n\tfunction IndexedSourceMapConsumer(aSourceMap) {\r\n\t\tvar sourceMap = aSourceMap;\r\n\t\tif (typeof aSourceMap === 'string') {\r\n\t\tsourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\r\n\t\t}\r\n\r\n\t\tvar version = util.getArg(sourceMap, 'version');\r\n\t\tvar sections = util.getArg(sourceMap, 'sections');\r\n\r\n\t\tif (version != this._version) {\r\n\t\tthrow new Error('Unsupported version: ' + version);\r\n\t\t}\r\n\r\n\t\tthis._sources = new ArraySet();\r\n\t\tthis._names = new ArraySet();\r\n\r\n\t\tvar lastOffset = {\r\n\t\tline: -1,\r\n\t\tcolumn: 0\r\n\t\t};\r\n\t\tthis._sections = sections.map(function (s) {\r\n\t\tif (s.url) {\r\n\t\t\t// The url field will require support for asynchronicity.\r\n\t\t\t// See https://github.com/mozilla/source-map/issues/16\r\n\t\t\tthrow new Error('Support for url field in sections not implemented.');\r\n\t\t}\r\n\t\tvar offset = util.getArg(s, 'offset');\r\n\t\tvar offsetLine = util.getArg(offset, 'line');\r\n\t\tvar offsetColumn = util.getArg(offset, 'column');\r\n\r\n\t\tif (offsetLine < lastOffset.line ||\r\n\t\t\t(offsetLine === lastOffset.line && offsetColumn < lastOffset.column)) {\r\n\t\t\tthrow new Error('Section offsets must be ordered and non-overlapping.');\r\n\t\t}\r\n\t\tlastOffset = offset;\r\n\r\n\t\treturn {\r\n\t\t\tgeneratedOffset: {\r\n\t\t\t// The offset fields are 0-based, but we use 1-based indices when\r\n\t\t\t// encoding/decoding from VLQ.\r\n\t\t\tgeneratedLine: offsetLine + 1,\r\n\t\t\tgeneratedColumn: offsetColumn + 1\r\n\t\t\t},\r\n\t\t\tconsumer: new SourceMapConsumer(util.getArg(s, 'map'))\r\n\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tIndexedSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\r\n\tIndexedSourceMapConsumer.prototype.constructor = SourceMapConsumer;\r\n\r\n\t/**\r\n\t* The version of the source mapping spec that we are consuming.\r\n\t*/\r\n\tIndexedSourceMapConsumer.prototype._version = 3;\r\n\r\n\t/**\r\n\t* The list of original sources.\r\n\t*/\r\n\tObject.defineProperty(IndexedSourceMapConsumer.prototype, 'sources', {\r\n\t\tget: function () {\r\n\t\tvar sources = [];\r\n\t\tfor (var i = 0; i < this._sections.length; i++) {\r\n\t\t\tfor (var j = 0; j < this._sections[i].consumer.sources.length; j++) {\r\n\t\t\tsources.push(this._sections[i].consumer.sources[j]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sources;\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t* Returns the original source, line, and column information for the generated\r\n\t* source's line and column positions provided. The only argument is an object\r\n\t* with the following properties:\r\n\t*\r\n\t*   - line: The line number in the generated source.\r\n\t*   - column: The column number in the generated source.\r\n\t*\r\n\t* and an object is returned with the following properties:\r\n\t*\r\n\t*   - source: The original source file, or null.\r\n\t*   - line: The line number in the original source, or null.\r\n\t*   - column: The column number in the original source, or null.\r\n\t*   - name: The original identifier, or null.\r\n\t*/\r\n\tIndexedSourceMapConsumer.prototype.originalPositionFor =\r\n\t\tfunction IndexedSourceMapConsumer_originalPositionFor(aArgs) {\r\n\t\tvar needle = {\r\n\t\t\tgeneratedLine: util.getArg(aArgs, 'line'),\r\n\t\t\tgeneratedColumn: util.getArg(aArgs, 'column')\r\n\t\t};\r\n\r\n\t\t// Find the section containing the generated position we're trying to map\r\n\t\t// to an original position.\r\n\t\tvar sectionIndex = binarySearch.search(needle, this._sections,\r\n\t\t\tfunction(needle, section) {\r\n\t\t\tvar cmp = needle.generatedLine - section.generatedOffset.generatedLine;\r\n\t\t\tif (cmp) {\r\n\t\t\t\treturn cmp;\r\n\t\t\t}\r\n\r\n\t\t\treturn (needle.generatedColumn -\r\n\t\t\t\t\tsection.generatedOffset.generatedColumn);\r\n\t\t\t});\r\n\t\tvar section = this._sections[sectionIndex];\r\n\r\n\t\tif (!section) {\r\n\t\t\treturn {\r\n\t\t\tsource: null,\r\n\t\t\tline: null,\r\n\t\t\tcolumn: null,\r\n\t\t\tname: null\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn section.consumer.originalPositionFor({\r\n\t\t\tline: needle.generatedLine -\r\n\t\t\t(section.generatedOffset.generatedLine - 1),\r\n\t\t\tcolumn: needle.generatedColumn -\r\n\t\t\t(section.generatedOffset.generatedLine === needle.generatedLine\r\n\t\t\t? section.generatedOffset.generatedColumn - 1\r\n\t\t\t: 0),\r\n\t\t\tbias: aArgs.bias\r\n\t\t});\r\n\t\t};\r\n\r\n\t/**\r\n\t* Return true if we have the source content for every source in the source\r\n\t* map, false otherwise.\r\n\t*/\r\n\tIndexedSourceMapConsumer.prototype.hasContentsOfAllSources =\r\n\t\tfunction IndexedSourceMapConsumer_hasContentsOfAllSources() {\r\n\t\treturn this._sections.every(function (s) {\r\n\t\t\treturn s.consumer.hasContentsOfAllSources();\r\n\t\t});\r\n\t\t};\r\n\r\n\t/**\r\n\t* Returns the original source content. The only argument is the url of the\r\n\t* original source file. Returns null if no original source content is\r\n\t* available.\r\n\t*/\r\n\tIndexedSourceMapConsumer.prototype.sourceContentFor =\r\n\t\tfunction IndexedSourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\r\n\t\tfor (var i = 0; i < this._sections.length; i++) {\r\n\t\t\tvar section = this._sections[i];\r\n\r\n\t\t\tvar content = section.consumer.sourceContentFor(aSource, true);\r\n\t\t\tif (content) {\r\n\t\t\treturn content;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (nullOnMissing) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthrow new Error('\"' + aSource + '\" is not in the SourceMap.');\r\n\t\t}\r\n\t\t};\r\n\r\n\t/**\r\n\t* Returns the generated line and column information for the original source,\r\n\t* line, and column positions provided. The only argument is an object with\r\n\t* the following properties:\r\n\t*\r\n\t*   - source: The filename of the original source.\r\n\t*   - line: The line number in the original source.\r\n\t*   - column: The column number in the original source.\r\n\t*\r\n\t* and an object is returned with the following properties:\r\n\t*\r\n\t*   - line: The line number in the generated source, or null.\r\n\t*   - column: The column number in the generated source, or null.\r\n\t*/\r\n\tIndexedSourceMapConsumer.prototype.generatedPositionFor =\r\n\t\tfunction IndexedSourceMapConsumer_generatedPositionFor(aArgs) {\r\n\t\tfor (var i = 0; i < this._sections.length; i++) {\r\n\t\t\tvar section = this._sections[i];\r\n\r\n\t\t\t// Only consider this section if the requested source is in the list of\r\n\t\t\t// sources of the consumer.\r\n\t\t\tif (section.consumer.sources.indexOf(util.getArg(aArgs, 'source')) === -1) {\r\n\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tvar generatedPosition = section.consumer.generatedPositionFor(aArgs);\r\n\t\t\tif (generatedPosition) {\r\n\t\t\tvar ret = {\r\n\t\t\t\tline: generatedPosition.line +\r\n\t\t\t\t(section.generatedOffset.generatedLine - 1),\r\n\t\t\t\tcolumn: generatedPosition.column +\r\n\t\t\t\t(section.generatedOffset.generatedLine === generatedPosition.line\r\n\t\t\t\t? section.generatedOffset.generatedColumn - 1\r\n\t\t\t\t: 0)\r\n\t\t\t};\r\n\t\t\treturn ret;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tline: null,\r\n\t\t\tcolumn: null\r\n\t\t};\r\n\t\t};\r\n\r\n\t/**\r\n\t* Parse the mappings in a string in to a data structure which we can easily\r\n\t* query (the ordered arrays in the `this.__generatedMappings` and\r\n\t* `this.__originalMappings` properties).\r\n\t*/\r\n\tIndexedSourceMapConsumer.prototype._parseMappings =\r\n\t\tfunction IndexedSourceMapConsumer_parseMappings(aStr, aSourceRoot) {\r\n\t\tthis.__generatedMappings = [];\r\n\t\tthis.__originalMappings = [];\r\n\t\tfor (var i = 0; i < this._sections.length; i++) {\r\n\t\t\tvar section = this._sections[i];\r\n\t\t\tvar sectionMappings = section.consumer._generatedMappings;\r\n\t\t\tfor (var j = 0; j < sectionMappings.length; j++) {\r\n\t\t\tvar mapping = sectionMappings[j];\r\n\r\n\t\t\tvar source = section.consumer._sources.at(mapping.source);\r\n\t\t\tif (section.consumer.sourceRoot !== null) {\r\n\t\t\t\tsource = util.join(section.consumer.sourceRoot, source);\r\n\t\t\t}\r\n\t\t\tthis._sources.add(source);\r\n\t\t\tsource = this._sources.indexOf(source);\r\n\r\n\t\t\tvar name = section.consumer._names.at(mapping.name);\r\n\t\t\tthis._names.add(name);\r\n\t\t\tname = this._names.indexOf(name);\r\n\r\n\t\t\t// The mappings coming from the consumer for the section have\r\n\t\t\t// generated positions relative to the start of the section, so we\r\n\t\t\t// need to offset them to be relative to the start of the concatenated\r\n\t\t\t// generated file.\r\n\t\t\tvar adjustedMapping = {\r\n\t\t\t\tsource: source,\r\n\t\t\t\tgeneratedLine: mapping.generatedLine +\r\n\t\t\t\t(section.generatedOffset.generatedLine - 1),\r\n\t\t\t\tgeneratedColumn: mapping.generatedColumn +\r\n\t\t\t\t(section.generatedOffset.generatedLine === mapping.generatedLine\r\n\t\t\t\t? section.generatedOffset.generatedColumn - 1\r\n\t\t\t\t: 0),\r\n\t\t\t\toriginalLine: mapping.originalLine,\r\n\t\t\t\toriginalColumn: mapping.originalColumn,\r\n\t\t\t\tname: name\r\n\t\t\t};\r\n\r\n\t\t\tthis.__generatedMappings.push(adjustedMapping);\r\n\t\t\tif (typeof adjustedMapping.originalLine === 'number') {\r\n\t\t\t\tthis.__originalMappings.push(adjustedMapping);\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tquickSort(this.__generatedMappings, util.compareByGeneratedPositionsDeflated);\r\n\t\tquickSort(this.__originalMappings, util.compareByOriginalPositions);\r\n\t\t};\r\n\r\n\texports.IndexedSourceMapConsumer = IndexedSourceMapConsumer;\r\n\r\n\r\n/***/ },\r\n/* 8 */\r\n/***/ function(module, exports) {\r\n\r\n\t/* -*- Mode: js; js-indent-level: 2; -*- */\r\n\t/*\r\n\t* Copyright 2011 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*/\r\n\r\n\texports.GREATEST_LOWER_BOUND = 1;\r\n\texports.LEAST_UPPER_BOUND = 2;\r\n\r\n\t/**\r\n\t* Recursive implementation of binary search.\r\n\t*\r\n\t* @param aLow Indices here and lower do not contain the needle.\r\n\t* @param aHigh Indices here and higher do not contain the needle.\r\n\t* @param aNeedle The element being searched for.\r\n\t* @param aHaystack The non-empty array being searched.\r\n\t* @param aCompare Function which takes two elements and returns -1, 0, or 1.\r\n\t* @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\r\n\t*     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\r\n\t*     closest element that is smaller than or greater than the one we are\r\n\t*     searching for, respectively, if the exact element cannot be found.\r\n\t*/\r\n\tfunction recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {\r\n\t\t// This function terminates when one of the following is true:\r\n\t\t//\r\n\t\t//   1. We find the exact element we are looking for.\r\n\t\t//\r\n\t\t//   2. We did not find the exact element, but we can return the index of\r\n\t\t//      the next-closest element.\r\n\t\t//\r\n\t\t//   3. We did not find the exact element, and there is no next-closest\r\n\t\t//      element than the one we are searching for, so we return -1.\r\n\t\tvar mid = Math.floor((aHigh - aLow) / 2) + aLow;\r\n\t\tvar cmp = aCompare(aNeedle, aHaystack[mid], true);\r\n\t\tif (cmp === 0) {\r\n\t\t// Found the element we are looking for.\r\n\t\treturn mid;\r\n\t\t}\r\n\t\telse if (cmp > 0) {\r\n\t\t// Our needle is greater than aHaystack[mid].\r\n\t\tif (aHigh - mid > 1) {\r\n\t\t\t// The element is in the upper half.\r\n\t\t\treturn recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);\r\n\t\t}\r\n\r\n\t\t// The exact needle element was not found in this haystack. Determine if\r\n\t\t// we are in termination case (3) or (2) and return the appropriate thing.\r\n\t\tif (aBias == exports.LEAST_UPPER_BOUND) {\r\n\t\t\treturn aHigh < aHaystack.length ? aHigh : -1;\r\n\t\t} else {\r\n\t\t\treturn mid;\r\n\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t// Our needle is less than aHaystack[mid].\r\n\t\tif (mid - aLow > 1) {\r\n\t\t\t// The element is in the lower half.\r\n\t\t\treturn recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);\r\n\t\t}\r\n\r\n\t\t// we are in termination case (3) or (2) and return the appropriate thing.\r\n\t\tif (aBias == exports.LEAST_UPPER_BOUND) {\r\n\t\t\treturn mid;\r\n\t\t} else {\r\n\t\t\treturn aLow < 0 ? -1 : aLow;\r\n\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t* This is an implementation of binary search which will always try and return\r\n\t* the index of the closest element if there is no exact hit. This is because\r\n\t* mappings between original and generated line/col pairs are single points,\r\n\t* and there is an implicit region between each of them, so a miss just means\r\n\t* that you aren't on the very start of a region.\r\n\t*\r\n\t* @param aNeedle The element you are looking for.\r\n\t* @param aHaystack The array that is being searched.\r\n\t* @param aCompare A function which takes the needle and an element in the\r\n\t*     array and returns -1, 0, or 1 depending on whether the needle is less\r\n\t*     than, equal to, or greater than the element, respectively.\r\n\t* @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\r\n\t*     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\r\n\t*     closest element that is smaller than or greater than the one we are\r\n\t*     searching for, respectively, if the exact element cannot be found.\r\n\t*     Defaults to 'binarySearch.GREATEST_LOWER_BOUND'.\r\n\t*/\r\n\texports.search = function search(aNeedle, aHaystack, aCompare, aBias) {\r\n\t\tif (aHaystack.length === 0) {\r\n\t\treturn -1;\r\n\t\t}\r\n\r\n\t\tvar index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack,\r\n\t\t\t\t\t\t\t\t\taCompare, aBias || exports.GREATEST_LOWER_BOUND);\r\n\t\tif (index < 0) {\r\n\t\treturn -1;\r\n\t\t}\r\n\r\n\t\t// We have found either the exact element, or the next-closest element than\r\n\t\t// the one we are searching for. However, there may be more than one such\r\n\t\t// element. Make sure we always return the smallest of these.\r\n\t\twhile (index - 1 >= 0) {\r\n\t\tif (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\t--index;\r\n\t\t}\r\n\r\n\t\treturn index;\r\n\t};\r\n\r\n\r\n/***/ },\r\n/* 9 */\r\n/***/ function(module, exports) {\r\n\r\n\t/* -*- Mode: js; js-indent-level: 2; -*- */\r\n\t/*\r\n\t* Copyright 2011 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*/\r\n\r\n\t// It turns out that some (most?) JavaScript engines don't self-host\r\n\t// `Array.prototype.sort`. This makes sense because C++ will likely remain\r\n\t// faster than JS when doing raw CPU-intensive sorting. However, when using a\r\n\t// custom comparator function, calling back and forth between the VM's C++ and\r\n\t// JIT'd JS is rather slow *and* loses JIT type information, resulting in\r\n\t// worse generated code for the comparator function than would be optimal. In\r\n\t// fact, when sorting with a comparator, these costs outweigh the benefits of\r\n\t// sorting in C++. By using our own JS-implemented Quick Sort (below), we get\r\n\t// a ~3500ms mean speed-up in `bench/bench.html`.\r\n\r\n\t/**\r\n\t* Swap the elements indexed by `x` and `y` in the array `ary`.\r\n\t*\r\n\t* @param {Array} ary\r\n\t*        The array.\r\n\t* @param {Number} x\r\n\t*        The index of the first item.\r\n\t* @param {Number} y\r\n\t*        The index of the second item.\r\n\t*/\r\n\tfunction swap(ary, x, y) {\r\n\t\tvar temp = ary[x];\r\n\t\tary[x] = ary[y];\r\n\t\tary[y] = temp;\r\n\t}\r\n\r\n\t/**\r\n\t* Returns a random integer within the range `low .. high` inclusive.\r\n\t*\r\n\t* @param {Number} low\r\n\t*        The lower bound on the range.\r\n\t* @param {Number} high\r\n\t*        The upper bound on the range.\r\n\t*/\r\n\tfunction randomIntInRange(low, high) {\r\n\t\treturn Math.round(low + (Math.random() * (high - low)));\r\n\t}\r\n\r\n\t/**\r\n\t* The Quick Sort algorithm.\r\n\t*\r\n\t* @param {Array} ary\r\n\t*        An array to sort.\r\n\t* @param {function} comparator\r\n\t*        Function to use to compare two items.\r\n\t* @param {Number} p\r\n\t*        Start index of the array\r\n\t* @param {Number} r\r\n\t*        End index of the array\r\n\t*/\r\n\tfunction doQuickSort(ary, comparator, p, r) {\r\n\t\t// If our lower bound is less than our upper bound, we (1) partition the\r\n\t\t// array into two pieces and (2) recurse on each half. If it is not, this is\r\n\t\t// the empty array and our base case.\r\n\r\n\t\tif (p < r) {\r\n\t\t// (1) Partitioning.\r\n\t\t//\r\n\t\t// The partitioning chooses a pivot between `p` and `r` and moves all\r\n\t\t// elements that are less than or equal to the pivot to the before it, and\r\n\t\t// all the elements that are greater than it after it. The effect is that\r\n\t\t// once partition is done, the pivot is in the exact place it will be when\r\n\t\t// the array is put in sorted order, and it will not need to be moved\r\n\t\t// again. This runs in O(n) time.\r\n\r\n\t\t// Always choose a random pivot so that an input array which is reverse\r\n\t\t// sorted does not cause O(n^2) running time.\r\n\t\tvar pivotIndex = randomIntInRange(p, r);\r\n\t\tvar i = p - 1;\r\n\r\n\t\tswap(ary, pivotIndex, r);\r\n\t\tvar pivot = ary[r];\r\n\r\n\t\t// Immediately after `j` is incremented in this loop, the following hold\r\n\t\t// true:\r\n\t\t//\r\n\t\t//   * Every element in `ary[p .. i]` is less than or equal to the pivot.\r\n\t\t//\r\n\t\t//   * Every element in `ary[i+1 .. j-1]` is greater than the pivot.\r\n\t\tfor (var j = p; j < r; j++) {\r\n\t\t\tif (comparator(ary[j], pivot) <= 0) {\r\n\t\t\ti += 1;\r\n\t\t\tswap(ary, i, j);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tswap(ary, i + 1, j);\r\n\t\tvar q = i + 1;\r\n\r\n\t\t// (2) Recurse on each half.\r\n\r\n\t\tdoQuickSort(ary, comparator, p, q - 1);\r\n\t\tdoQuickSort(ary, comparator, q + 1, r);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t* Sort the given array in-place with the given comparator function.\r\n\t*\r\n\t* @param {Array} ary\r\n\t*        An array to sort.\r\n\t* @param {function} comparator\r\n\t*        Function to use to compare two items.\r\n\t*/\r\n\texports.quickSort = function (ary, comparator) {\r\n\t\tdoQuickSort(ary, comparator, 0, ary.length - 1);\r\n\t};\r\n\r\n\r\n/***/ },\r\n/* 10 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* -*- Mode: js; js-indent-level: 2; -*- */\r\n\t/*\r\n\t* Copyright 2011 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*/\r\n\r\n\tvar SourceMapGenerator = __webpack_require__(1).SourceMapGenerator;\r\n\tvar util = __webpack_require__(4);\r\n\r\n\t// Matches a Windows-style `\\r\\n` newline or a `\\n` newline used by all other\r\n\t// operating systems these days (capturing the result).\r\n\tvar REGEX_NEWLINE = /(\\r?\\n)/;\r\n\r\n\t// Newline character code for charCodeAt() comparisons\r\n\tvar NEWLINE_CODE = 10;\r\n\r\n\t// Private symbol for identifying `SourceNode`s when multiple versions of\r\n\t// the source-map library are loaded. This MUST NOT CHANGE across\r\n\t// versions!\r\n\tvar isSourceNode = \"$$$isSourceNode$$$\";\r\n\r\n\t/**\r\n\t* SourceNodes provide a way to abstract over interpolating/concatenating\r\n\t* snippets of generated JavaScript source code while maintaining the line and\r\n\t* column information associated with the original source code.\r\n\t*\r\n\t* @param aLine The original line number.\r\n\t* @param aColumn The original column number.\r\n\t* @param aSource The original source's filename.\r\n\t* @param aChunks Optional. An array of strings which are snippets of\r\n\t*        generated JS, or other SourceNodes.\r\n\t* @param aName The original identifier.\r\n\t*/\r\n\tfunction SourceNode(aLine, aColumn, aSource, aChunks, aName) {\r\n\t\tthis.children = [];\r\n\t\tthis.sourceContents = {};\r\n\t\tthis.line = aLine == null ? null : aLine;\r\n\t\tthis.column = aColumn == null ? null : aColumn;\r\n\t\tthis.source = aSource == null ? null : aSource;\r\n\t\tthis.name = aName == null ? null : aName;\r\n\t\tthis[isSourceNode] = true;\r\n\t\tif (aChunks != null) this.add(aChunks);\r\n\t}\r\n\r\n\t/**\r\n\t* Creates a SourceNode from generated code and a SourceMapConsumer.\r\n\t*\r\n\t* @param aGeneratedCode The generated code\r\n\t* @param aSourceMapConsumer The SourceMap for the generated code\r\n\t* @param aRelativePath Optional. The path that relative sources in the\r\n\t*        SourceMapConsumer should be relative to.\r\n\t*/\r\n\tSourceNode.fromStringWithSourceMap =\r\n\t\tfunction SourceNode_fromStringWithSourceMap(aGeneratedCode, aSourceMapConsumer, aRelativePath) {\r\n\t\t// The SourceNode we want to fill with the generated code\r\n\t\t// and the SourceMap\r\n\t\tvar node = new SourceNode();\r\n\r\n\t\t// All even indices of this array are one line of the generated code,\r\n\t\t// while all odd indices are the newlines between two adjacent lines\r\n\t\t// (since `REGEX_NEWLINE` captures its match).\r\n\t\t// Processed fragments are removed from this array, by calling `shiftNextLine`.\r\n\t\tvar remainingLines = aGeneratedCode.split(REGEX_NEWLINE);\r\n\t\tvar shiftNextLine = function() {\r\n\t\t\tvar lineContents = remainingLines.shift();\r\n\t\t\t// The last line of a file might not have a newline.\r\n\t\t\tvar newLine = remainingLines.shift() || \"\";\r\n\t\t\treturn lineContents + newLine;\r\n\t\t};\r\n\r\n\t\t// We need to remember the position of \"remainingLines\"\r\n\t\tvar lastGeneratedLine = 1, lastGeneratedColumn = 0;\r\n\r\n\t\t// The generate SourceNodes we need a code range.\r\n\t\t// To extract it current and last mapping is used.\r\n\t\t// Here we store the last mapping.\r\n\t\tvar lastMapping = null;\r\n\r\n\t\taSourceMapConsumer.eachMapping(function (mapping) {\r\n\t\t\tif (lastMapping !== null) {\r\n\t\t\t// We add the code from \"lastMapping\" to \"mapping\":\r\n\t\t\t// First check if there is a new line in between.\r\n\t\t\tif (lastGeneratedLine < mapping.generatedLine) {\r\n\t\t\t\t// Associate first line with \"lastMapping\"\r\n\t\t\t\taddMappingWithCode(lastMapping, shiftNextLine());\r\n\t\t\t\tlastGeneratedLine++;\r\n\t\t\t\tlastGeneratedColumn = 0;\r\n\t\t\t\t// The remaining code is added without mapping\r\n\t\t\t} else {\r\n\t\t\t\t// There is no new line in between.\r\n\t\t\t\t// Associate the code between \"lastGeneratedColumn\" and\r\n\t\t\t\t// \"mapping.generatedColumn\" with \"lastMapping\"\r\n\t\t\t\tvar nextLine = remainingLines[0];\r\n\t\t\t\tvar code = nextLine.substr(0, mapping.generatedColumn -\r\n\t\t\t\t\t\t\t\t\t\t\tlastGeneratedColumn);\r\n\t\t\t\tremainingLines[0] = nextLine.substr(mapping.generatedColumn -\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlastGeneratedColumn);\r\n\t\t\t\tlastGeneratedColumn = mapping.generatedColumn;\r\n\t\t\t\taddMappingWithCode(lastMapping, code);\r\n\t\t\t\t// No more remaining code, continue\r\n\t\t\t\tlastMapping = mapping;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t\t// We add the generated code until the first mapping\r\n\t\t\t// to the SourceNode without any mapping.\r\n\t\t\t// Each line is added as separate string.\r\n\t\t\twhile (lastGeneratedLine < mapping.generatedLine) {\r\n\t\t\tnode.add(shiftNextLine());\r\n\t\t\tlastGeneratedLine++;\r\n\t\t\t}\r\n\t\t\tif (lastGeneratedColumn < mapping.generatedColumn) {\r\n\t\t\tvar nextLine = remainingLines[0];\r\n\t\t\tnode.add(nextLine.substr(0, mapping.generatedColumn));\r\n\t\t\tremainingLines[0] = nextLine.substr(mapping.generatedColumn);\r\n\t\t\tlastGeneratedColumn = mapping.generatedColumn;\r\n\t\t\t}\r\n\t\t\tlastMapping = mapping;\r\n\t\t}, this);\r\n\t\t// We have processed all mappings.\r\n\t\tif (remainingLines.length > 0) {\r\n\t\t\tif (lastMapping) {\r\n\t\t\t// Associate the remaining code in the current line with \"lastMapping\"\r\n\t\t\taddMappingWithCode(lastMapping, shiftNextLine());\r\n\t\t\t}\r\n\t\t\t// and add the remaining lines without any mapping\r\n\t\t\tnode.add(remainingLines.join(\"\"));\r\n\t\t}\r\n\r\n\t\t// Copy sourcesContent into SourceNode\r\n\t\taSourceMapConsumer.sources.forEach(function (sourceFile) {\r\n\t\t\tvar content = aSourceMapConsumer.sourceContentFor(sourceFile);\r\n\t\t\tif (content != null) {\r\n\t\t\tif (aRelativePath != null) {\r\n\t\t\t\tsourceFile = util.join(aRelativePath, sourceFile);\r\n\t\t\t}\r\n\t\t\tnode.setSourceContent(sourceFile, content);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn node;\r\n\r\n\t\tfunction addMappingWithCode(mapping, code) {\r\n\t\t\tif (mapping === null || mapping.source === undefined) {\r\n\t\t\tnode.add(code);\r\n\t\t\t} else {\r\n\t\t\tvar source = aRelativePath\r\n\t\t\t\t? util.join(aRelativePath, mapping.source)\r\n\t\t\t\t: mapping.source;\r\n\t\t\tnode.add(new SourceNode(mapping.originalLine,\r\n\t\t\t\t\t\t\t\t\tmapping.originalColumn,\r\n\t\t\t\t\t\t\t\t\tsource,\r\n\t\t\t\t\t\t\t\t\tcode,\r\n\t\t\t\t\t\t\t\t\tmapping.name));\r\n\t\t\t}\r\n\t\t}\r\n\t\t};\r\n\r\n\t/**\r\n\t* Add a chunk of generated JS to this source node.\r\n\t*\r\n\t* @param aChunk A string snippet of generated JS code, another instance of\r\n\t*        SourceNode, or an array where each member is one of those things.\r\n\t*/\r\n\tSourceNode.prototype.add = function SourceNode_add(aChunk) {\r\n\t\tif (Array.isArray(aChunk)) {\r\n\t\taChunk.forEach(function (chunk) {\r\n\t\t\tthis.add(chunk);\r\n\t\t}, this);\r\n\t\t}\r\n\t\telse if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\r\n\t\tif (aChunk) {\r\n\t\t\tthis.children.push(aChunk);\r\n\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\tthrow new TypeError(\r\n\t\t\t\"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\r\n\t\t);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t* Add a chunk of generated JS to the beginning of this source node.\r\n\t*\r\n\t* @param aChunk A string snippet of generated JS code, another instance of\r\n\t*        SourceNode, or an array where each member is one of those things.\r\n\t*/\r\n\tSourceNode.prototype.prepend = function SourceNode_prepend(aChunk) {\r\n\t\tif (Array.isArray(aChunk)) {\r\n\t\tfor (var i = aChunk.length-1; i >= 0; i--) {\r\n\t\t\tthis.prepend(aChunk[i]);\r\n\t\t}\r\n\t\t}\r\n\t\telse if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\r\n\t\tthis.children.unshift(aChunk);\r\n\t\t}\r\n\t\telse {\r\n\t\tthrow new TypeError(\r\n\t\t\t\"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\r\n\t\t);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t* Walk over the tree of JS snippets in this node and its children. The\r\n\t* walking function is called once for each snippet of JS and is passed that\r\n\t* snippet and the its original associated source's line/column location.\r\n\t*\r\n\t* @param aFn The traversal function.\r\n\t*/\r\n\tSourceNode.prototype.walk = function SourceNode_walk(aFn) {\r\n\t\tvar chunk;\r\n\t\tfor (var i = 0, len = this.children.length; i < len; i++) {\r\n\t\tchunk = this.children[i];\r\n\t\tif (chunk[isSourceNode]) {\r\n\t\t\tchunk.walk(aFn);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (chunk !== '') {\r\n\t\t\taFn(chunk, { source: this.source,\r\n\t\t\t\t\t\tline: this.line,\r\n\t\t\t\t\t\tcolumn: this.column,\r\n\t\t\t\t\t\tname: this.name });\r\n\t\t\t}\r\n\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t* Like `String.prototype.join` except for SourceNodes. Inserts `aStr` between\r\n\t* each of `this.children`.\r\n\t*\r\n\t* @param aSep The separator.\r\n\t*/\r\n\tSourceNode.prototype.join = function SourceNode_join(aSep) {\r\n\t\tvar newChildren;\r\n\t\tvar i;\r\n\t\tvar len = this.children.length;\r\n\t\tif (len > 0) {\r\n\t\tnewChildren = [];\r\n\t\tfor (i = 0; i < len-1; i++) {\r\n\t\t\tnewChildren.push(this.children[i]);\r\n\t\t\tnewChildren.push(aSep);\r\n\t\t}\r\n\t\tnewChildren.push(this.children[i]);\r\n\t\tthis.children = newChildren;\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t* Call String.prototype.replace on the very right-most source snippet. Useful\r\n\t* for trimming whitespace from the end of a source node, etc.\r\n\t*\r\n\t* @param aPattern The pattern to replace.\r\n\t* @param aReplacement The thing to replace the pattern with.\r\n\t*/\r\n\tSourceNode.prototype.replaceRight = function SourceNode_replaceRight(aPattern, aReplacement) {\r\n\t\tvar lastChild = this.children[this.children.length - 1];\r\n\t\tif (lastChild[isSourceNode]) {\r\n\t\tlastChild.replaceRight(aPattern, aReplacement);\r\n\t\t}\r\n\t\telse if (typeof lastChild === 'string') {\r\n\t\tthis.children[this.children.length - 1] = lastChild.replace(aPattern, aReplacement);\r\n\t\t}\r\n\t\telse {\r\n\t\tthis.children.push(''.replace(aPattern, aReplacement));\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t* Set the source content for a source file. This will be added to the SourceMapGenerator\r\n\t* in the sourcesContent field.\r\n\t*\r\n\t* @param aSourceFile The filename of the source file\r\n\t* @param aSourceContent The content of the source file\r\n\t*/\r\n\tSourceNode.prototype.setSourceContent =\r\n\t\tfunction SourceNode_setSourceContent(aSourceFile, aSourceContent) {\r\n\t\tthis.sourceContents[util.toSetString(aSourceFile)] = aSourceContent;\r\n\t\t};\r\n\r\n\t/**\r\n\t* Walk over the tree of SourceNodes. The walking function is called for each\r\n\t* source file content and is passed the filename and source content.\r\n\t*\r\n\t* @param aFn The traversal function.\r\n\t*/\r\n\tSourceNode.prototype.walkSourceContents =\r\n\t\tfunction SourceNode_walkSourceContents(aFn) {\r\n\t\tfor (var i = 0, len = this.children.length; i < len; i++) {\r\n\t\t\tif (this.children[i][isSourceNode]) {\r\n\t\t\tthis.children[i].walkSourceContents(aFn);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar sources = Object.keys(this.sourceContents);\r\n\t\tfor (var i = 0, len = sources.length; i < len; i++) {\r\n\t\t\taFn(util.fromSetString(sources[i]), this.sourceContents[sources[i]]);\r\n\t\t}\r\n\t\t};\r\n\r\n\t/**\r\n\t* Return the string representation of this source node. Walks over the tree\r\n\t* and concatenates all the various snippets together to one string.\r\n\t*/\r\n\tSourceNode.prototype.toString = function SourceNode_toString() {\r\n\t\tvar str = \"\";\r\n\t\tthis.walk(function (chunk) {\r\n\t\tstr += chunk;\r\n\t\t});\r\n\t\treturn str;\r\n\t};\r\n\r\n\t/**\r\n\t* Returns the string representation of this source node along with a source\r\n\t* map.\r\n\t*/\r\n\tSourceNode.prototype.toStringWithSourceMap = function SourceNode_toStringWithSourceMap(aArgs) {\r\n\t\tvar generated = {\r\n\t\tcode: \"\",\r\n\t\tline: 1,\r\n\t\tcolumn: 0\r\n\t\t};\r\n\t\tvar map = new SourceMapGenerator(aArgs);\r\n\t\tvar sourceMappingActive = false;\r\n\t\tvar lastOriginalSource = null;\r\n\t\tvar lastOriginalLine = null;\r\n\t\tvar lastOriginalColumn = null;\r\n\t\tvar lastOriginalName = null;\r\n\t\tthis.walk(function (chunk, original) {\r\n\t\tgenerated.code += chunk;\r\n\t\tif (original.source !== null\r\n\t\t\t&& original.line !== null\r\n\t\t\t&& original.column !== null) {\r\n\t\t\tif(lastOriginalSource !== original.source\r\n\t\t\t|| lastOriginalLine !== original.line\r\n\t\t\t|| lastOriginalColumn !== original.column\r\n\t\t\t|| lastOriginalName !== original.name) {\r\n\t\t\tmap.addMapping({\r\n\t\t\t\tsource: original.source,\r\n\t\t\t\toriginal: {\r\n\t\t\t\tline: original.line,\r\n\t\t\t\tcolumn: original.column\r\n\t\t\t\t},\r\n\t\t\t\tgenerated: {\r\n\t\t\t\tline: generated.line,\r\n\t\t\t\tcolumn: generated.column\r\n\t\t\t\t},\r\n\t\t\t\tname: original.name\r\n\t\t\t});\r\n\t\t\t}\r\n\t\t\tlastOriginalSource = original.source;\r\n\t\t\tlastOriginalLine = original.line;\r\n\t\t\tlastOriginalColumn = original.column;\r\n\t\t\tlastOriginalName = original.name;\r\n\t\t\tsourceMappingActive = true;\r\n\t\t} else if (sourceMappingActive) {\r\n\t\t\tmap.addMapping({\r\n\t\t\tgenerated: {\r\n\t\t\t\tline: generated.line,\r\n\t\t\t\tcolumn: generated.column\r\n\t\t\t}\r\n\t\t\t});\r\n\t\t\tlastOriginalSource = null;\r\n\t\t\tsourceMappingActive = false;\r\n\t\t}\r\n\t\tfor (var idx = 0, length = chunk.length; idx < length; idx++) {\r\n\t\t\tif (chunk.charCodeAt(idx) === NEWLINE_CODE) {\r\n\t\t\tgenerated.line++;\r\n\t\t\tgenerated.column = 0;\r\n\t\t\t// Mappings end at eol\r\n\t\t\tif (idx + 1 === length) {\r\n\t\t\t\tlastOriginalSource = null;\r\n\t\t\t\tsourceMappingActive = false;\r\n\t\t\t} else if (sourceMappingActive) {\r\n\t\t\t\tmap.addMapping({\r\n\t\t\t\tsource: original.source,\r\n\t\t\t\toriginal: {\r\n\t\t\t\t\tline: original.line,\r\n\t\t\t\t\tcolumn: original.column\r\n\t\t\t\t},\r\n\t\t\t\tgenerated: {\r\n\t\t\t\t\tline: generated.line,\r\n\t\t\t\t\tcolumn: generated.column\r\n\t\t\t\t},\r\n\t\t\t\tname: original.name\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t} else {\r\n\t\t\tgenerated.column++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t});\r\n\t\tthis.walkSourceContents(function (sourceFile, sourceContent) {\r\n\t\tmap.setSourceContent(sourceFile, sourceContent);\r\n\t\t});\r\n\r\n\t\treturn { code: generated.code, map: map };\r\n\t};\r\n\r\n\texports.SourceNode = SourceNode;\r\n\r\n\r\n/***/ }\r\n/******/ ])\r\n});\r\n;\r\n},{}],8:[function(require,module,exports){\r\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var n;n=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,n.StackTrace=e()}}(function(){var e;return function n(e,r,t){function o(a,s){if(!r[a]){if(!e[a]){var u=\"function\"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error(\"Cannot find module '\"+a+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var l=r[a]={exports:{}};e[a][0].call(l.exports,function(n){var r=e[a][1][n];return o(r?r:n)},l,l.exports,n,e,r,t)}return r[a].exports}for(var i=\"function\"==typeof require&&require,a=0;a<t.length;a++)o(t[a]);return o}({1:[function(n,r,t){!function(o,i){\"use strict\";\"function\"==typeof e&&e.amd?e(\"error-stack-parser\",[\"stackframe\"],i):\"object\"==typeof t?r.exports=i(n(\"stackframe\")):o.ErrorStackParser=i(o.StackFrame)}(this,function(e){\"use strict\";var n=/(^|@)\\S+\\:\\d+/,r=/^\\s*at .*(\\S+\\:\\d+|\\(native\\))/m,t=/^(eval@)?(\\[native code\\])?$/;return{parse:function(e){if(\"undefined\"!=typeof e.stacktrace||\"undefined\"!=typeof e[\"opera#sourceloc\"])return this.parseOpera(e);if(e.stack&&e.stack.match(r))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error(\"Cannot parse given Error object\")},extractLocation:function(e){if(e.indexOf(\":\")===-1)return[e];var n=/(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$/,r=n.exec(e.replace(/[\\(\\)]/g,\"\"));return[r[1],r[2]||void 0,r[3]||void 0]},parseV8OrIE:function(n){var t=n.stack.split(\"\\n\").filter(function(e){return!!e.match(r)},this);return t.map(function(n){n.indexOf(\"(eval \")>-1&&(n=n.replace(/eval code/g,\"eval\").replace(/(\\(eval at [^\\()]*)|(\\)\\,.*$)/g,\"\"));var r=n.replace(/^\\s+/,\"\").replace(/\\(eval code/g,\"(\").split(/\\s+/).slice(1),t=this.extractLocation(r.pop()),o=r.join(\" \")||void 0,i=[\"eval\",\"<anonymous>\"].indexOf(t[0])>-1?void 0:t[0];return new e({functionName:o,fileName:i,lineNumber:t[1],columnNumber:t[2],source:n})},this)},parseFFOrSafari:function(n){var r=n.stack.split(\"\\n\").filter(function(e){return!e.match(t)},this);return r.map(function(n){if(n.indexOf(\" > eval\")>-1&&(n=n.replace(/ line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+/g,\":$1\")),n.indexOf(\"@\")===-1&&n.indexOf(\":\")===-1)return new e({functionName:n});var r=/((.*\".+\"[^@]*)?[^@]*)(?:@)/,t=n.match(r),o=t&&t[1]?t[1]:void 0,i=this.extractLocation(n.replace(r,\"\"));return new e({functionName:o,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:n})},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf(\"\\n\")>-1&&e.message.split(\"\\n\").length>e.stacktrace.split(\"\\n\").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(n){for(var r=/Line (\\d+).*script (?:in )?(\\S+)/i,t=n.message.split(\"\\n\"),o=[],i=2,a=t.length;i<a;i+=2){var s=r.exec(t[i]);s&&o.push(new e({fileName:s[2],lineNumber:s[1],source:t[i]}))}return o},parseOpera10:function(n){for(var r=/Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i,t=n.stacktrace.split(\"\\n\"),o=[],i=0,a=t.length;i<a;i+=2){var s=r.exec(t[i]);s&&o.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:t[i]}))}return o},parseOpera11:function(r){var t=r.stack.split(\"\\n\").filter(function(e){return!!e.match(n)&&!e.match(/^Error created at/)},this);return t.map(function(n){var r,t=n.split(\"@\"),o=this.extractLocation(t.pop()),i=t.shift()||\"\",a=i.replace(/<anonymous function(: (\\w+))?>/,\"$2\").replace(/\\([^\\)]*\\)/g,\"\")||void 0;i.match(/\\(([^\\)]*)\\)/)&&(r=i.replace(/^[^\\(]+\\(([^\\)]*)\\)$/,\"$1\"));var s=void 0===r||\"[arguments not available]\"===r?void 0:r.split(\",\");return new e({functionName:a,args:s,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:n})},this)}}})},{stackframe:3}],2:[function(n,r,t){!function(o,i){\"use strict\";\"function\"==typeof e&&e.amd?e(\"stack-generator\",[\"stackframe\"],i):\"object\"==typeof t?r.exports=i(n(\"stackframe\")):o.StackGenerator=i(o.StackFrame)}(this,function(e){return{backtrace:function(n){var r=[],t=10;\"object\"==typeof n&&\"number\"==typeof n.maxStackSize&&(t=n.maxStackSize);for(var o=arguments.callee;o&&r.length<t&&o.arguments;){for(var i=new Array(o.arguments.length),a=0;a<i.length;++a)i[a]=o.arguments[a];/function(?:\\s+([\\w$]+))+\\s*\\(/.test(o.toString())?r.push(new e({functionName:RegExp.$1||void 0,args:i})):r.push(new e({args:i}));try{o=o.caller}catch(s){break}}return r}}})},{stackframe:3}],3:[function(n,r,t){!function(n,o){\"use strict\";\"function\"==typeof e&&e.amd?e(\"stackframe\",[],o):\"object\"==typeof t?r.exports=o():n.StackFrame=o()}(this,function(){\"use strict\";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function n(e){return e.charAt(0).toUpperCase()+e.substring(1)}function r(e){return function(){return this[e]}}function t(e){if(e instanceof Object)for(var r=0;r<u.length;r++)e.hasOwnProperty(u[r])&&void 0!==e[u[r]]&&this[\"set\"+n(u[r])](e[u[r]])}var o=[\"isConstructor\",\"isEval\",\"isNative\",\"isToplevel\"],i=[\"columnNumber\",\"lineNumber\"],a=[\"fileName\",\"functionName\",\"source\"],s=[\"args\"],u=o.concat(i,a,s);t.prototype={getArgs:function(){return this.args},setArgs:function(e){if(\"[object Array]\"!==Object.prototype.toString.call(e))throw new TypeError(\"Args must be an Array\");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof t)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError(\"Eval Origin must be an Object or StackFrame\");this.evalOrigin=new t(e)}},toString:function(){var n=this.getFunctionName()||\"{anonymous}\",r=\"(\"+(this.getArgs()||[]).join(\",\")+\")\",t=this.getFileName()?\"@\"+this.getFileName():\"\",o=e(this.getLineNumber())?\":\"+this.getLineNumber():\"\",i=e(this.getColumnNumber())?\":\"+this.getColumnNumber():\"\";return n+r+t+o+i}};for(var c=0;c<o.length;c++)t.prototype[\"get\"+n(o[c])]=r(o[c]),t.prototype[\"set\"+n(o[c])]=function(e){return function(n){this[e]=Boolean(n)}}(o[c]);for(var l=0;l<i.length;l++)t.prototype[\"get\"+n(i[l])]=r(i[l]),t.prototype[\"set\"+n(i[l])]=function(n){return function(r){if(!e(r))throw new TypeError(n+\" must be a Number\");this[n]=Number(r)}}(i[l]);for(var f=0;f<a.length;f++)t.prototype[\"get\"+n(a[f])]=r(a[f]),t.prototype[\"set\"+n(a[f])]=function(e){return function(n){this[e]=String(n)}}(a[f]);return t})},{}],4:[function(e,n,r){function t(){this._array=[],this._set=Object.create(null)}var o=e(\"./util\"),i=Object.prototype.hasOwnProperty;t.fromArray=function(e,n){for(var r=new t,o=0,i=e.length;o<i;o++)r.add(e[o],n);return r},t.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},t.prototype.add=function(e,n){var r=o.toSetString(e),t=i.call(this._set,r),a=this._array.length;t&&!n||this._array.push(e),t||(this._set[r]=a)},t.prototype.has=function(e){var n=o.toSetString(e);return i.call(this._set,n)},t.prototype.indexOf=function(e){var n=o.toSetString(e);if(i.call(this._set,n))return this._set[n];throw new Error('\"'+e+'\" is not in the set.')},t.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error(\"No element indexed by \"+e)},t.prototype.toArray=function(){return this._array.slice()},r.ArraySet=t},{\"./util\":10}],5:[function(e,n,r){function t(e){return e<0?(-e<<1)+1:(e<<1)+0}function o(e){var n=1===(1&e),r=e>>1;return n?-r:r}var i=e(\"./base64\"),a=5,s=1<<a,u=s-1,c=s;r.encode=function(e){var n,r=\"\",o=t(e);do n=o&u,o>>>=a,o>0&&(n|=c),r+=i.encode(n);while(o>0);return r},r.decode=function(e,n,r){var t,s,l=e.length,f=0,p=0;do{if(n>=l)throw new Error(\"Expected more digits in base 64 VLQ value.\");if(s=i.decode(e.charCodeAt(n++)),s===-1)throw new Error(\"Invalid base64 digit: \"+e.charAt(n-1));t=!!(s&c),s&=u,f+=s<<p,p+=a}while(t);r.value=o(f),r.rest=n}},{\"./base64\":6}],6:[function(e,n,r){var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".split(\"\");r.encode=function(e){if(0<=e&&e<t.length)return t[e];throw new TypeError(\"Must be between 0 and 63: \"+e)},r.decode=function(e){var n=65,r=90,t=97,o=122,i=48,a=57,s=43,u=47,c=26,l=52;return n<=e&&e<=r?e-n:t<=e&&e<=o?e-t+c:i<=e&&e<=a?e-i+l:e==s?62:e==u?63:-1}},{}],7:[function(e,n,r){function t(e,n,o,i,a,s){var u=Math.floor((n-e)/2)+e,c=a(o,i[u],!0);return 0===c?u:c>0?n-u>1?t(u,n,o,i,a,s):s==r.LEAST_UPPER_BOUND?n<i.length?n:-1:u:u-e>1?t(e,u,o,i,a,s):s==r.LEAST_UPPER_BOUND?u:e<0?-1:e}r.GREATEST_LOWER_BOUND=1,r.LEAST_UPPER_BOUND=2,r.search=function(e,n,o,i){if(0===n.length)return-1;var a=t(-1,n.length,e,n,o,i||r.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&0===o(n[a],n[a-1],!0);)--a;return a}},{}],8:[function(e,n,r){function t(e,n,r){var t=e[n];e[n]=e[r],e[r]=t}function o(e,n){return Math.round(e+Math.random()*(n-e))}function i(e,n,r,a){if(r<a){var s=o(r,a),u=r-1;t(e,s,a);for(var c=e[a],l=r;l<a;l++)n(e[l],c)<=0&&(u+=1,t(e,u,l));t(e,u+1,l);var f=u+1;i(e,n,r,f-1),i(e,n,f+1,a)}}r.quickSort=function(e,n){i(e,n,0,e.length-1)}},{}],9:[function(e,n,r){function t(e){var n=e;return\"string\"==typeof e&&(n=JSON.parse(e.replace(/^\\)\\]\\}'/,\"\"))),null!=n.sections?new a(n):new o(n)}function o(e){var n=e;\"string\"==typeof e&&(n=JSON.parse(e.replace(/^\\)\\]\\}'/,\"\")));var r=s.getArg(n,\"version\"),t=s.getArg(n,\"sources\"),o=s.getArg(n,\"names\",[]),i=s.getArg(n,\"sourceRoot\",null),a=s.getArg(n,\"sourcesContent\",null),u=s.getArg(n,\"mappings\"),l=s.getArg(n,\"file\",null);if(r!=this._version)throw new Error(\"Unsupported version: \"+r);t=t.map(String).map(s.normalize).map(function(e){return i&&s.isAbsolute(i)&&s.isAbsolute(e)?s.relative(i,e):e}),this._names=c.fromArray(o.map(String),!0),this._sources=c.fromArray(t,!0),this.sourceRoot=i,this.sourcesContent=a,this._mappings=u,this.file=l}function i(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function a(e){var n=e;\"string\"==typeof e&&(n=JSON.parse(e.replace(/^\\)\\]\\}'/,\"\")));var r=s.getArg(n,\"version\"),o=s.getArg(n,\"sections\");if(r!=this._version)throw new Error(\"Unsupported version: \"+r);this._sources=new c,this._names=new c;var i={line:-1,column:0};this._sections=o.map(function(e){if(e.url)throw new Error(\"Support for url field in sections not implemented.\");var n=s.getArg(e,\"offset\"),r=s.getArg(n,\"line\"),o=s.getArg(n,\"column\");if(r<i.line||r===i.line&&o<i.column)throw new Error(\"Section offsets must be ordered and non-overlapping.\");return i=n,{generatedOffset:{generatedLine:r+1,generatedColumn:o+1},consumer:new t(s.getArg(e,\"map\"))}})}var s=e(\"./util\"),u=e(\"./binary-search\"),c=e(\"./array-set\").ArraySet,l=e(\"./base64-vlq\"),f=e(\"./quick-sort\").quickSort;t.fromSourceMap=function(e){return o.fromSourceMap(e)},t.prototype._version=3,t.prototype.__generatedMappings=null,Object.defineProperty(t.prototype,\"_generatedMappings\",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),t.prototype.__originalMappings=null,Object.defineProperty(t.prototype,\"_originalMappings\",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),t.prototype._charIsMappingSeparator=function(e,n){var r=e.charAt(n);return\";\"===r||\",\"===r},t.prototype._parseMappings=function(e,n){throw new Error(\"Subclasses must implement _parseMappings\")},t.GENERATED_ORDER=1,t.ORIGINAL_ORDER=2,t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.prototype.eachMapping=function(e,n,r){var o,i=n||null,a=r||t.GENERATED_ORDER;switch(a){case t.GENERATED_ORDER:o=this._generatedMappings;break;case t.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error(\"Unknown order of iteration.\")}var u=this.sourceRoot;o.map(function(e){var n=null===e.source?null:this._sources.at(e.source);return null!=n&&null!=u&&(n=s.join(u,n)),{source:n,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,i)},t.prototype.allGeneratedPositionsFor=function(e){var n=s.getArg(e,\"line\"),r={source:s.getArg(e,\"source\"),originalLine:n,originalColumn:s.getArg(e,\"column\",0)};if(null!=this.sourceRoot&&(r.source=s.relative(this.sourceRoot,r.source)),!this._sources.has(r.source))return[];r.source=this._sources.indexOf(r.source);var t=[],o=this._findMapping(r,this._originalMappings,\"originalLine\",\"originalColumn\",s.compareByOriginalPositions,u.LEAST_UPPER_BOUND);if(o>=0){var i=this._originalMappings[o];if(void 0===e.column)for(var a=i.originalLine;i&&i.originalLine===a;)t.push({line:s.getArg(i,\"generatedLine\",null),column:s.getArg(i,\"generatedColumn\",null),lastColumn:s.getArg(i,\"lastGeneratedColumn\",null)}),i=this._originalMappings[++o];else for(var c=i.originalColumn;i&&i.originalLine===n&&i.originalColumn==c;)t.push({line:s.getArg(i,\"generatedLine\",null),column:s.getArg(i,\"generatedColumn\",null),lastColumn:s.getArg(i,\"lastGeneratedColumn\",null)}),i=this._originalMappings[++o]}return t},r.SourceMapConsumer=t,o.prototype=Object.create(t.prototype),o.prototype.consumer=t,o.fromSourceMap=function(e){var n=Object.create(o.prototype),r=n._names=c.fromArray(e._names.toArray(),!0),t=n._sources=c.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file;for(var a=e._mappings.toArray().slice(),u=n.__generatedMappings=[],l=n.__originalMappings=[],p=0,g=a.length;p<g;p++){var h=a[p],m=new i;m.generatedLine=h.generatedLine,m.generatedColumn=h.generatedColumn,h.source&&(m.source=t.indexOf(h.source),m.originalLine=h.originalLine,m.originalColumn=h.originalColumn,h.name&&(m.name=r.indexOf(h.name)),l.push(m)),u.push(m)}return f(n.__originalMappings,s.compareByOriginalPositions),n},o.prototype._version=3,Object.defineProperty(o.prototype,\"sources\",{get:function(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?s.join(this.sourceRoot,e):e},this)}}),o.prototype._parseMappings=function(e,n){for(var r,t,o,a,u,c=1,p=0,g=0,h=0,m=0,d=0,v=e.length,_=0,y={},w={},b=[],C=[];_<v;)if(\";\"===e.charAt(_))c++,_++,p=0;else if(\",\"===e.charAt(_))_++;else{for(r=new i,r.generatedLine=c,a=_;a<v&&!this._charIsMappingSeparator(e,a);a++);if(t=e.slice(_,a),o=y[t])_+=t.length;else{for(o=[];_<a;)l.decode(e,_,w),u=w.value,_=w.rest,o.push(u);if(2===o.length)throw new Error(\"Found a source, but no line and column\");if(3===o.length)throw new Error(\"Found a source and line, but no column\");y[t]=o}r.generatedColumn=p+o[0],p=r.generatedColumn,o.length>1&&(r.source=m+o[1],m+=o[1],r.originalLine=g+o[2],g=r.originalLine,r.originalLine+=1,r.originalColumn=h+o[3],h=r.originalColumn,o.length>4&&(r.name=d+o[4],d+=o[4])),C.push(r),\"number\"==typeof r.originalLine&&b.push(r)}f(C,s.compareByGeneratedPositionsDeflated),this.__generatedMappings=C,f(b,s.compareByOriginalPositions),this.__originalMappings=b},o.prototype._findMapping=function(e,n,r,t,o,i){if(e[r]<=0)throw new TypeError(\"Line must be greater than or equal to 1, got \"+e[r]);if(e[t]<0)throw new TypeError(\"Column must be greater than or equal to 0, got \"+e[t]);return u.search(e,n,o,i)},o.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var n=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(n.generatedLine===r.generatedLine){n.lastGeneratedColumn=r.generatedColumn-1;continue}}n.lastGeneratedColumn=1/0}},o.prototype.originalPositionFor=function(e){var n={generatedLine:s.getArg(e,\"line\"),generatedColumn:s.getArg(e,\"column\")},r=this._findMapping(n,this._generatedMappings,\"generatedLine\",\"generatedColumn\",s.compareByGeneratedPositionsDeflated,s.getArg(e,\"bias\",t.GREATEST_LOWER_BOUND));if(r>=0){var o=this._generatedMappings[r];if(o.generatedLine===n.generatedLine){var i=s.getArg(o,\"source\",null);null!==i&&(i=this._sources.at(i),null!=this.sourceRoot&&(i=s.join(this.sourceRoot,i)));var a=s.getArg(o,\"name\",null);return null!==a&&(a=this._names.at(a)),{source:i,line:s.getArg(o,\"originalLine\",null),column:s.getArg(o,\"originalColumn\",null),name:a}}}return{source:null,line:null,column:null,name:null}},o.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e}))},o.prototype.sourceContentFor=function(e,n){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=s.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var r;if(null!=this.sourceRoot&&(r=s.urlParse(this.sourceRoot))){var t=e.replace(/^file:\\/\\//,\"\");if(\"file\"==r.scheme&&this._sources.has(t))return this.sourcesContent[this._sources.indexOf(t)];if((!r.path||\"/\"==r.path)&&this._sources.has(\"/\"+e))return this.sourcesContent[this._sources.indexOf(\"/\"+e)]}if(n)return null;throw new Error('\"'+e+'\" is not in the SourceMap.')},o.prototype.generatedPositionFor=function(e){var n=s.getArg(e,\"source\");if(null!=this.sourceRoot&&(n=s.relative(this.sourceRoot,n)),!this._sources.has(n))return{line:null,column:null,lastColumn:null};n=this._sources.indexOf(n);var r={source:n,originalLine:s.getArg(e,\"line\"),originalColumn:s.getArg(e,\"column\")},o=this._findMapping(r,this._originalMappings,\"originalLine\",\"originalColumn\",s.compareByOriginalPositions,s.getArg(e,\"bias\",t.GREATEST_LOWER_BOUND));if(o>=0){var i=this._originalMappings[o];if(i.source===r.source)return{line:s.getArg(i,\"generatedLine\",null),column:s.getArg(i,\"generatedColumn\",null),lastColumn:s.getArg(i,\"lastGeneratedColumn\",null)}}return{line:null,column:null,lastColumn:null}},r.BasicSourceMapConsumer=o,a.prototype=Object.create(t.prototype),a.prototype.constructor=t,a.prototype._version=3,Object.defineProperty(a.prototype,\"sources\",{get:function(){for(var e=[],n=0;n<this._sections.length;n++)for(var r=0;r<this._sections[n].consumer.sources.length;r++)e.push(this._sections[n].consumer.sources[r]);return e}}),a.prototype.originalPositionFor=function(e){var n={generatedLine:s.getArg(e,\"line\"),generatedColumn:s.getArg(e,\"column\")},r=u.search(n,this._sections,function(e,n){var r=e.generatedLine-n.generatedOffset.generatedLine;return r?r:e.generatedColumn-n.generatedOffset.generatedColumn}),t=this._sections[r];return t?t.consumer.originalPositionFor({line:n.generatedLine-(t.generatedOffset.generatedLine-1),column:n.generatedColumn-(t.generatedOffset.generatedLine===n.generatedLine?t.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},a.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},a.prototype.sourceContentFor=function(e,n){for(var r=0;r<this._sections.length;r++){var t=this._sections[r],o=t.consumer.sourceContentFor(e,!0);if(o)return o}if(n)return null;throw new Error('\"'+e+'\" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(e){for(var n=0;n<this._sections.length;n++){var r=this._sections[n];if(r.consumer.sources.indexOf(s.getArg(e,\"source\"))!==-1){var t=r.consumer.generatedPositionFor(e);if(t){var o={line:t.line+(r.generatedOffset.generatedLine-1),column:t.column+(r.generatedOffset.generatedLine===t.line?r.generatedOffset.generatedColumn-1:0)};return o}}}return{line:null,column:null}},a.prototype._parseMappings=function(e,n){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var t=this._sections[r],o=t.consumer._generatedMappings,i=0;i<o.length;i++){var a=o[i],u=t.consumer._sources.at(a.source);null!==t.consumer.sourceRoot&&(u=s.join(t.consumer.sourceRoot,u)),this._sources.add(u),u=this._sources.indexOf(u);var c=t.consumer._names.at(a.name);this._names.add(c),c=this._names.indexOf(c);var l={source:u,generatedLine:a.generatedLine+(t.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(t.generatedOffset.generatedLine===a.generatedLine?t.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:c};this.__generatedMappings.push(l),\"number\"==typeof l.originalLine&&this.__originalMappings.push(l)}f(this.__generatedMappings,s.compareByGeneratedPositionsDeflated),f(this.__originalMappings,s.compareByOriginalPositions)},r.IndexedSourceMapConsumer=a},{\"./array-set\":4,\"./base64-vlq\":5,\"./binary-search\":7,\"./quick-sort\":8,\"./util\":10}],10:[function(e,n,r){function t(e,n,r){if(n in e)return e[n];if(3===arguments.length)return r;throw new Error('\"'+n+'\" is a required argument.')}function o(e){var n=e.match(v);return n?{scheme:n[1],auth:n[2],host:n[3],port:n[4],path:n[5]}:null}function i(e){var n=\"\";return e.scheme&&(n+=e.scheme+\":\"),n+=\"//\",e.auth&&(n+=e.auth+\"@\"),e.host&&(n+=e.host),e.port&&(n+=\":\"+e.port),e.path&&(n+=e.path),n}function a(e){var n=e,t=o(e);if(t){if(!t.path)return e;n=t.path}for(var a,s=r.isAbsolute(n),u=n.split(/\\/+/),c=0,l=u.length-1;l>=0;l--)a=u[l],\".\"===a?u.splice(l,1):\"..\"===a?c++:c>0&&(\"\"===a?(u.splice(l+1,c),c=0):(u.splice(l,2),c--));return n=u.join(\"/\"),\"\"===n&&(n=s?\"/\":\".\"),t?(t.path=n,i(t)):n}function s(e,n){\"\"===e&&(e=\".\"),\"\"===n&&(n=\".\");var r=o(n),t=o(e);if(t&&(e=t.path||\"/\"),r&&!r.scheme)return t&&(r.scheme=t.scheme),i(r);if(r||n.match(_))return n;if(t&&!t.host&&!t.path)return t.host=n,i(t);var s=\"/\"===n.charAt(0)?n:a(e.replace(/\\/+$/,\"\")+\"/\"+n);return t?(t.path=s,i(t)):s}function u(e,n){\"\"===e&&(e=\".\"),e=e.replace(/\\/$/,\"\");for(var r=0;0!==n.indexOf(e+\"/\");){var t=e.lastIndexOf(\"/\");if(t<0)return n;if(e=e.slice(0,t),e.match(/^([^\\/]+:\\/)?\\/*$/))return n;++r}return Array(r+1).join(\"../\")+n.substr(e.length+1)}function c(e){return e}function l(e){return p(e)?\"$\"+e:e}function f(e){return p(e)?e.slice(1):e}function p(e){if(!e)return!1;var n=e.length;if(n<9)return!1;if(95!==e.charCodeAt(n-1)||95!==e.charCodeAt(n-2)||111!==e.charCodeAt(n-3)||116!==e.charCodeAt(n-4)||111!==e.charCodeAt(n-5)||114!==e.charCodeAt(n-6)||112!==e.charCodeAt(n-7)||95!==e.charCodeAt(n-8)||95!==e.charCodeAt(n-9))return!1;for(var r=n-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function g(e,n,r){var t=e.source-n.source;return 0!==t?t:(t=e.originalLine-n.originalLine,0!==t?t:(t=e.originalColumn-n.originalColumn,0!==t||r?t:(t=e.generatedColumn-n.generatedColumn,0!==t?t:(t=e.generatedLine-n.generatedLine,0!==t?t:e.name-n.name))))}function h(e,n,r){var t=e.generatedLine-n.generatedLine;return 0!==t?t:(t=e.generatedColumn-n.generatedColumn,0!==t||r?t:(t=e.source-n.source,0!==t?t:(t=e.originalLine-n.originalLine,0!==t?t:(t=e.originalColumn-n.originalColumn,0!==t?t:e.name-n.name))))}function m(e,n){return e===n?0:e>n?1:-1}function d(e,n){var r=e.generatedLine-n.generatedLine;return 0!==r?r:(r=e.generatedColumn-n.generatedColumn,0!==r?r:(r=m(e.source,n.source),0!==r?r:(r=e.originalLine-n.originalLine,0!==r?r:(r=e.originalColumn-n.originalColumn,0!==r?r:m(e.name,n.name)))))}r.getArg=t;var v=/^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.]*)(?::(\\d+))?(\\S*)$/,_=/^data:.+\\,.+$/;r.urlParse=o,r.urlGenerate=i,r.normalize=a,r.join=s,r.isAbsolute=function(e){return\"/\"===e.charAt(0)||!!e.match(v)},r.relative=u;var y=function(){var e=Object.create(null);return!(\"__proto__\"in e)}();r.toSetString=y?c:l,r.fromSetString=y?c:f,r.compareByOriginalPositions=g,r.compareByGeneratedPositionsDeflated=h,r.compareByGeneratedPositionsInflated=d},{}],11:[function(n,r,t){!function(o,i){\"use strict\";\"function\"==typeof e&&e.amd?e(\"stacktrace-gps\",[\"source-map\",\"stackframe\"],i):\"object\"==typeof t?r.exports=i(n(\"source-map/lib/source-map-consumer\"),n(\"stackframe\")):o.StackTraceGPS=i(o.SourceMap||o.sourceMap,o.StackFrame)}(this,function(e,n){\"use strict\";function r(e){return new Promise(function(n,r){var t=new XMLHttpRequest;t.open(\"get\",e),t.onerror=r,t.onreadystatechange=function(){4===t.readyState&&(t.status>=200&&t.status<300||\"file://\"===e.substr(0,7)&&t.responseText?n(t.responseText):r(new Error(\"HTTP status: \"+t.status+\" retrieving \"+e)))},t.send()})}function t(e){if(\"undefined\"!=typeof window&&window.atob)return window.atob(e);throw new Error(\"You must supply a polyfill for window.atob in this environment\")}function o(e){if(\"undefined\"!=typeof JSON&&JSON.parse)return JSON.parse(e);throw new Error(\"You must supply a polyfill for JSON.parse in this environment\")}function i(e,n){for(var r=[/['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*function\\b/,/function\\s+([^('\"`]*?)\\s*\\(([^)]*)\\)/,/['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*(?:eval|new Function)\\b/,/\\b(?!(?:if|for|switch|while|with|catch)\\b)(?:(?:static)\\s+)?(\\S+)\\s*\\(.*?\\)\\s*\\{/,/['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*\\(.*?\\)\\s*=>/],t=e.split(\"\\n\"),o=\"\",i=Math.min(n,20),a=0;a<i;++a){var s=t[n-a-1],u=s.indexOf(\"//\");if(u>=0&&(s=s.substr(0,u)),s){o=s+o;for(var c=r.length,l=0;l<c;l++){var f=r[l].exec(o);if(f&&f[1])return f[1]}}}}function a(){if(\"function\"!=typeof Object.defineProperty||\"function\"!=typeof Object.create)throw new Error(\"Unable to consume source maps in older browsers\")}function s(e){if(\"object\"!=typeof e)throw new TypeError(\"Given StackFrame is not an object\");if(\"string\"!=typeof e.fileName)throw new TypeError(\"Given file name is not a String\");if(\"number\"!=typeof e.lineNumber||e.lineNumber%1!==0||e.lineNumber<1)throw new TypeError(\"Given line number must be a positive integer\");if(\"number\"!=typeof e.columnNumber||e.columnNumber%1!==0||e.columnNumber<0)throw new TypeError(\"Given column number must be a non-negative integer\");return!0}function u(e){for(var n,r,t=/\\/\\/[#@] ?sourceMappingURL=([^\\s'\"]+)\\s*$/gm;r=t.exec(e);)n=r[1];if(n)return n;throw new Error(\"sourceMappingURL not found\")}function c(e,r,t){return new Promise(function(o,i){var a=r.originalPositionFor({line:e.lineNumber,column:e.columnNumber});if(a.source){var s=r.sourceContentFor(a.source);s&&(t[a.source]=s),o(new n({functionName:a.name||e.functionName,args:e.args,fileName:a.source,lineNumber:a.line,columnNumber:a.column}))}else i(new Error(\"Could not get original source for given stackframe and source map\"))})}return function l(f){return this instanceof l?(f=f||{},this.sourceCache=f.sourceCache||{},this.sourceMapConsumerCache=f.sourceMapConsumerCache||{},this.ajax=f.ajax||r,this._atob=f.atob||t,this._get=function(e){return new Promise(function(n,r){var t=\"data:\"===e.substr(0,5);if(this.sourceCache[e])n(this.sourceCache[e]);else if(f.offline&&!t)r(new Error(\"Cannot make network requests in offline mode\"));else if(t){var o=/^data:application\\/json;([\\w=:\"-]+;)*base64,/,i=e.match(o);if(i){var a=i[0].length,s=e.substr(a),u=this._atob(s);this.sourceCache[e]=u,n(u)}else r(new Error(\"The encoding of the inline sourcemap is not supported\"))}else{var c=this.ajax(e,{method:\"get\"});this.sourceCache[e]=c,c.then(n,r)}}.bind(this))},this._getSourceMapConsumer=function(n,r){return new Promise(function(t,i){if(this.sourceMapConsumerCache[n])t(this.sourceMapConsumerCache[n]);else{var a=new Promise(function(t,i){return this._get(n).then(function(n){\"string\"==typeof n&&(n=o(n.replace(/^\\)\\]\\}'/,\"\"))),\"undefined\"==typeof n.sourceRoot&&(n.sourceRoot=r),t(new e.SourceMapConsumer(n))},i)}.bind(this));this.sourceMapConsumerCache[n]=a,t(a)}}.bind(this))},this.pinpoint=function(e){return new Promise(function(n,r){this.getMappedLocation(e).then(function(e){function r(){n(e)}this.findFunctionName(e).then(n,r)[\"catch\"](r)}.bind(this),r)}.bind(this))},this.findFunctionName=function(e){return new Promise(function(r,t){s(e),this._get(e.fileName).then(function(t){var o=e.lineNumber,a=e.columnNumber,s=i(t,o,a);r(s?new n({functionName:s,args:e.args,fileName:e.fileName,lineNumber:o,columnNumber:a}):e)},t)[\"catch\"](t)}.bind(this))},void(this.getMappedLocation=function(e){return new Promise(function(n,r){a(),s(e);var t=this.sourceCache,o=e.fileName;this._get(o).then(function(r){var i=u(r),a=\"data:\"===i.substr(0,5),s=o.substring(0,o.lastIndexOf(\"/\")+1);return\"/\"===i[0]||a||/^https?:\\/\\/|^\\/\\//i.test(i)||(i=s+i),this._getSourceMapConsumer(i,s).then(function(r){return c(e,r,t).then(n)[\"catch\"](function(){n(e)})})}.bind(this),r)[\"catch\"](r)}.bind(this))})):new l(f)}})},{\"source-map/lib/source-map-consumer\":9,stackframe:3}],12:[function(n,r,t){!function(o,i){\"use strict\";\"function\"==typeof e&&e.amd?e(\"stacktrace\",[\"error-stack-parser\",\"stack-generator\",\"stacktrace-gps\"],i):\"object\"==typeof t?r.exports=i(n(\"error-stack-parser\"),n(\"stack-generator\"),n(\"stacktrace-gps\")):o.StackTrace=i(o.ErrorStackParser,o.StackGenerator,o.StackTraceGPS)}(this,function(e,n,r){function t(e,n){var r={};return[e,n].forEach(function(e){for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r}),r}function o(e){return e.stack||e[\"opera#sourceloc\"]}function i(e,n){return\"function\"==typeof n?e.filter(n):e}var a={filter:function(e){return(e.functionName||\"\").indexOf(\"StackTrace$$\")===-1&&(e.functionName||\"\").indexOf(\"ErrorStackParser$$\")===-1&&(e.functionName||\"\").indexOf(\"StackTraceGPS$$\")===-1&&(e.functionName||\"\").indexOf(\"StackGenerator$$\")===-1},sourceCache:{}},s=function(){try{throw new Error}catch(e){return e}};return{get:function(e){var n=s();return o(n)?this.fromError(n,e):this.generateArtificially(e)},getSync:function(r){r=t(a,r);var u=s(),c=o(u)?e.parse(u):n.backtrace(r);return i(c,r.filter)},fromError:function(n,o){o=t(a,o);var s=new r(o);return new Promise(function(r){var t=i(e.parse(n),o.filter);r(Promise.all(t.map(function(e){return new Promise(function(n){function r(){n(e)}s.pinpoint(e).then(n,r)[\"catch\"](r)})})))}.bind(this))},generateArtificially:function(e){e=t(a,e);var r=n.backtrace(e);return\"function\"==typeof e.filter&&(r=r.filter(e.filter)),Promise.resolve(r)},instrument:function(e,n,r,t){if(\"function\"!=typeof e)throw new Error(\"Cannot instrument non-function object\");if(\"function\"==typeof e.__stacktraceOriginalFn)return e;var i=function(){try{return this.get().then(n,r)[\"catch\"](r),e.apply(t||this,arguments)}catch(i){throw o(i)&&this.fromError(i).then(n,r)[\"catch\"](r),i}}.bind(this);return i.__stacktraceOriginalFn=e,i},deinstrument:function(e){if(\"function\"!=typeof e)throw new Error(\"Cannot de-instrument non-function object\");return\"function\"==typeof e.__stacktraceOriginalFn?e.__stacktraceOriginalFn:e},report:function(e,n,r,t){return new Promise(function(o,i){var a=new XMLHttpRequest;if(a.onerror=i,a.onreadystatechange=function(){4===a.readyState&&(a.status>=200&&a.status<400?o(a.responseText):i(new Error(\"POST to \"+n+\" failed with status: \"+a.status)))},a.open(\"post\",n),a.setRequestHeader(\"Content-Type\",\"application/json\"),t&&\"object\"==typeof t.headers){var s=t.headers;for(var u in s)s.hasOwnProperty(u)&&a.setRequestHeader(u,s[u])}var c={stack:e};void 0!==r&&null!==r&&(c.message=r),a.send(JSON.stringify(c))})}}})},{\"error-stack-parser\":1,\"stack-generator\":2,\"stacktrace-gps\":11}]},{},[12])(12)});\r\n\r\n\r\n},{}],9:[function(require,module,exports){\r\nclass FileMap {\r\n    constructor(){this.sidesList=[];}\r\n    add(sides) {// {sideA:path, sideB:path}\r\n        this.sidesList.push(sides);\r\n    }\r\n    convert(path, fromSide, toSide) {\r\n        for (let sides of this.sidesList) {\r\n            if (path.startsWith(sides[fromSide])) {\r\n                return sides[toSide]+path.substring(sides[fromSide].length);\r\n            }\r\n        }\r\n        return path;\r\n    }\r\n}\r\nmodule.exports=FileMap;\r\n\r\n},{}],10:[function(require,module,exports){\r\n/*global Worker*/\r\n// Browser Side\r\nlet idseq=0;\r\nclass Wrapper {\r\n    constructor(worker) {\r\n        const t=this;\r\n        t.idseq=1;\r\n        t.queue={};\r\n        t.worker=worker;\r\n        t.readyQueue=[];\r\n        worker.addEventListener(\"message\",function (e) {\r\n            var d=e.data;\r\n            if (d.reverse) {\r\n                t.procReverse(e);\r\n            } else if (d.ready) {\r\n                t.ready();\r\n            } else if (d.id) {\r\n                t.queue[d.id](d);\r\n                delete t.queue[d.id];\r\n            }\r\n        });\r\n        t.run(\"WorkerService/isReady\").then(function (r) {\r\n            if (r) t.ready();\r\n        });\r\n    }\r\n    procReverse(e) {\r\n        const t=this;\r\n        var d=e.data;\r\n        var id=d.id;\r\n        var path=d.path;\r\n        var params=d.params;\r\n        try {\r\n            Promise.resolve(paths[path](params)).then(function (r) {\r\n                t.worker.postMessage({\r\n                    reverse:true,\r\n                    status:\"ok\",\r\n                    id:id,\r\n                    result: r\r\n                });\r\n            },sendError);\r\n        } catch(err) {\r\n            sendError(err);\r\n        }\r\n        function sendError(e) {\r\n            e=Object.assign({name:e.name, message:e.message, stack:e.stack},e||{});\r\n            try {\r\n                const j=JSON.stringify(e);\r\n                e=JSON.parse(j);\r\n            } catch(je) {\r\n                e=e ? e.message || e+\"\" : \"unknown\";\r\n                console.log(\"WorkerServiceW\", je, e);\r\n            }\r\n            t.worker.postMessage({\r\n                reverse: true,\r\n                id:id, error:e, status:\"error\"\r\n            });\r\n        }\r\n    }\r\n    ready() {\r\n        const t=this;\r\n        if (t.isReady) return;\r\n        t.isReady=true;\r\n        console.log(\"Worker is ready!\");\r\n        t.readyQueue.forEach(function (f){ f();});\r\n    }\r\n    readyPromise() {\r\n        const t=this;\r\n        return new Promise(function (succ) {\r\n            if (t.isReady) return succ();\r\n            t.readyQueue.push(succ);\r\n        });\r\n    }\r\n    run(path, params) {\r\n        const t=this;\r\n        return t.readyPromise().then(function() {\r\n            return new Promise(function (succ,err) {\r\n                var id=t.idseq++;\r\n                t.queue[id]=function (e) {\r\n                    //console.log(\"Status\",e);\r\n                    if (e.status==\"ok\") {\r\n                        succ(e.result);\r\n                    } else {\r\n                        err(e.error);\r\n                    }\r\n                };\r\n                t.worker.postMessage({\r\n                    id: id,\r\n                    path: path,\r\n                    params: params\r\n                });\r\n            });\r\n        });\r\n    }\r\n    terminate() {\r\n        const t=this;\r\n        t.worker.terminate();\r\n    }\r\n}\r\nvar paths={};\r\nconst WorkerService={\r\n    Wrapper:Wrapper,\r\n    load: function (src) {\r\n        var w=new Worker(src);\r\n        return new Wrapper(w);\r\n    },\r\n    install: function (path, func) {\r\n        paths[path]=func;\r\n    },\r\n    serv: function (path,func) {\r\n        this.install(path,func);\r\n    }\r\n};\r\nWorkerService.serv(\"console/log\", function (params){\r\n    console.log.apply(console,params);\r\n});\r\nmodule.exports=WorkerService;\r\n\r\n},{}],11:[function(require,module,exports){\r\n/*global window,self,global*/\r\n(function (deps, factory) {\r\n    module.exports=factory();\r\n})([],function (){\r\n    if (typeof window!==\"undefined\") return window;\r\n    if (typeof self!==\"undefined\") return self;\r\n    if (typeof global!==\"undefined\") return global;\r\n    return (function (){return this;})();\r\n});\r\n\r\n},{}],12:[function(require,module,exports){\r\n/*define(function (require,exports,module) {\r\n    const F=require(\"ProjectFactory\");\r\n    const root=require(\"root\");\r\n    const SourceFiles=require(\"SourceFiles\");\r\n    const langMod=require(\"langMod\");\r\n    */\r\n    const F=require(\"./ProjectFactory\");\r\n    const root=require(\"../lib/root\");\r\n    const SourceFiles=require(\"../lang/SourceFiles\");\r\n    //const A=require(\"../lib/assert\");\r\n    const langMod=require(\"../lang/langMod\");\r\n\r\n    F.addType(\"compiled\",params=> {\r\n        if (params.namespace && params.url) return urlBased(params);\r\n        if (params.namespace && params.outputFile) return outputFileBased(params);\r\n        if (params.dir) return dirBased(params);\r\n        console.error(\"Invalid compiled project\", params);\r\n        throw new Error(\"Invalid compiled project\");\r\n    });\r\n    function urlBased(params) {\r\n        const ns=params.namespace;\r\n        const url=params.url;\r\n        const res=F.createCore();\r\n        return res.include(langMod).include({\r\n            getNamespace:function () {return ns;},\r\n            getOutputURL() {\r\n                return url;\r\n            },\r\n            loadClasses: async function (ctx) {\r\n                console.log(\"Loading compiled classes ns=\",ns,\"url=\",url);\r\n                await this.loadDependingClasses();\r\n                const s=SourceFiles.add({url});\r\n                await s.exec();\r\n                console.log(\"Loaded compiled classes ns=\",ns,\"url=\",url);\r\n            },\r\n        });\r\n    }\r\n    function dirBased(params) {\r\n        const res=F.createDirBasedCore(params);\r\n        return res.include(langMod).include({\r\n            loadClasses: async function (ctx) {\r\n                console.log(\"Loading compiled classes params=\",params);\r\n                await this.loadDependingClasses();\r\n                const outJS=this.getOutputFile();\r\n                const map=outJS.sibling(outJS.name()+\".map\");\r\n                const sf=SourceFiles.add({\r\n                    text:outJS.text(),\r\n                    sourceMap:map.exists() && map.text(),\r\n                });\r\n                await sf.exec();\r\n                console.log(\"Loaded compiled classes params=\",params);\r\n            }\r\n        });\r\n    }\r\n    function outputFileBased(params) {\r\n        const ns=params.namespace;\r\n        const outputFile=params.outputFile;\r\n        const res=F.createCore();\r\n        return res.include(langMod).include({\r\n            getNamespace:function () {return ns;},\r\n            getOutputFile() {\r\n                return outputFile;\r\n            },\r\n            loadClasses: async function (ctx) {\r\n                console.log(\"Loading compiled classes ns=\",ns,\"outputFile=\",outputFile);\r\n                await this.loadDependingClasses();\r\n                const outJS=outputFile;\r\n                const map=outJS.sibling(outJS.name()+\".map\");\r\n                const sf=SourceFiles.add({\r\n                    text:outJS.text(),\r\n                    sourceMap:map.exists() && map.text(),\r\n                });\r\n                await sf.exec();\r\n                console.log(\"Loaded compiled classes ns=\",ns,\"outputFile=\",outputFile);\r\n            },\r\n        });\r\n    }\r\n    exports.create=params=>F.create(\"compiled\",params);\r\n    F.addDependencyResolver((prj, spec)=> {\r\n        if (spec.dir && prj.resolve) {\r\n            return F.create(\"compiled\",{dir:prj.resolve(spec.dir)});\r\n        }\r\n        if (spec.namespace && spec.url) {\r\n            return F.create(\"compiled\",spec);\r\n        }\r\n        if (spec.namespace && spec.outputFile && prj.resolve) {\r\n            return F.create(\"compiled\",{\r\n                namespace: spec.namespace,\r\n                outputFile: prj.resolve(spec.outputFile)\r\n            });\r\n        }\r\n    });\r\n//});/*--end of define--*/\r\n\r\n},{\"../lang/SourceFiles\":4,\"../lang/langMod\":6,\"../lib/root\":11,\"./ProjectFactory\":14}],13:[function(require,module,exports){\r\n\r\nclass NS2DepSpec {\r\n    constructor(hashOrArray) {\r\n        if (isArray(hashOrArray)) {\r\n            this.array=hashOrArray;\r\n        } else {\r\n            this.array=Object.keys(hashOrArray).map(n=>hashOrArray[n]);\r\n        }\r\n    }\r\n    has(ns) {\r\n        return this.array.filter(e=>e.namespace===ns)[0];\r\n    }\r\n    specs() {\r\n        return this.array;\r\n    }\r\n    [Symbol.iterator]() {\r\n        return this.array[Symbol.iterator]();\r\n    }\r\n}\r\nfunction isArray(o) {\r\n    return (o && typeof o.slice===\"function\");\r\n}\r\nmodule.exports=NS2DepSpec;\r\n\r\n},{}],14:[function(require,module,exports){\r\n//define(function (require,exports,module) {\r\n    // This factory will be widely used, even BitArrow.\r\n\r\n\r\n    let Compiler, SourceFiles,sysMod,run2Mod;\r\n    const  resolvers=[],types={};\r\n    exports.addDependencyResolver=(f)=>{\r\n        //f: (prj, spec) => prj\r\n        resolvers.push(f);\r\n    };\r\n    exports.addType=(n,f)=>{\r\n        types[n]=f;\r\n    };\r\n    exports.fromDependencySpec=function (prj,spec) {\r\n        for (let f of resolvers) {\r\n            const res=f(prj,spec);\r\n            if (res) return res;\r\n        }\r\n        console.error(\"Invalid dep spec\", spec);\r\n        throw new Error(\"Invalid dep spec\", spec);\r\n        /* else if (typeof dprj==\"object\") {\r\n            return this.create(\"compiled\", {\r\n                namespace:dprj.namespace,\r\n                url: FS.expandPath(dprj.compiledURL)\r\n            });\r\n        }*/\r\n    };\r\n    exports.create=function (type,params) {\r\n        if (!types[type]) throw new Error(`Invalid type ${type}`);\r\n        return types[type](params);\r\n    };\r\n    class ProjectCore {\r\n        getPublishedURL(){}//override in BAProject\r\n        getOptions(opt) {return {};}//stub\r\n        getName() {\r\n            return this.dir.name().replace(/\\/$/,\"\");\r\n        }\r\n        getDependingProjects() {\r\n            var opt=this.getOptions();\r\n            var dp=(opt.compiler && opt.compiler.dependingProjects) || [];\r\n            return dp.map(dprj=>\r\n                ProjectCore.factory.fromDependencySpec(this,dprj)\r\n            );\r\n        }\r\n        include(mod) {\r\n            for (let k of Object.getOwnPropertyNames(mod)) {\r\n                if (typeof mod[k]===\"function\") this[k]=mod[k];\r\n            }\r\n            return this;\r\n        }\r\n        delegate(obj) {\r\n            if (obj.constructor.prototype) {\r\n                const add=k=>{\r\n                    if (typeof obj[k]===\"function\") this[k]=(...args)=>obj[k](...args);\r\n                };\r\n                for (let k of Object.getOwnPropertyNames(obj.constructor.prototype)) add(k);\r\n            }\r\n            return this;\r\n        }\r\n    }\r\n    ProjectCore.factory=exports;\r\n    exports.createCore=()=>new ProjectCore();\r\n    const dirBasedMod={\r\n        getDir() {return this.dir;},\r\n        resolve(rdir){// not in compiledProject\r\n            if (rdir instanceof Array) {\r\n                var res=[];\r\n                rdir.forEach(function (e) {\r\n                    res.push(this.resolve(e));\r\n                });\r\n                return res;\r\n            }\r\n            if (typeof rdir==\"string\") {\r\n                /*global FS*/ //TODO\r\n                if (typeof FS!==\"undefined\") {\r\n                    return FS.resolve(rdir, this.getDir().path());\r\n                } else {\r\n                    return this.getDir().rel(rdir);\r\n                }\r\n            }\r\n            if (!rdir || !rdir.isDir) throw new Error(\"Cannot TPR.resolve: \"+rdir);\r\n            return rdir;\r\n        },\r\n        getOptions(opt) {\r\n            return this.getOptionsFile().obj();\r\n        },\r\n        getOptionsFile() {// not in compiledProject\r\n            var resFile=this.dir.rel(\"options.json\");\r\n            return resFile;\r\n        },\r\n        setOptions(opt) {// not in compiledProject\r\n            return this.getOptionsFile().obj(opt);\r\n        },\r\n        fixOptions(TPR,opt) {// required in BAProject\r\n            if (!opt.compiler) opt.compiler={};\r\n        },\r\n        getOutputFile(lang) {// not in compiledProject\r\n            var opt=this.getOptions();\r\n            var outF=this.resolve(opt.compiler.outputFile||\"js/concat.js\");\r\n            if (outF.isDir()) {\r\n                throw new Error(\"out: directory style not supported\");\r\n            }\r\n            return outF;\r\n        },\r\n        removeOutputFile() {// not in compiledProject\r\n            this.getOutputFile().rm();\r\n        },\r\n        path(){return this.dir.path();},// not in compiledProject\r\n        getEXT() {throw new Error(\"getEXT must be overriden.\");},//stub\r\n        sourceFiles() {\r\n            const res={};\r\n            const ext=this.getEXT();\r\n    \t\tthis.dir.recursive(collect);\r\n    \t\tfunction collect(f) {\r\n    \t\t\tif (f.endsWith(ext)) {\r\n    \t\t\t\tvar nb=f.truncExt(ext);\r\n    \t\t\t\tres[nb]=f;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn res;\r\n        }\r\n    };\r\n    exports.createDirBasedCore=function (params) {\r\n        const res=this.createCore();\r\n        res.dir=params.dir;\r\n        if (!res.dir.exists()) throw new Error(res.dir.path()+\" Does not exist.\");\r\n        return res.include(dirBasedMod);\r\n    };\r\n//});/*--end of define--*/\r\n\r\n},{}]},{},[2])(2)\r\n});\r\n\n(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\r\nconst ja={\r\n    superClassIsUndefined:\"親クラス {1}は定義されていません\",\r\n    classIsUndefined:\"クラス {1}は定義されていません\",\r\n    invalidLeftValue:\"'{1}'は左辺には書けません．\",\r\n    fieldDeclarationRequired: \"{1}は宣言されていません（フィールドの場合，明示的に宣言してください）．\",\r\n    duplicateKeyInObjectLiteral:\"オブジェクトリテラルのキー名'{1}'が重複しています\",\r\n    cannotUseStringLiteralAsAShorthandOfObjectValue:\"オブジェクトリテラルのパラメタに単独の文字列は使えません\",\r\n    breakShouldBeUsedInIterationOrSwitchStatement:\"break； は繰り返しまたはswitch文の中で使います.\" ,\r\n    continueShouldBeUsedInIterationStatement:\"continue； は繰り返しの中で使います.\",\r\n    cannotUseObjectLiteralAsTheExpressionOfStatement:\"オブジェクトリテラル単独の式文は書けません．\",\r\n    undefinedMethod:\"メソッド{1}はありません．\",\r\n    notAWaitableMethod: \"メソッド{1}は待機可能メソッドではありません\",\r\n    circularDependencyDetected: \"次のクラス間に循環参照があります: {1}\",\r\n    cannotWriteReturnInTryStatement: \"現実装では、tryの中にreturnは書けません\",\r\n    cannotWriteBreakInTryStatement: \"現実装では、tryの中にbreakは書けません\",\r\n    cannotWriteContinueInTryStatement: \"現実装では、tryの中にcontinueは書けません\",\r\n    cannotWriteTwoOrMoreCatch: \"現実装では、catch節1個のみをサポートしています\",\r\n    lexicalError:\"文法エラー(Token)\",\r\n    parseError:\"文法エラー\",\r\n    ambiguousClassName: \"曖昧なクラス名： {1}.{2}, {3}\",\r\n    cannotInvokeMethod: \"{1}(={2})のメソッド {3}を呼び出せません\",\r\n    notAMethod :\"{1}{2}(={3})はメソッドではありません\",\r\n    notAFunction: \"{1}は関数ではありません\",\r\n    uninitialized: \"{1}(={2})は初期化されていなません\",\r\n    newIsRequiredOnInstanciate: \"クラス名{1}はnewをつけて呼び出して下さい。\",\r\n    bootClassIsNotFound: \"{1}というクラスはありません．\",\r\n    infiniteLoopDetected: \"無限ループをストップしました。\\n\"+\r\n        \"   プロジェクト オプションで無限ループチェックの有無を設定できます。\\n\"+\r\n        \"   [参考]https://edit.tonyu.jp/doc/options.html\\n\",\r\n};\r\nconst en={\r\n    \"superClassIsUndefined\" : \"Super Class '{1}' is not defined\", //親クラス {1}は定義されていません\r\n    \"classIsUndefined\" : \"Class {1} is Undefined\", //クラス {1}は定義されていません\r\n    \"invalidLeftValue\" : \"{1} is not a valid Left Value\", //'{1}'は左辺には書けません．\r\n    \"fieldDeclarationRequired\" : \"'{1}' is not declared, If you have meant it is a Field, Declare Explicitly.\", //{1}は宣言されていません（フィールドの場合，明示的に宣言してください）．\r\n    \"duplicateKeyInObjectLiteral\" : \"Duplicate Key In Object Literal: {1}\", //オブジェクトリテラルのキー名'{1}'が重複しています\r\n    \"cannotUseStringLiteralAsAShorthandOfObjectValue\" : \"Cannot Use String Literal as a Shorthand of Object Value\", //オブジェクトリテラルのパラメタに単独の文字列は使えません\r\n    \"breakShouldBeUsedInIterationOrSwitchStatement\" : \"break; Should be Used In Iteration or switch Statement\", //break； は 繰り返しまたはswitch文の中で使います.\r\n    \"continueShouldBeUsedInIterationStatement\" : \"continue; Should be Used In Iteration Statement\", //continue； は繰り返しの中で使います.\r\n    \"cannotUseObjectLiteralAsTheExpressionOfStatement\" : \"Cannot Use Object Literal As The Expression Of Statement\", //オブ ジェクトリテラル単独の式文は書けません．\r\n    \"undefinedMethod\" : \"Undefined Method: '{1}'\", //メソッド{1}はありません．\r\n    \"notAWaitableMethod\" : \"Not A Waitable Method: '{1}'\", //メソッド{1}は待機可能メソッドではありません\r\n    \"circularDependencyDetected\" : \"Circular Dependency Detected: {1}\", //次のクラス間に循環参照があります: {1}\r\n    \"cannotWriteReturnInTryStatement\" : \"Cannot Write Return In Try Statement\", //現実装では、tryの中にreturnは書けません\r\n    \"cannotWriteBreakInTryStatement\" : \"Cannot Write Break In Try Statement\", //現実装では、tryの中にbreakは書けません\r\n    \"cannotWriteContinueInTryStatement\" : \"Cannot Write Continue In Try Statement\", //現実装では、tryの中にcontinueは書けま せん\r\n    \"cannotWriteTwoOrMoreCatch\" : \"Cannot Write Two Or More Catch\", //現実装では、catch節1個のみをサポートしています\r\n    \"lexicalError\" : \"Lexical Error\", //文法エラー(Token)\r\n    \"parseError\" : \"Parse Error\", //文法エラー\r\n    \"ambiguousClassName\" : \"Ambiguous Class Name: {1}.{2} vs {3}\", //曖昧なクラス名： {1}.{2}, {3}\r\n    \"cannotInvokeMethod\" : \"Cannot Invoke Method {1}(={2}).{3}\", //{1}(={2})のメソッド {3}を呼び出せません\r\n    \"notAMethod\" : \"Not A Method: {1}{2}(={3})\", //{1}{2}(={3})はメソッドではありません\r\n    \"notAFunction\" : \"Not A Function: {1}\", //{1}は関数ではありません\r\n    \"uninitialized\" : \"Uninitialized: {1}(={2})\", //{1}(={2})は初期化されていなません\r\n    \"newIsRequiredOnInstanciate\" : \"new is required to Instanciate {1}\", //クラス名{1}はnewをつけて呼び出して下さい。\r\n    \"bootClassIsNotFound\" : \"Boot Class {1} Is Not Found\", //{1}というクラスはありません．\r\n    \"infiniteLoopDetected\" : \"Infinite Loop Detected\",\r\n};\r\n/*let buf=\"\";\r\n    for (let k of Object.keys(ja)) {\r\n        buf+=`\"${k}\" : \"${englishify(k)}\", //${ja[k]}\\n`;\r\n    }\r\n    console.log(buf);*/\r\n\r\nlet dict=en;\r\nfunction R(name,...params) {\r\n    let mesg=dict[name];\r\n    if (!mesg) {\r\n        return englishify(name)+(params.length?\": \"+params.join(\",\"):\"\");\r\n    }\r\n    return buildMesg(mesg, ...params);//+\"です！\";\r\n}\r\nfunction buildMesg() {\r\n    var a=Array.prototype.slice.call(arguments);\r\n    var format=a.shift();\r\n    if (a.length===1 && a[0] instanceof Array) a=a[0];\r\n    var P=\"vroijvowe0r324\";\r\n    format=format.replace(/\\{([0-9])\\}/g,P+\"$1\"+P);\r\n    format=format.replace(new RegExp(P+\"([0-9])\"+P,\"g\"),function (_,n) {\r\n        return a[parseInt(n)-1]+\"\";\r\n    });\r\n    return format;\r\n}\r\nfunction englishify(name) {\r\n    name=name.replace(/([A-Z])/g,\" $1\");\r\n    name=name[0].toUpperCase()+name.substring(1);\r\n    return name;\r\n}\r\nR.setLocale=locale=>{\r\n    if (locale===\"ja\") dict=ja;\r\n    if (locale===\"en\") dict=en;\r\n};\r\nmodule.exports=R;\r\n\r\n},{}],2:[function(require,module,exports){\r\n    const Assertion=function(failMesg) {\r\n        this.failMesg=flatten(failMesg || \"Assertion failed: \");\r\n    };\r\n    var $a;\r\n    Assertion.prototype={\r\n        _regedType:{},\r\n        registerType: function (name,t) {\r\n            this._regedType[name]=t;\r\n        },\r\n        MODE_STRICT:\"strict\",\r\n        MODE_DEFENSIVE:\"defensive\",\r\n        MODE_BOOL:\"bool\",\r\n        fail:function () {\r\n            var a=$a(arguments);\r\n            var value=a.shift();\r\n            a=flatten(a);\r\n            a=this.failMesg.concat(value).concat(a).concat([\"mode\",this._mode]);\r\n            console.log.apply(console,a);\r\n            if (this.isDefensive()) return value;\r\n            if (this.isBool()) return false;\r\n            throw new Error(a.join(\" \"));\r\n        },\r\n        subAssertion: function () {\r\n            var a=$a(arguments);\r\n            a=flatten(a);\r\n            return new Assertion(this.failMesg.concat(a));\r\n        },\r\n        assert: function (t,failMesg) {\r\n            if (!t) return this.fail(t,failMesg);\r\n            return t;\r\n        },\r\n        eq: function (a,b) {\r\n            if (a!==b) return this.fail(a,\"!==\",b);\r\n            return this.isBool()?true:a;\r\n        },\r\n        ne: function (a,b) {\r\n            if (a===b) return this.fail(a,\"===\",b);\r\n            return this.isBool()?true:a;\r\n        },\r\n        isset: function (a, n) {\r\n            if (a==null) return this.fail(a, (n||\"\")+\" is null/undef\");\r\n            return this.isBool()?true:a;\r\n        },\r\n        is: function (value,type) {\r\n            var t=type,v=value;\r\n            if (t==null) {\r\n                return this.fail(value, \"assert.is: type must be set\");\r\n                // return t; Why!!!!???? because is(args,[String,Number])\r\n            }\r\n            if (t._assert_func) {\r\n                t._assert_func.apply(this,[v]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            this.assert(value!=null,[value, \"should be \",t]);\r\n            if (t instanceof Array || (typeof global==\"object\" && typeof global.Array==\"function\" && t instanceof global.Array) ) {\r\n                if (!value || typeof value.length!=\"number\") {\r\n                    return this.fail(value, \"should be array:\");\r\n                }\r\n                var self=this;\r\n                for (var i=0 ;i<t.length; i++) {\r\n                    let na=self.subAssertion(\"failed at \",value,\"[\",i,\"]: \");\r\n                    if (t[i]==null) {\r\n                        console.log(\"WOW!7\", v[i],t[i]);\r\n                    }\r\n                    na.is(v[i],t[i]);\r\n                }\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t===String || t==\"string\") {\r\n                this.assert(typeof(v)==\"string\",[v,\"should be a string \"]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t===Number || t==\"number\") {\r\n                this.assert(typeof(v)==\"number\",[v,\"should be a number\"]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t instanceof RegExp || (typeof global==\"object\" && typeof global.RegExp==\"function\" && t instanceof global.RegExp)) {\r\n                this.is(v,String);\r\n                this.assert(t.exec(v),[v,\"does not match to\",t]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t===Function) {\r\n                this.assert(typeof v==\"function\",[v,\"should be a function\"]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (typeof t==\"function\") {\r\n                this.assert((v instanceof t),[v, \"should be \",t]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t && typeof t==\"object\") {\r\n                for (var k in t) {\r\n                    let na=this.subAssertion(\"failed at \",value,\".\",k,\":\");\r\n                    na.is(value[k],t[k]);\r\n                }\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (typeof t==\"string\") {\r\n                var ty=this._regedType[t];\r\n                if (ty) return this.is(value,ty);\r\n                //console.log(\"assertion Warning:\",\"unregistered type:\", t, \"value:\",value);\r\n                return this.isBool()?true:value;\r\n            }\r\n            return this.fail(value, \"Invaild type: \",t);\r\n        },\r\n        ensureError: function (action, err) {\r\n            try {\r\n                action();\r\n            } catch(e) {\r\n                if(typeof err==\"string\") {\r\n                    assert(e+\"\"===err,action+\" thrown an error \"+e+\" but expected:\"+err);\r\n                }\r\n                console.log(\"Error thrown successfully: \",e.message);\r\n                return;\r\n            }\r\n            this.fail(action,\"should throw an error\",err);\r\n        },\r\n        setMode:function (mode) {\r\n            this._mode=mode;\r\n        },\r\n        isDefensive:function () {\r\n            return this._mode===this.MODE_DEFENSIVE;\r\n        },\r\n        isBool:function () {\r\n            return this._mode===this.MODE_BOOL;\r\n        },\r\n        isStrict:function () {\r\n            return !this.isDefensive() && !this.isBool();\r\n        }\r\n    };\r\n    $a=function (args) {\r\n        var a=[];\r\n        for (var i=0; i<args.length ;i++) a.push(args[i]);\r\n        return a;\r\n    };\r\n    var top=new Assertion();\r\n    var assert=function () {\r\n        try {\r\n            return top.assert.apply(top,arguments);\r\n        } catch(e) {\r\n            throw new Error(e.message);\r\n        }\r\n    };\r\n    [\"setMode\",\"isDefensive\",\"is\",\"isset\",\"ne\",\"eq\",\"ensureError\"].forEach(function (m) {\r\n        assert[m]=function () {\r\n            try {\r\n                return top[m].apply(top,arguments);\r\n            } catch(e) {\r\n                console.log(e.stack);\r\n                //if (top.isDefensive()) return arguments[0];\r\n                //if (top.isBool()) return false;\r\n                throw new Error(e.message);\r\n            }\r\n        };\r\n    });\r\n    assert.fail=top.fail.bind(top);\r\n    assert.MODE_STRICT=top.MODE_STRICT;\r\n    assert.MODE_DEFENSIVE=top.MODE_DEFENSIVE;\r\n    assert.MODE_BOOL=top.MODE_BOOL;\r\n    assert.f=function (f) {\r\n        return {\r\n            _assert_func: f\r\n        };\r\n    };\r\n    assert.opt=function (t) {\r\n        return assert.f(function (v) {\r\n            return v==null || v instanceof t;\r\n        });\r\n    };\r\n    assert.and=function () {\r\n        var types=$a(arguments);\r\n        assert(types instanceof Array);\r\n        return assert.f(function (value) {\r\n            var t=this;\r\n            for (var i=0; i<types.length; i++) {\r\n                t.is(value,types[i]);\r\n            }\r\n        });\r\n    };\r\n    function flatten(a) {\r\n        if (a instanceof Array) {\r\n            var res=[];\r\n            a.forEach(function (e) {\r\n                res=res.concat(flatten(e));\r\n            });\r\n            return res;\r\n        }\r\n        return [a];\r\n    }\r\n    function isArg(a) {\r\n        return \"length\" in a && \"caller\" in a && \"callee\" in a;\r\n    }\r\n    module.exports=assert;\r\n\r\n},{}],3:[function(require,module,exports){\r\n/*global window,self,global*/\r\n(function (deps, factory) {\r\n    module.exports=factory();\r\n})([],function (){\r\n    if (typeof window!==\"undefined\") return window;\r\n    if (typeof self!==\"undefined\") return self;\r\n    if (typeof global!==\"undefined\") return global;\r\n    return (function (){return this;})();\r\n});\r\n\r\n},{}],4:[function(require,module,exports){\r\n//\t\tfunction (assert,TT,IT,DU) {\r\nvar assert=require(\"../lib/assert\");\r\nvar root=require(\"../lib/root\");\r\nvar TonyuThreadF=require(\"./TonyuThread\");\r\nvar IT=require(\"./tonyuIterator\");\r\nconst R=require(\"../lib/R\");\r\nmodule.exports=function () {\r\n\t// old browser support\r\n\tif (!root.performance) {\r\n\t\troot.performance = {};\r\n\t}\r\n\tif (!root.performance.now) {\r\n\t\troot.performance.now = function now() {\r\n\t\t\treturn Date.now();\r\n\t\t};\r\n\t}\r\n\tvar preemptionTime=60;\r\n\tvar klass={};\r\n\tvar Tonyu,TT;\r\n\tfunction thread() {\r\n\t\tvar t=new TT();\r\n\t\tt.handleEx=handleEx;\r\n\t\treturn t;\r\n\t}\r\n\tfunction timeout(t) {\r\n\t\treturn new Promise(function (s) {\r\n\t\t\tsetTimeout(s,t);\r\n\t\t});\r\n\t}\r\n\t/*function animationFrame() {\r\n\t\treturn new Promise( function (f) {\r\n\t\t\trequestAnimationFrame(f);\r\n\t\t});\r\n\t}*/\r\n\r\n\tfunction handleEx(e) {\r\n\t\tif (Tonyu.onRuntimeError) {\r\n\t\t\tTonyu.onRuntimeError(e);\r\n\t\t} else {\r\n\t\t\t//if (typeof $LASTPOS==\"undefined\") $LASTPOS=0;\r\n\t\t\tif (root.alert) root.alert(\"Error: \"+e);\r\n\t\t\tconsole.log(e.stack);\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t}\r\n\tklass.addMeta=addMeta;\r\n\tfunction addMeta(fn,m) {\r\n\t\t// why use addMeta?\r\n\t\t// because when compiled from source, additional info(src file) is contained.\r\n\t\t// k.meta={...} erases these info\r\n\t\tassert.is(arguments,[String,Object]);\r\n\t\treturn extend(klass.getMeta(fn), m);\r\n\t}\r\n\tklass.removeMeta=function (n) {\r\n\t\tdelete classMetas[n];\r\n\t};\r\n\tklass.removeMetaAll=function (ns) {\r\n\t\tns+=\".\";\r\n\t\tfor (let n in classMetas) {\r\n\t\t\tif (n.substring(0,ns.length)===ns) delete classMetas[n];\r\n\t\t}\r\n\t};\r\n\tklass.getMeta=function (k) {// Class or fullName\r\n\t\tif (typeof k==\"function\") {\r\n\t\t\treturn k.meta;\r\n\t\t} else if (typeof k==\"string\"){\r\n\t\t\tvar mm = classMetas[k];\r\n\t\t\tif (!mm) classMetas[k]=mm={};\r\n\t\t\treturn mm;\r\n\t\t}\r\n\t};\r\n\tklass.ensureNamespace=function (top,nsp) {\r\n\t\tvar keys=nsp.split(\".\");\r\n\t\tvar o=top;\r\n\t\tvar i;\r\n\t\tfor (i=0; i<keys.length; i++) {\r\n\t\t\tvar k=keys[i];\r\n\t\t\tif (!o[k]) o[k]={};\r\n\t\t\to=o[k];\r\n\t\t}\r\n\t\treturn o;\r\n\t};\r\n\t/*Function.prototype.constructor=function () {\r\n\t\tthrow new Error(\"This method should not be called\");\r\n\t};*/\r\n\tconst propReg=/^__([gs]et)ter__(.*)$/;\r\n\tklass.propReg=propReg;\r\n\tconst property={\r\n\t\tisPropertyMethod(name) {\r\n\t\t\treturn propReg.exec(name);\r\n\t\t},\r\n\t\tmethodFor(type, name) {\r\n\t\t\treturn `__${type}ter__${name}`;\r\n\t\t}\r\n\t};\r\n\tklass.property=property;\r\n\tklass.define=function (params) {\r\n\t\t// fullName, shortName,namspace, superclass, includes, methods:{name/fiber$name: func}, decls\r\n\t\tvar parent=params.superclass;\r\n\t\tvar includes=params.includes;\r\n\t\tvar fullName=params.fullName;\r\n\t\tvar shortName=params.shortName;\r\n\t\tvar namespace=params.namespace;\r\n\t\tvar methodsF=params.methods;\r\n\t\tvar decls=params.decls;\r\n\t\tvar nso=klass.ensureNamespace(Tonyu.classes, namespace);\r\n\t\tvar outerRes;\r\n\t\tfunction chkmeta(m,ctx) {\r\n\t\t\tctx=ctx||{};\r\n\t\t\tif (ctx.isShim) return m;\r\n\t\t\tctx.path=ctx.path||[];\r\n\t\t\tctx.path.push(m);\r\n\t\t\tif (m.isShim) {\r\n\t\t\t\tconsole.log(\"chkmeta::ctx\",ctx);\r\n\t\t\t\tthrow new Error(\"Shim found \"+m.extenderFullName);\r\n\t\t\t}\r\n\t\t\tif (m.superclass) chkmeta(m.superclass,ctx);\r\n\t\t\tif (!m.includes) {\r\n\t\t\t\tconsole.log(\"chkmeta::ctx\",ctx);\r\n\t\t\t\tthrow new Error(\"includes not found\");\r\n\t\t\t}\r\n\t\t\tm.includes.forEach(function (mod) {\r\n\t\t\t\tchkmeta(mod,ctx);\r\n\t\t\t});\r\n\t\t\tctx.path.pop();\r\n\t\t\treturn m;\r\n\t\t}\r\n\t\tfunction chkclass(c,ctx) {\r\n\t\t\tif (!c.prototype.hasOwnProperty(\"getClassInfo\")) throw new Error(\"NO\");\r\n\t\t\tif (!c.meta) {\r\n\t\t\t\tconsole.log(\"metanotfound\",c);\r\n\t\t\t\tthrow new Error(\"meta not found\");\r\n\t\t\t}\r\n\t\t\tchkmeta(c.meta,ctx);\r\n\t\t\treturn c;\r\n\t\t}\r\n\t\tfunction extender(parent,ctx) {\r\n\t\t\tvar isShim=!ctx.init;\r\n\t\t\tvar includesRec=ctx.includesRec;\r\n\t\t\tif (includesRec[fullName]) return parent;\r\n\t\t\tincludesRec[fullName]=true;\r\n\t\t\t//console.log(ctx.initFullName, fullName);//,  includesRec[fullName],JSON.stringify(ctx));\r\n\t\t\tincludes.forEach(function (m) {\r\n\t\t\t\tparent=m.extendFrom(parent,extend(ctx,{init:false}));\r\n\t\t\t});\r\n\t\t\tvar methods=typeof methodsF===\"function\"? methodsF(parent):methodsF;\r\n\t\t\t/*if (typeof Profiler!==\"undefined\") {\r\n\t\t\t\tProfiler.profile(methods, fullName);\r\n\t\t\t}*/\r\n\t\t\tvar init=methods.initialize;\r\n\t\t\tdelete methods.initialize;\r\n\t\t\tvar res;\r\n\t\t\tres=(init?\r\n\t\t\t\tfunction () {\r\n\t\t\t\t\tif (!(this instanceof res)) useNew(fullName);\r\n\t\t\t\t\tinit.apply(this,arguments);\r\n\t\t\t\t}:\r\n\t\t\t\t(parent? function () {\r\n\t\t\t\t\tif (!(this instanceof res)) useNew(fullName);\r\n\t\t\t\t\tparent.apply(this,arguments);\r\n\t\t\t\t}:function (){\r\n\t\t\t\t\tif (!(this instanceof res)) useNew(fullName);\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tres.prototype=bless(parent,{constructor:res});\r\n\t\t\tif (isShim) {\r\n\t\t\t\tres.meta={isShim:true,extenderFullName:fullName};\r\n\t\t\t} else {\r\n\t\t\t\tres.meta=addMeta(fullName,{\r\n\t\t\t\t\tfullName:fullName,shortName:shortName,namespace:namespace,decls:decls,\r\n\t\t\t\t\tsuperclass:ctx.nonShimParent ? ctx.nonShimParent.meta : null,\r\n\t\t\t\t\tincludesRec:includesRec,\r\n\t\t\t\t\tincludes:includes.map(function(c){return c.meta;})\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tres.meta.func=res;\r\n\t\t\t// methods: res's own methods(no superclass/modules)\r\n\t\t\tres.methods=methods;\r\n\t\t\tvar prot=res.prototype;\r\n\t\t\tvar props={};\r\n\t\t\t//var propReg=klass.propReg;//^__([gs]et)ter__(.*)$/;\r\n\t\t\t//var k;\r\n\t\t\tfor (let k in methods) {\r\n\t\t\t\tif (k.match(/^fiber\\$/)) continue;\r\n\t\t\t\tprot[k]=methods[k];\r\n\t\t\t\tvar fbk=\"fiber$\"+k;\r\n\t\t\t\tif (methods[fbk]) {\r\n\t\t\t\t\tprot[fbk]=methods[fbk];\r\n\t\t\t\t\tprot[fbk].methodInfo=prot[fbk].methodInfo||{name:k,klass:res,fiber:true};\r\n\t\t\t\t\tprot[k].fiber=prot[fbk];\r\n\t\t\t\t}\r\n\t\t\t\tif (k!==\"__dummy\" && !prot[k]) {\r\n\t\t\t\t\tconsole.log(\"WHY!\",prot[k],prot,k);\r\n\t\t\t\t\tthrow new Error(\"WHY!\"+k);\r\n\t\t\t\t}\r\n\t\t\t\tprot[k].methodInfo=prot[k].methodInfo||{name:k,klass:res};\r\n\t\t\t\t// if profile...\r\n\t\t\t\tconst r=property.isPropertyMethod(k);\r\n\t\t\t\tif (r) {\r\n\t\t\t\t\tprops[r[2]]=1;\r\n\t\t\t\t\t// __(r[1]g/setter)__r[2]\r\n\t\t\t\t\t//props[r[2]]=props[r[2]]||{};\r\n\t\t\t\t\t//props[r[2]][r[1]]=prot[k];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tprot.isTonyuObject=true;\r\n\t\t\t//console.log(\"Prots1\",props);\r\n\t\t\tfor (let k of Object.keys(props)) {\r\n\t\t\t\tconst desc={};\r\n\t\t\t\tfor (let type of [\"get\", \"set\"]) {\r\n\t\t\t\t\tconst tter=prot[property.methodFor(type, k)];\r\n\t\t\t\t\tif (tter) {\r\n\t\t\t\t\t\tdesc[type]=tter;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//console.log(\"Prots2\",k, desc);\r\n\t\t\t\tObject.defineProperty(prot, k , desc);\r\n\t\t\t}\r\n\t\t\tprot.getClassInfo=function () {\r\n\t\t\t\treturn res.meta;\r\n\t\t\t};\r\n\t\t\treturn chkclass(res,{isShim:isShim});\r\n\t\t}\r\n\t\tvar res=extender(parent,{\r\n\t\t\tinit:true,\r\n\t\t\tinitFullName:fullName,\r\n\t\t\tincludesRec:(parent?extend({},parent.meta.includesRec):{}),\r\n\t\t\tnonShimParent:parent\r\n\t\t});\r\n\t\tres.extendFrom=extender;\r\n\t\t//addMeta(fullName, res.meta);\r\n\t\tnso[shortName]=res;\r\n\t\touterRes=res;\r\n\t\t//console.log(\"defined\", fullName, Tonyu.classes,Tonyu.ID);\r\n\t\treturn chkclass(res,{isShim:false});\r\n\t};\r\n\tklass.isSourceChanged=function (k) {\r\n\t\tk=k.meta||k;\r\n\t\tif (k.src && k.src.tonyu) {\r\n\t\t\tif (!k.nodeTimestamp) return true;\r\n\t\t\treturn k.src.tonyu.lastUpdate()> k.nodeTimestamp;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\tklass.shouldCompile=function (k) {\r\n\t\tk=k.meta||k;\r\n\t\tif (k.hasSemanticError) return true;\r\n\t\tif (klass.isSourceChanged(k)) return true;\r\n\t\tvar dks=klass.getDependingClasses(k);\r\n\t\tfor (var i=0 ; i<dks.length ;i++) {\r\n\t\t\tif (klass.shouldCompile(dks[i])) return true;\r\n\t\t}\r\n\t};\r\n\tklass.getDependingClasses=function (k) {\r\n\t\tk=k.meta||k;\r\n\t\tvar res=[];\r\n\t\tif (k.superclass) res=[k.superclass];\r\n\t\tif (k.includes) res=res.concat(k.includes);\r\n\t\treturn res;\r\n\t};\r\n\tfunction bless( klass, val) {\r\n\t\tif (!klass) return extend({},val);\r\n\t\treturn extend( Object.create(klass.prototype) , val);\r\n\t\t//return extend( new klass() , val);\r\n\t}\r\n\tfunction extend (dst, src) {\r\n\t\tif (src && typeof src==\"object\") {\r\n\t\t\tfor (var i in src) {\r\n\t\t\t\tdst[i]=src[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn dst;\r\n\t}\r\n\r\n\t//alert(\"init\");\r\n\tvar globals={};\r\n\tvar classes={};// classes.namespace.classname= function\r\n\tvar classMetas={}; // classes.namespace.classname.meta ( or env.classes / ctx.classes)\r\n\tfunction setGlobal(n,v) {\r\n\t\tglobals[n]=v;\r\n\t}\r\n\tfunction getGlobal(n) {\r\n\t\treturn globals[n];\r\n\t}\r\n\tfunction getClass(n) {\r\n\t\t//CFN: n.split(\".\")\r\n\t\tvar ns=n.split(\".\");\r\n\t\tvar res=classes;\r\n\t\tns.forEach(function (na) {\r\n\t\t\tif (!res) return;\r\n\t\t\tres=res[na];\r\n\t\t});\r\n\t\tif (!res && ns.length==1) {\r\n\t\t\tvar found;\r\n\t\t\tfor (var nn in classes) {\r\n\t\t\t\tvar nr=classes[nn][n];\r\n\t\t\t\tif (nr) {\r\n\t\t\t\t\tif (!res) { res=nr; found=nn+\".\"+n; }\r\n\t\t\t\t\telse throw new Error(R(\"ambiguousClassName\",nn,n,found));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn res;//classes[n];\r\n\t}\r\n\tfunction bindFunc(t,meth) {\r\n\t\tif (typeof meth!=\"function\") return meth;\r\n\t\tvar res=function () {\r\n\t\t\treturn meth.apply(t,arguments);\r\n\t\t};\r\n\t\tres.methodInfo=Tonyu.extend({thiz:t},meth.methodInfo||{});\r\n\t\tif (meth.fiber) {\r\n\t\t\tres.fiber=function fiber_func() {\r\n\t\t\t\treturn meth.fiber.apply(t,arguments);\r\n\t\t\t};\r\n\t\t\tres.fiber.methodInfo=Tonyu.extend({thiz:t},meth.fiber.methodInfo||{});\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\tfunction invokeMethod(t, name, args, objName) {\r\n\t\tif (!t) throw new Error(R(\"cannotInvokeMethod\",objName,t,name));\r\n\t\tvar f=t[name];\r\n\t\tif (typeof f!=\"function\") throw new Error(R(\"notAMethod\", (objName==\"this\"? \"\": objName+\".\"),name,f));\r\n\t\treturn f.apply(t,args);\r\n\t}\r\n\tfunction callFunc(f,args, fName) {\r\n\t\tif (typeof f!=\"function\") throw new Error(R(\"notAFunction\",fName));\r\n\t\treturn f.apply({},args);\r\n\t}\r\n\tfunction checkNonNull(v, name) {\r\n\t\tif (v!=v || v==null) throw new Error(R(\"uninitialized\",name,v));\r\n\t\treturn v;\r\n\t}\r\n\tfunction A(args) {\r\n\t\tvar res=[];\r\n\t\tfor (var i=1 ; i<args.length; i++) {\r\n\t\t\tres[i-1]=args[i];\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\tfunction useNew(c) {\r\n\t\tthrow new Error(R(\"newIsRequiredOnInstanciate\",c));\r\n\t}\r\n\tfunction not_a_tonyu_object(o) {\r\n\t\tconsole.log(\"Not a tonyu object: \",o);\r\n\t\tthrow new Error(o+\" is not a tonyu object\");\r\n\t}\r\n\tfunction hasKey(k, obj) {\r\n\t\treturn k in obj;\r\n\t}\r\n\tfunction run(bootClassName) {\r\n\t\tvar bootClass=getClass(bootClassName);\r\n\t\tif (!bootClass) throw new Error( R(\"bootClassIsNotFound\",bootClassName));\r\n\t\tTonyu.runMode=true;\r\n\t\tvar boot=new bootClass();\r\n\t\t//var th=thread();\r\n\t\t//th.apply(boot,\"main\");\r\n\t\tvar TPR=Tonyu.globals.$currentProject||Tonyu.currentProject;\r\n\t\tif (TPR) {\r\n\t\t\t//TPR.runningThread=th;\r\n\t\t\tTPR.runningObj=boot;\r\n\t\t}\r\n\t\t//$LASTPOS=0;\r\n\t\t//th.steps();\r\n\t}\r\n\tvar lastLoopCheck=root.performance.now();\r\n\tvar prevCheckLoopCalled;\r\n\tfunction checkLoop() {\r\n\t\tvar now=root.performance.now();\r\n\t\tif (now-lastLoopCheck>1000) {\r\n\t\t\tresetLoopCheck(10000);\r\n\t\t\tthrow new Error(R(\"infiniteLoopDetected\"));\r\n\t\t}\r\n\t\tprevCheckLoopCalled=now;\r\n\t}\r\n\tfunction resetLoopCheck(disableTime) {\r\n\t\tlastLoopCheck=root.performance.now()+(disableTime||0);\r\n\t}\r\n\tfunction is(obj,klass) {\r\n\t\tif (!obj) return false;\r\n\t\tif (obj instanceof klass) return true;\r\n\t\tif (typeof obj.getClassInfo===\"function\" && klass.meta) {\r\n\t\t\treturn obj.getClassInfo().includesRec[klass.meta.fullName];\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t//setInterval(resetLoopCheck,16);\r\n\tTonyu={thread:thread, /*threadGroup:threadGroup,*/\r\n\t\t\tklass:klass, bless:bless, extend:extend,\r\n\t\t\tglobals:globals, classes:classes, classMetas:classMetas, setGlobal:setGlobal, getGlobal:getGlobal, getClass:getClass,\r\n\t\t\ttimeout:timeout,//animationFrame:animationFrame, /*asyncResult:asyncResult,*/\r\n\t\t\tbindFunc:bindFunc,not_a_tonyu_object:not_a_tonyu_object,is:is,\r\n\t\t\thasKey:hasKey,invokeMethod:invokeMethod, callFunc:callFunc,checkNonNull:checkNonNull,\r\n\t\t\titerator:IT,run:run,checkLoop:checkLoop,resetLoopCheck:resetLoopCheck,//DeferredUtil:DU,\r\n\t\t\tVERSION:1560828115159,//EMBED_VERSION\r\n\t\t\tA:A,ID:Math.random()};\r\n\tTT=TonyuThreadF(Tonyu);\r\n\tif (root.Tonyu) {\r\n\t\tconsole.error(\"Tonyu called twice!\");\r\n\t\tthrow new Error(\"Tonyu called twice!\");\r\n\t}\r\n\troot.Tonyu=Tonyu;\r\n\treturn Tonyu;\r\n}();\r\n\r\n},{\"../lib/R\":1,\"../lib/assert\":2,\"../lib/root\":3,\"./TonyuThread\":5,\"./tonyuIterator\":6}],5:[function(require,module,exports){\r\n//\tvar Klass=require(\"../lib/Klass\");\r\nconst R=require(\"../lib/R\");\r\nmodule.exports=function (Tonyu) {\r\n\tvar cnts={enterC:{},exitC:0};\r\n\tvar idSeq=1;\r\n\t//try {window.cnts=cnts;}catch(e){}\r\n\tclass TonyuThread {\r\n\t\tconstructor() {\r\n\t\t\tthis.frame=null;\r\n\t\t\tthis._isDead=false;\r\n\t\t\t//this._isAlive=true;\r\n\t\t\tthis.cnt=0;\r\n\t\t\tthis._isWaiting=false;\r\n\t\t\tthis.fSuspended=false;\r\n\t\t\tthis.tryStack=[];\r\n\t\t\tthis.preemptionTime=60;\r\n\t\t\tthis.onEndHandlers=[];\r\n\t\t\tthis.onTerminateHandlers=[];\r\n\t\t\tthis.id=idSeq++;\r\n\t\t\tthis.age=0; // inc if object pooled\r\n\t\t}\r\n\t\tisAlive() {\r\n\t\t\treturn !this.isDead();\r\n\t\t\t//return this.frame!=null && this._isAlive;\r\n\t\t}\r\n\t\tisDead() {\r\n\t\t\tthis._isDead=this._isDead || (this.frame==null) ||\r\n\t\t\t(this._threadGroup && (\r\n\t\t\t\t\tthis._threadGroup.objectPoolAge!=this.tGrpObjectPoolAge ||\r\n\t\t\t\t\tthis._threadGroup.isDeadThreadGroup()\r\n\t\t\t));\r\n\t\t\treturn this._isDead;\r\n\t\t}\r\n\t\tsetThreadGroup(g) {// g:TonyuThread\r\n\t\t\tthis._threadGroup=g;\r\n\t\t\tthis.tGrpObjectPoolAge=g.objectPoolAge;\r\n\t\t\t//if (g) g.add(fb);\r\n\t\t}\r\n\t\tisWaiting() {\r\n\t\t\treturn this._isWaiting;\r\n\t\t}\r\n\t\tsuspend() {\r\n\t\t\tthis.fSuspended=true;\r\n\t\t\tthis.cnt=0;\r\n\t\t}\r\n\t\tenter(frameFunc) {\r\n\t\t\t//var n=frameFunc.name;\r\n\t\t\t//cnts.enterC[n]=(cnts.enterC[n]||0)+1;\r\n\t\t\tthis.frame={prev:this.frame, func:frameFunc};\r\n\t\t}\r\n\t\tapply(obj, methodName, args) {\r\n\t\t\tif (!args) args=[];\r\n\t\t\tvar method;\r\n\t\t\tif (typeof methodName==\"string\") {\r\n\t\t\t\tmethod=obj[\"fiber$\"+methodName];\r\n\t\t\t\tif (!method) {\r\n\t\t\t\t\tthrow new Error(R(\"undefinedMethod\",methodName));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (typeof methodName==\"function\") {\r\n\t\t\t\tmethod=methodName.fiber;\r\n\t\t\t\tif (!method) {\r\n\t\t\t\t\tvar n=methodName.methodInfo ? methodName.methodInfo.name : methodName.name;\r\n\t\t\t\t\tthrow new Error(R(\"notAWaitableMethod\",n));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\targs=[this].concat(args);\r\n\t\t\tvar pc=0;\r\n\t\t\treturn this.enter(function (th) {\r\n\t\t\t\tswitch (pc){\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tmethod.apply(obj,args);\r\n\t\t\t\t\tpc=1;break;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tth.termStatus=\"success\";\r\n\t\t\t\t\tth.notifyEnd(th.retVal);\r\n\t\t\t\t\targs[0].exit();\r\n\t\t\t\t\tpc=2;break;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tnotifyEnd(r) {\r\n\t\t\tthis.onEndHandlers.forEach(function (e) {\r\n\t\t\t\te(r);\r\n\t\t\t});\r\n\t\t\tthis.notifyTermination({status:\"success\",value:r});\r\n\t\t}\r\n\t\tnotifyTermination(tst) {\r\n\t\t\tthis.onTerminateHandlers.forEach(function (e) {\r\n\t\t\t\te(tst);\r\n\t\t\t});\r\n\t\t}\r\n\t\ton(type,f) {\r\n\t\t\tif (type===\"end\"||type===\"success\") this.onEndHandlers.push(f);\r\n\t\t\tif (type===\"terminate\") {\r\n\t\t\t\tthis.onTerminateHandlers.push(f);\r\n\t\t\t\tif (this.handleEx) delete this.handleEx;\r\n\t\t\t}\r\n\t\t}\r\n\t\tpromise() {\r\n\t\t\tvar fb=this;\r\n\t\t\treturn new Promise(function (succ,err) {\r\n\t\t\t\tfb.on(\"terminate\",function (st) {\r\n\t\t\t\t\tif (st.status===\"success\") {\r\n\t\t\t\t\t\tsucc(st.value);\r\n\t\t\t\t\t} else if (st.status===\"exception\"){\r\n\t\t\t\t\t\terr(st.exception);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\terr(new Error(st.status));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\tthen(succ,err) {\r\n\t\t\tif (err) return this.promise().then(succ,err);\r\n\t\t\telse return this.promise().then(succ);\r\n\t\t}\r\n\t\tfail(err) {\r\n\t\t\treturn this.promise().then(e=>e, err);\r\n\t\t}\r\n\t\tgotoCatch(e) {\r\n\t\t\tvar fb=this;\r\n\t\t\tif (fb.tryStack.length==0) {\r\n\t\t\t\tfb.termStatus=\"exception\";\r\n\t\t\t\tfb.kill();\r\n\t\t\t\tif (fb.handleEx) fb.handleEx(e);\r\n\t\t\t\telse fb.notifyTermination({status:\"exception\",exception:e});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tfb.lastEx=e;\r\n\t\t\tvar s=fb.tryStack.pop();\r\n\t\t\twhile (fb.frame) {\r\n\t\t\t\tif (s.frame===fb.frame) {\r\n\t\t\t\t\tfb.catchPC=s.catchPC;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfb.frame=fb.frame.prev;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tstartCatch() {\r\n\t\t\tvar fb=this;\r\n\t\t\tvar e=fb.lastEx;\r\n\t\t\tfb.lastEx=null;\r\n\t\t\treturn e;\r\n\t\t}\r\n\t\texit(res) {\r\n\t\t\t//cnts.exitC++;\r\n\t\t\tthis.frame=(this.frame ? this.frame.prev:null);\r\n\t\t\tthis.retVal=res;\r\n\t\t}\r\n\t\tenterTry(catchPC) {\r\n\t\t\tvar fb=this;\r\n\t\t\tfb.tryStack.push({frame:fb.frame,catchPC:catchPC});\r\n\t\t}\r\n\t\texitTry() {\r\n\t\t\tvar fb=this;\r\n\t\t\tfb.tryStack.pop();\r\n\t\t}\r\n\t\twaitEvent(obj,eventSpec) { // eventSpec=[EventType, arg1, arg2....]\r\n\t\t\tvar fb=this;\r\n\t\t\tfb.suspend();\r\n\t\t\tif (!obj.on) return;\r\n\t\t\tvar h;\r\n\t\t\teventSpec=eventSpec.concat(function () {\r\n\t\t\t\tfb.lastEvent=arguments;\r\n\t\t\t\tfb.retVal=arguments[0];\r\n\t\t\t\th.remove();\r\n\t\t\t\tfb.steps();\r\n\t\t\t});\r\n\t\t\th=obj.on.apply(obj, eventSpec);\r\n\t\t}\r\n\t\trunAsync(f) {\r\n\t\t\tvar fb=this;\r\n\t\t\tvar succ=function () {\r\n\t\t\t\tfb.retVal=arguments;\r\n\t\t\t\tfb.steps();\r\n\t\t\t};\r\n\t\t\tvar err=function () {\r\n\t\t\t\tvar msg=\"\";\r\n\t\t\t\tfor (var i=0; i<arguments.length; i++) {\r\n\t\t\t\t\tmsg+=arguments[i]+\",\";\r\n\t\t\t\t}\r\n\t\t\t\tif (msg.length==0) msg=\"Async fail\";\r\n\t\t\t\tvar e=new Error(msg);\r\n\t\t\t\te.args=arguments;\r\n\t\t\t\tfb.gotoCatch(e);\r\n\t\t\t\tfb.steps();\r\n\t\t\t};\r\n\t\t\tfb.suspend();\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tf(succ,err);\r\n\t\t\t},0);\r\n\t\t}\r\n\t\twaitFor(j) {\r\n\t\t\tvar fb=this;\r\n\t\t\tfb._isWaiting=true;\r\n\t\t\tfb.suspend();\r\n\t\t\tif (j instanceof TonyuThread) j=j.promise();\r\n\t\t\treturn Promise.resolve(j).then(function (r) {\r\n\t\t\t\tfb.retVal=r;\r\n\t\t\t\tfb.stepsLoop();\r\n\t\t\t}).then(e=>e,function (e) {\r\n\t\t\t\tfb.gotoCatch(fb.wrapError(e));\r\n\t\t\t\tfb.stepsLoop();\r\n\t\t\t});\r\n\t\t}\r\n\t\twrapError(e) {\r\n\t\t\tif (e instanceof Error) return e;\r\n\t\t\tvar re=new Error(e);\r\n\t\t\tre.original=e;\r\n\t\t\treturn re;\r\n\t\t}\r\n\t\tresume(retVal) {\r\n\t\t\tthis.retVal=retVal;\r\n\t\t\tthis.steps();\r\n\t\t}\r\n\t\tsteps() {\r\n\t\t\tvar fb=this;\r\n\t\t\tif (fb.isDead()) return;\r\n\t\t\tvar sv=Tonyu.currentThread;\r\n\t\t\tTonyu.currentThread=fb;\r\n\t\t\tfb.cnt=fb.preemptionTime;\r\n\t\t\tfb.preempted=false;\r\n\t\t\tfb.fSuspended=false;\r\n\t\t\twhile (fb.cnt>0 && fb.frame) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t//while (new Date().getTime()<lim) {\r\n\t\t\t\t\twhile (fb.cnt-->0 && fb.frame) {\r\n\t\t\t\t\t\tfb.frame.func(fb);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfb.preempted= (!fb.fSuspended) && fb.isAlive();\r\n\t\t\t\t} catch(e) {\r\n\t\t\t\t\tfb.gotoCatch(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tTonyu.currentThread=sv;\r\n\t\t}\r\n\t\tstepsLoop() {\r\n\t\t\tvar fb=this;\r\n\t\t\tfb.steps();\r\n\t\t\tif (fb.preempted) {\r\n\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\tfb.stepsLoop();\r\n\t\t\t\t},0);\r\n\t\t\t}\r\n\t\t}\r\n\t\tkill() {\r\n\t\t\tvar fb=this;\r\n\t\t\t//fb._isAlive=false;\r\n\t\t\tfb._isDead=true;\r\n\t\t\tfb.frame=null;\r\n\t\t\tif (!fb.termStatus) {\r\n\t\t\t\tfb.termStatus=\"killed\";\r\n\t\t\t\tfb.notifyTermination({status:\"killed\"});\r\n\t\t\t}\r\n\t\t}\r\n\t\tclearFrame() {\r\n\t\t\tthis.frame=null;\r\n\t\t\tthis.tryStack=[];\r\n\t\t}\r\n\t}\r\n\treturn TonyuThread;\r\n};\r\n\r\n},{\"../lib/R\":1}],6:[function(require,module,exports){\r\n//define([\"Klass\"], function (Klass) {\r\n\t//var Klass=require(\"../lib/Klass\");\r\n\tconst SYMIT=typeof Symbol!==\"undefined\" && Symbol.iterator;\r\n\tclass ArrayValueIterator {\r\n\t\tconstructor(set) {\r\n\t\t\tthis.set=set;\r\n\t\t\tthis.i=0;\r\n\t\t}\r\n\t\tnext () {\r\n\t\t\tif (this.i>=this.set.length) return false;\r\n\t\t\tthis[0]=this.set[this.i];\r\n\t\t\tthis.i++;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\tclass ArrayKeyValueIterator {\r\n\t\tconstructor(set) {\r\n\t\t\tthis.set=set;\r\n\t\t\tthis.i=0;\r\n\t\t}\r\n\t\tnext() {\r\n\t\t\tif (this.i>=this.set.length) return false;\r\n\t\t\tthis[0]=this.i;\r\n\t\t\tthis[1]=this.set[this.i];\r\n\t\t\tthis.i++;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\tclass ObjectKeyIterator {\r\n\t\tconstructor(set) {\r\n\t\t\tthis.elems=[];\r\n\t\t\tfor (var k in set) {\r\n\t\t\t\tthis.elems.push(k);\r\n\t\t\t}\r\n\t\t\tthis.i=0;\r\n\t\t}\r\n\t\tnext() {\r\n\t\t\tif (this.i>=this.elems.length) return false;\r\n\t\t\tthis[0]=this.elems[this.i];\r\n\t\t\tthis.i++;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\tclass ObjectKeyValueIterator{\r\n\t\tconstructor(set) {\r\n\t\t\tthis.elems=[];\r\n\t\t\tfor (var k in set) {\r\n\t\t\t\tthis.elems.push([k,set[k]]);\r\n\t\t\t}\r\n\t\t\tthis.i=0;\r\n\t\t}\r\n\t\tnext() {\r\n\t\t\tif (this.i>=this.elems.length) return false;\r\n\t\t\tthis[0]=this.elems[this.i][0];\r\n\t\t\tthis[1]=this.elems[this.i][1];\r\n\t\t\tthis.i++;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\tclass NativeIteratorWrapper {\r\n\t\tconstructor(it) {\r\n\t\t\tthis.it=it;\r\n\t\t}\r\n\t\tnext() {\r\n\t\t\tconst {value,done}=this.it.next();\r\n\t\t\tif (done) return false;\r\n\t\t\tthis[0]=value;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\tfunction IT(set, arity) {\r\n\t\tif (set && typeof set.tonyuIterator===\"function\") {\r\n\t\t\t// TODO: the prototype of class having tonyuIterator will iterate infinitively\r\n\t\t\treturn set.tonyuIterator(arity);\r\n\t\t} else if (set instanceof Array) {\r\n\t\t\tif (arity==1) {\r\n\t\t\t\treturn new ArrayValueIterator(set);\r\n\t\t\t} else {\r\n\t\t\t\treturn new ArrayKeyValueIterator(set);\r\n\t\t\t}\r\n\t\t} else if (set && typeof set[SYMIT]===\"function\") {\r\n\t\t\treturn new NativeIteratorWrapper(set[SYMIT]());\r\n\t\t} else if (set instanceof Object){\r\n\t\t\tif (arity==1) {\r\n\t\t\t\treturn new ObjectKeyIterator(set);\r\n\t\t\t} else {\r\n\t\t\t\treturn new ObjectKeyValueIterator(set);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconsole.log(set);\r\n\t\t\tthrow new Error(set+\" is not iterable\");\r\n\t\t}\r\n\t}\r\n\tmodule.exports=IT;\r\n//   Tonyu.iterator=IT;\r\n//\treturn IT;\r\n//});\r\n\r\n},{}]},{},[4]);\r\n\ndefine(\"Tonyu\", (function (global) {\n    return function () {\n        var ret, fn;\n        return ret || global.Tonyu;\n    };\n}(this)));\n\ndefine('Debugger',['require','exports','module','BuilderClient4Sys','Tonyu'],function (require,exports,module) {\r\nconst BuilderClient4Sys=require(\"BuilderClient4Sys\");\r\nconst DebuggerCore=BuilderClient4Sys.DebuggerCore;//require(\"DebuggerCore\");\r\nconst Tonyu=require(\"Tonyu\");\r\n/*const root=require(\"root\");\r\nconst FS=require(\"FS\");\r\nObject.assign(BuilderClient4Sys,{\r\n    Tonyu, root, FS\r\n});*/\r\nmodule.exports=DebuggerCore({Tonyu});\r\n});\r\n\ndefine('PatternParser',[\"Tonyu\"], function (Tonyu) {\r\n    var PP=function (img, options) {\r\n        this.options=options || {};\r\n        this.img=img;\r\n        this.height = img.height;\r\n        this.width = img.width;\r\n        var cv=this.newImage(img.width, img.height);\r\n        var ctx=cv.getContext(\"2d\");\r\n        ctx.drawImage(img, 0,0);\r\n        this.ctx=ctx;\r\n        this.pixels=this.ctx.getImageData(0, 0, img.width, img.height).data;\r\n        this.base=this.getPixel(0,0);\r\n    };\r\n    Tonyu.extend(PP.prototype,{\r\n        newImage: function (w,h) {\r\n            var cv=document.createElement(\"canvas\");\r\n            cv.width=w;\r\n            cv.height=h;\r\n            return cv;\r\n        },\r\n        getPixel: function (x,y) {\r\n            var imagePixelData = this.pixels;\r\n            var ofs=(x+y*this.width)*4;\r\n            var R = imagePixelData[0+ofs];\r\n            var G = imagePixelData[1+ofs];\r\n            var B = imagePixelData[2+ofs];\r\n            var A = imagePixelData[3+ofs];\r\n            return ((((A*256)+B)*256)+G)*256+R;\r\n        },\r\n        setPixel: function (x,y,p) {\r\n            var ofs=(x+y*this.width)*4;\r\n            this.pixels[0+ofs]=p & 255;\r\n            p=(p-(p&255))/256;\r\n            this.pixels[1+ofs]=p & 255;\r\n            p=(p-(p&255))/256;\r\n            this.pixels[2+ofs]=p & 255;\r\n            p=(p-(p&255))/256;\r\n            this.pixels[3+ofs]=p & 255;\r\n        },\r\n        parse: function () {\r\n            try {\r\n                //console.log(\"parse()\");\r\n                var res=[];// List of charpattern\r\n                for (var y=0; y<this.height ;y++) {\r\n                    for (var x=0; x<this.width ;x++) {\r\n                        var c=this.getPixel(x, y);\r\n                        if (c!=this.base) {\r\n                            res.push(this.parse1Pattern(x,y));\r\n                        }\r\n                    }\r\n                }\r\n                //console.log(\"parsed:\"+res.lenth);\r\n                return res;\r\n            } catch (p) {\r\n                if (p.isParseError) {\r\n                    console.log(\"parse error! \"+p);\r\n                    return [{image: this.img, x:0, y:0, width:this.width, height:this.height}];\r\n                }\r\n                throw p;\r\n            }\r\n        },\r\n        parse1Pattern:function (x,y) {\r\n            function hex(s){return s;}\r\n            var trans=this.getPixel(x, y);\r\n            var dx=x,dy=y;\r\n            var base=this.base;\r\n            var width=this.width, height=this.height;\r\n            while (dx<width) {\r\n                var pixel = this.getPixel(dx,dy);\r\n                if (pixel!=trans) break;\r\n                dx++;\r\n            }\r\n            if (dx>=width || this.getPixel(dx,dy)!=base) {\r\n                throw PatterParseError(dx,dy,hex(this.getPixel(dx,dy))+\"!=\"+hex(base));\r\n            }\r\n            dx--;\r\n            while (dy<height) {\r\n                if (this.getPixel(dx,dy)!=trans) break;\r\n                dy++;\r\n            }\r\n            if (dy>=height || this.getPixel(dx,dy)!=base) {\r\n                throw PatterParseError(dx,dy,hex(this.getPixel(dx,dy))+\"!=\"+hex(base));\r\n            }\r\n            dy--;\r\n            var sx=x+1,sy=y+1,w=dx-sx,h=dy-sy;\r\n            //console.log(\"PP\",sx,sy,w,h,dx,dy);\r\n            if (w*h==0) throw PatterParseError(dx, dy,\"w*h==0\");\r\n            var newim=this.newImage(w,h);\r\n            var nc=newim.getContext(\"2d\");\r\n            var newImD=nc.getImageData(0,0,w,h);\r\n            var newD=newImD.data;\r\n            var di=0;\r\n            for (var ey=sy ; ey<dy ; ey++) {\r\n                for (var ex=sx ; ex<dx ; ex++) {\r\n                    var p=this.getPixel(ex, ey);\r\n                    if (p==trans) {\r\n                        newD[di++]=0;\r\n                        newD[di++]=(0);\r\n                        newD[di++]=(0);\r\n                        newD[di++]=(0);\r\n                    } else {\r\n                        newD[di++]=(p&255);\r\n                        p=(p-(p&255))/256;\r\n                        newD[di++]=(p&255);\r\n                        p=(p-(p&255))/256;\r\n                        newD[di++]=(p&255);\r\n                        p=(p-(p&255))/256;\r\n                        newD[di++]=(p&255);\r\n                    }\r\n                }\r\n            }\r\n            nc.putImageData(newImD,0,0);\r\n            for (var yy=sy-1; yy<=dy; yy++) {\r\n                for (var xx=sx-1; xx<=dx; xx++) {\r\n                    this.setPixel(xx,yy, base);\r\n                }\r\n            }\r\n            if (this.options.boundsInSrc) {\r\n                return {x:sx,y:sy,width:w,height:h};\r\n            }\r\n            return {image:newim, x:0, y:0, width:w, height:h};\r\n            function PatterParseError(x,y,msg) {\r\n                return {toString: function () {\r\n                    return \"at (\"+x+\",\"+y+\") :\"+msg;\r\n                }, isParseError:true};\r\n            }\r\n        }\r\n\r\n    });\r\n    return PP;\r\n});\r\n\n// This is kowareta! because r.js does not generate module name:\r\n//   define(\"FSLib\",[], function () { ...\r\n//(function (global) {\r\n//var useGlobal=(typeof global.define!=\"function\");\r\n//var define=(useGlobal ? define=function(_,f){f();} : global.define);\r\ndefine('FS',[],function () {\r\n    var define,requirejs;\r\n\tvar R={};\r\n\tvar REQJS=\"REQJS_\";\r\n\tvar reqjsSeq=0;\r\n\tR.def=function (name, reqs,func) {\r\n\t\tvar m=R.getModuleInfo(name);\r\n\t\tif (typeof reqs==\"function\") {\r\n\t\t    func=reqs;\r\n\t\t    reqs=R.reqsFromFunc(func);\r\n    \t\tR.setReqs( m, reqs);\r\n    \t\tm.func=function () {\r\n    \t\t    var module={exports:{}};\r\n    \t\t\tvar res=func(R.doLoad,module,module.exports);\r\n    \t\t\treturn res || module.exports;\r\n    \t\t};\r\n\t\t} else {\r\n    \t\tR.setReqs( m, reqs);\r\n    \t\tm.func=function () {\r\n    \t\t\treturn func.apply(this, R.getObjs(reqs));\r\n    \t\t};\r\n\t\t}\r\n\t\tR.loadIfAvailable(m);\r\n\t};\r\n\tdefine=function (name,reqs,func) {\r\n\t\tR.def(name, reqs,func);\r\n\t};\r\n\tdefine.amd={};\r\n\trequirejs=function (reqs,func) {\r\n\t\tR.def(REQJS+(reqjsSeq++),reqs,func);\r\n\t};\r\n\tR.setReqs=function (m, reqs) {\r\n\t\treqs.forEach(function (req) {\r\n\t\t\tvar reqm=R.getModuleInfo(req);\r\n\t\t\tif (!reqm.loaded) {\r\n\t\t\t\tm.reqs[req]=reqm;\r\n\t\t\t\treqm.revReqs[m.name]=m;\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tR.getModuleInfo=function (name) {\r\n\t\tvar ms=R.modules;\r\n\t\treturn ms[name]=ms[name]||{name:name,reqs:{},revReqs:{}};\r\n\t};\r\n\tR.doLoad=function (name) {\r\n\t\tvar m=R.getModuleInfo(name);\r\n\t\tif (m.loaded) return m.obj;\r\n\t\tm.loaded=true;\r\n\t\tvar res=m.func();\r\n\t    if ( res==null && !name.match(/^REQJS_/)) console.log(\"Warning: No obj for \"+name);\r\n\t\tm.obj=res;\r\n\t\tfor (var i in m.revReqs) {\r\n\t\t\tR.notifyLoaded(m.revReqs[i], m.name);\r\n\t\t}\r\n\t\treturn res;\r\n\t};\r\n\tR.notifyLoaded=function (dependingMod, loadedModuleName) {\r\n\t    // depengindMod depends on loadedModule\r\n\t\tdelete dependingMod.reqs[loadedModuleName];\r\n\t\tR.loadIfAvailable(dependingMod);\r\n\t};\r\n\tR.loadIfAvailable=function (m) {\r\n\t\tfor (var i in m.reqs) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tR.doLoad(m.name);\r\n\t};\r\n\tR.getObjs=function (ary) {\r\n\t\tvar res=[];\r\n\t\tary.forEach(function (n) {\r\n\t\t\tvar cur=R.doLoad(n);\r\n\t\t\tres.push(cur);\r\n\t\t});\r\n\t\treturn res;\r\n\t};\r\n\tR.reqsFromFunc=function (f) {\r\n\t    var str=f+\"\";\r\n\t    var res=[];\r\n\t    str.replace(/require\\s*\\(\\s*[\"']([^\"']+)[\"']\\s*\\)/g,function (m,a) {\r\n\t       res.push(a);\r\n\t    });\r\n\t    return res;\r\n\t};\r\n\tR.modules={};\r\n\t//requireSimulator=R;\r\n//----------\r\ndefine('extend',[],function (){\r\n   return function extend(d,s) {\r\n      for (var i in s) {d[i]=s[i];}\r\n      return d;\r\n   };\r\n});\r\n\r\ndefine('assert',[],function () {\r\n    var Assertion=function(failMesg) {\r\n        this.failMesg=flatten(failMesg || \"Assertion failed: \");\r\n    };\r\n    var $a;\r\n    Assertion.prototype={\r\n        _regedType:{},\r\n        registerType: function (name,t) {\r\n            this._regedType[name]=t;\r\n        },\r\n        MODE_STRICT:\"strict\",\r\n        MODE_DEFENSIVE:\"defensive\",\r\n        MODE_BOOL:\"bool\",\r\n        fail:function () {\r\n            var a=$a(arguments);\r\n            var value=a.shift();\r\n            a=flatten(a);\r\n            a=this.failMesg.concat(value).concat(a);//.concat([\"(mode:\",this._mode,\")\"]);\r\n            console.log.apply(console,a);\r\n            if (this.isDefensive()) return value;\r\n            if (this.isBool()) return false;\r\n            throw new Error(a.join(\" \"));\r\n        },\r\n        subAssertion: function () {\r\n            var a=$a(arguments);\r\n            a=flatten(a);\r\n            return new Assertion(this.failMesg.concat(a));\r\n        },\r\n        assert: function (t,failMesg) {\r\n            if (!t) return this.fail(t,failMesg);\r\n            return t;\r\n        },\r\n        eq: function (a,b) {\r\n            if (a!==b) return this.fail(a,\"!==\",b);\r\n            return this.isBool()?true:a;\r\n        },\r\n        ne: function (a,b) {\r\n            if (a===b) return this.fail(a,\"===\",b);\r\n            return this.isBool()?true:a;\r\n        },\r\n        isset: function (a, n) {\r\n            if (a==null) return this.fail(a, (n||\"\")+\" is null/undef\");\r\n            return this.isBool()?true:a;\r\n        },\r\n        is: function (value,type) {\r\n            var t=type,v=value;\r\n            if (t==null) {\r\n                return this.fail(value, \"assert.is: type must be set\");\r\n                // return t; Why!!!!???? because is(args,[String,Number])\r\n            }\r\n            if (t._assert_func) {\r\n                t._assert_func.apply(this,[v]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            this.assert(value!=null,[value, \"should be \",t]);\r\n            if (t instanceof Array || (typeof global==\"object\" && typeof global.Array==\"function\" && t instanceof global.Array) ) {\r\n                if (!value || typeof value.length!=\"number\") {\r\n                    return this.fail(value, \"should be array:\");\r\n                }\r\n                var self=this;\r\n                for (var i=0 ;i<t.length; i++) {\r\n                    var na=self.subAssertion(\"failed at \",value,\"[\",i,\"]: \");\r\n                    if (t[i]==null) {\r\n                        console.log(\"WOW!7\", v[i],t[i]);\r\n                    }\r\n                    na.is(v[i],t[i]);\r\n                }\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t===String || t==\"string\") {\r\n                this.assert(typeof(v)==\"string\",[v,\"should be a string \"]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t===Number || t==\"number\") {\r\n                this.assert(typeof(v)==\"number\",[v,\"should be a number\"]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t===Boolean || t==\"boolean\") {\r\n                this.assert(typeof(v)==\"boolean\",[v,\"should be a boolean\"]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t instanceof RegExp || (typeof global==\"object\" && typeof global.RegExp==\"function\" && t instanceof global.RegExp)) {\r\n                this.is(v,String);\r\n                this.assert(t.exec(v),[v,\"does not match to\",t]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t===Function) {\r\n                this.assert(typeof v==\"function\",[v,\"should be a function\"]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (typeof t==\"function\") {\r\n                this.assert((v instanceof t),[v, \"should be \",t]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t && typeof t==\"object\") {\r\n                for (var k in t) {\r\n                    var na=this.subAssertion(\"failed at \",value,\".\",k,\":\");\r\n                    na.is(value[k],t[k]);\r\n                }\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (typeof t==\"string\") {\r\n                var ty=this._regedType[t];\r\n                if (ty) return this.is(value,ty);\r\n                //console.log(\"assertion Warning:\",\"unregistered type:\", t, \"value:\",value);\r\n                return this.isBool()?true:value;\r\n            }\r\n            return this.fail(value, \"Invaild type: \",t);\r\n        },\r\n        ensureError: function (action, err) {\r\n            try {\r\n                action();\r\n            } catch(e) {\r\n                if(typeof err==\"string\") {\r\n                    assert(e+\"\"===err,action+\" thrown an error \"+e+\" but expected:\"+err);\r\n                }\r\n                console.log(\"Error thrown successfully: \",e.message);\r\n                return;\r\n            }\r\n            this.fail(action,\"should throw an error\",err);\r\n        },\r\n        setMode:function (mode) {\r\n            this._mode=mode;\r\n        },\r\n        isDefensive:function () {\r\n            return this._mode===this.MODE_DEFENSIVE;\r\n        },\r\n        isBool:function () {\r\n            return this._mode===this.MODE_BOOL;\r\n        },\r\n        isStrict:function () {\r\n            return !this.isDefensive() && !this.isBool();\r\n        }\r\n    };\r\n    $a=function (args) {\r\n        var a=[];\r\n        for (var i=0; i<args.length ;i++) a.push(args[i]);\r\n        return a;\r\n    };\r\n    var top=new Assertion();\r\n    var assert=function () {\r\n        try {\r\n            return top.assert.apply(top,arguments);\r\n        } catch(e) {\r\n            throw new Error(e.stack);\r\n        }\r\n    };\r\n    [\"setMode\",\"isDefensive\",\"is\",\"isset\",\"ne\",\"eq\",\"ensureError\"].forEach(function (m) {\r\n        assert[m]=function () {\r\n            try {\r\n                return top[m].apply(top,arguments);\r\n            } catch(e) {\r\n                console.log(e.stack);\r\n                //if (top.isDefensive()) return arguments[0];\r\n                //if (top.isBool()) return false;\r\n                throw new Error(e.message);\r\n            }\r\n        };\r\n    });\r\n    assert.fail=top.fail.bind(top);\r\n    assert.MODE_STRICT=top.MODE_STRICT;\r\n    assert.MODE_DEFENSIVE=top.MODE_DEFENSIVE;\r\n    assert.MODE_BOOL=top.MODE_BOOL;\r\n    assert.f=function (f) {\r\n        return {\r\n            _assert_func: f\r\n        };\r\n    };\r\n    assert.opt=function (t) {\r\n        return assert.f(function (v) {\r\n            return v==null || v instanceof t;\r\n        });\r\n    };\r\n    assert.and=function () {\r\n        var types=$a(arguments);\r\n        assert(types instanceof Array);\r\n        return assert.f(function (value) {\r\n            var t=this;\r\n            for (var i=0; i<types.length; i++) {\r\n                t.is(value,types[i]);\r\n            }\r\n        });\r\n    };\r\n    function flatten(a) {\r\n        if (a instanceof Array) {\r\n            var res=[];\r\n            a.forEach(function (e) {\r\n                res=res.concat(flatten(e));\r\n            });\r\n            return res;\r\n        }\r\n        return [a];\r\n    }\r\n    function isArg(a) {\r\n        return \"length\" in a && \"caller\" in a && \"callee\" in a;\r\n    };\r\n    return assert;\r\n});\r\n\r\ndefine('PathUtil',[\"assert\"],function (assert) {\r\nfunction endsWith(str,postfix) {\r\n    assert.is(arguments,[String,String]);\r\n    return str.substring(str.length-postfix.length)===postfix;\r\n}\r\nfunction startsWith(str,prefix) {\r\n    assert.is(arguments,[String,String]);\r\n    return str.substring(0, prefix.length)===prefix;\r\n}\r\nvar driveLetter=/^([a-zA-Z]):/;\r\n// hyphen on protocol -> chrome-extension://....\r\nvar url=/^([a-z\\-]+):\\/\\/\\/?([^\\/]+)\\//;\r\nvar PathUtil;\r\nvar Path=assert.f(function (s) {\r\n    this.is(s,String);\r\n    this.assert( PathUtil.isPath(s) , [s, \" is not a path\"]);\r\n});\r\nvar Absolute=assert.f(function (s) {\r\n    this.is(s,String);\r\n    this.assert( PathUtil.isAbsolutePath(s) , [s, \" is not a absolute path\"]);\r\n});\r\nvar Relative=assert.f(function (s) {\r\n    this.is(s,String);\r\n    this.assert( !PathUtil.isAbsolutePath(s) , [s, \" is not a relative path\"]);\r\n});\r\n\r\nvar Dir=assert.f(function (s) {\r\n    this.is(s,Path);\r\n    this.assert( PathUtil.isDir(s) , [s, \" is not a directory path\"]);\r\n});\r\nvar AbsDir=assert.and(Dir,Absolute);\r\nvar File=assert.f(function (s) {\r\n    this.is(s,Path);\r\n    this.assert( !PathUtil.isDir(s) , [s, \" is not a file path\"]);\r\n});\r\n\r\nvar SEP=\"/\";\r\nPathUtil={\r\n    Path: Path,Absolute:Absolute, Relative:Relative, Dir:Dir,File:File,\r\n    AbsDir:AbsDir,\r\n    SEP: SEP,\r\n    endsWith: endsWith, startsWith:startsWith,\r\n    isChildOf: function(child, parent) {\r\n        return this.startsWith( this.normalize(child), this.normalize(parent));\r\n    },\r\n    normalize: function (path) {\r\n        return this.fixSep(path,\"/\").replace(/\\/+$/,\"/\");\r\n    },\r\n    hasDriveLetter: function (path) {\r\n        return driveLetter.exec(path);\r\n    },\r\n    isURL: function (path) {\r\n        var r=url.exec(path);\r\n        if (!r) return;\r\n        return {protocol:r[1], hostPort:r[2], path:SEP+path.substring(r[0].length)  };\r\n    },\r\n    isPath: function (path) {\r\n    \tassert.is(arguments,[String]);\r\n\t\treturn true;//!path.match(/\\/\\//);\r\n    },\r\n    isRelativePath: function (path) {\r\n\t\tassert.is(arguments,[String]);\r\n\t\treturn PathUtil.isPath(path) && !PathUtil.isAbsolutePath(path);\r\n    },\r\n    isAbsolutePath: function (path) {\r\n\t\tassert.is(arguments,[String]);\r\n\t\treturn PathUtil.isPath(path) &&\r\n\t\t(PathUtil.startsWith(path,SEP) || PathUtil.hasDriveLetter(path) ||  PathUtil.isURL(path));\r\n    },\r\n    isDir: function (path) {\r\n        path=PathUtil.fixSep(path);\r\n\t\tassert.is(arguments,[Path]);\r\n        return endsWith(path,SEP);\r\n    },\r\n    hasBackslashSep:function (path) {\r\n        return path.indexOf(\"\\\\\")>=0;\r\n    },\r\n    fixSep: function (path,to) {\r\n        to=to||\"/\";\r\n        assert.is(arguments,[String]);\r\n        return assert.is( path.replace(/[\\\\\\/]/g,to), Path);\r\n    },\r\n    directorify: function (path) {\r\n        //path=PathUtil.fixSep(path);\r\n        if (PathUtil.isDir(path)) return path;\r\n        return assert.is(path+SEP, Dir);\r\n    },\r\n    filify: function (path) {\r\n        //path=PathUtil.fixSep(path);\r\n        if (!PathUtil.isDir(path)) return path;\r\n        return assert.is(path.substring(0,path.length-1),File);\r\n    },\r\n\tsplitPath: function (path) {\r\n\t\tassert.is(arguments,[Path]);\r\n\t\tvar u;\r\n\t\tif (u=this.isURL(path)) {\r\n\t\t    var p=this.splitPath(u.path);\r\n\t\t    p[0]=u.protocol+\"://\"+u.hostPort;\r\n\t\t    return p;\r\n\t\t}\r\n\t\tpath=path.replace(/\\/+/g,SEP);\r\n\t    var res=path.split(SEP);\r\n        if (res[res.length-1]==\"\") {\r\n            res[res.length-2]+=SEP;\r\n            res.pop();\r\n        }\r\n        return res;\r\n    },\r\n    name: function(path) {\r\n\t\tassert.is(arguments,[String]);\r\n        return PathUtil.splitPath(path).pop();\r\n    },\r\n    ext: function(path) {\r\n\t\tassert.is(arguments,[String]);\r\n        var n = PathUtil.name(path);\r\n        var r = (/\\.[a-zA-Z0-9]+$/).exec(n);\r\n        if (r) return r[0];\r\n        return null;\r\n    },\r\n    truncExt: function(path, ext) {\r\n\t\tassert.is(path,String);\r\n        var name = PathUtil.name(path);\r\n        ext=ext || PathUtil.ext(path);\r\n        assert.is(ext,String);\r\n        return name.substring(0, name.length - ext.length);\r\n    },\r\n    truncSEP: function (path) {\r\n\t\tassert.is(arguments,[Path]);\r\n\t\tif (!PathUtil.isDir(path)) return path;\r\n\t\treturn path.substring(0,path.length-1);\r\n    },\r\n    endsWith: function(path, postfix) {\r\n\t\tassert.is(arguments,[String,String]);\r\n        return endsWith(PathUtil.name(path), postfix);\r\n    },\r\n    parent: function(path) {\r\n\t\tassert.is(arguments,[String]);\r\n        return PathUtil.up(path);\r\n    },\r\n    rel: function(path,relPath) {\r\n        if (relPath==\"\") return path;\r\n\t\tassert.is(arguments,[AbsDir, Relative]);\r\n    \tvar paths=PathUtil.splitPath(relPath);\r\n        var resPath=path;\r\n        resPath=resPath.replace(/\\/$/,\"\");\r\n        var t=PathUtil;\r\n        paths.forEach(function (n) {\r\n             if (n==\"..\" || n==\"../\") resPath=t.up(resPath);\r\n             else {\r\n                 resPath=resPath.replace(/\\/$/,\"\");\r\n                 resPath+=SEP+(n==\".\"||n==\"./\" ? \"\": n);\r\n             }\r\n        });\r\n        return resPath;\r\n    },\r\n    relPath: function(path,base) {\r\n\t\tassert.is(arguments,[Absolute,Absolute]);\r\n        if (path.substring(0,base.length)!=base) {\r\n            return \"../\"+PathUtil.relPath(path, this.up(base));\r\n        }\r\n        return path.substring(base.length);\r\n    },\r\n    up: function(path) {\r\n        //path=PathUtil.fixSep(path);\r\n        if (path==SEP) return null;\r\n        var ps=PathUtil.splitPath(path);\r\n        ps.pop();\r\n        return ps.join(SEP)+SEP;\r\n    }\r\n};\r\n[\"directorify\", \"filify\", \"splitPath\", \"name\", \"rel\", \"relPath\", \"up\"].forEach(function (k) {\r\n    var old=PathUtil[k];\r\n    PathUtil[k]=function () {\r\n        var backslashifyAfter=false;\r\n        var a=Array.prototype.slice.call(arguments).map(function (e) {\r\n            if (PathUtil.hasBackslashSep(e)) {\r\n                backslashifyAfter=true;\r\n                return PathUtil.fixSep(e);\r\n            } else {\r\n                return e;\r\n            }\r\n        });\r\n        var res=old.apply(PathUtil,a);\r\n        if (backslashifyAfter) {\r\n            return PathUtil.fixSep(res,\"\\\\\");\r\n        } else {\r\n            return res;\r\n        }\r\n    };\r\n});\r\n\r\nPathUtil.isAbsolute=PathUtil.isAbsolutePath;\r\nPathUtil.isRelative=PathUtil.isRelativePath;\r\nif (typeof window==\"object\") window.PathUtil=PathUtil;\r\nreturn PathUtil;\r\n});\r\n\r\ndefine('MIMETypes',[], function () {\r\n   return {\r\n      \".png\":\"image/png\",\r\n      \".gif\":\"image/gif\",\r\n      \".jpeg\":\"image/jpeg\",\r\n      \".jpg\":\"image/jpeg\",\r\n      \".ico\":\"image/icon\",\r\n      \".wav\":\"audio/x-wav\",\r\n      \".mp3\":\"audio/mp3\",\r\n      \".ogg\":\"audio/ogg\",\r\n      \".midi\":\"audio/midi\",\r\n      \".mid\":\"audio/midi\",\r\n      \".mzo\":\"audio/mzo\",\r\n      \".txt\":\"text/plain\",\r\n      \".html\":\"text/html\",\r\n      \".htm\":\"text/html\",\r\n      \".css\":\"text/css\",\r\n      \".js\":\"text/javascript\",\r\n      \".json\":\"text/json\",\r\n      \".zip\":\"application/zip\",\r\n      \".swf\":\"application/x-shockwave-flash\",\r\n      \".pdf\":\"application/pdf\",\r\n      \".doc\":\"application/word\",\r\n      \".xls\":\"application/excel\",\r\n      \".ppt\":\"application/powerpoint\",\r\n      '.docx':'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n      '.docm':'application/vnd.ms-word.document.macroEnabled.12',\r\n      '.dotx':'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\r\n      '.dotm':'application/vnd.ms-word.template.macroEnabled.12',\r\n      '.xlsx':'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n      '.xlsm':'application/vnd.ms-excel.sheet.macroEnabled.12',\r\n      '.xltx':'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\r\n      '.xltm':'application/vnd.ms-excel.template.macroEnabled.12',\r\n      '.xlsb':'application/vnd.ms-excel.sheet.binary.macroEnabled.12',\r\n      '.xlam':'application/vnd.ms-excel.addin.macroEnabled.12',\r\n      '.pptx':'application/vnd.openxmlformats-officedocument.presentationml.presentation',\r\n      '.pptm':'application/vnd.ms-powerpoint.presentation.macroEnabled.12',\r\n      '.potx':'application/vnd.openxmlformats-officedocument.presentationml.template',\r\n      '.potm':'application/vnd.ms-powerpoint.template.macroEnabled.12',\r\n      '.ppsx':'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\r\n      '.ppsm':'application/vnd.ms-powerpoint.slideshow.macroEnabled.12',\r\n      '.ppam':'application/vnd.ms-powerpoint.addin.macroEnabled.12',\r\n      \".tonyu\":\"text/tonyu\",\r\n      \".c\":\"text/c\",\r\n      \".dtl\":\"text/dolittle\"\r\n   };\r\n});\r\n\r\ndefine('DeferredUtil',[], function () {\r\n    var root=(\r\n        typeof window!==\"undefined\" ? window :\r\n        typeof self!==\"undefined\" ? self :\r\n        typeof global!==\"undefined\" ? global : null\r\n    );\r\n    //  promise.then(S,F)  and promise.then(S).fail(F) is not same!\r\n    //  ->  when fail on S,  F is executed?\r\n    //   same is promise.then(S).then(same,F)\r\n    var DU;\r\n    var DUBRK=function(r){this.res=r;};\r\n    function same(e){return e;}\r\n    DU={\r\n        isNativePromise: function (p) {\r\n            return p && (typeof p.then===\"function\") &&\r\n            (typeof p.promise!==\"function\") && (typeof p.catch===\"function\") ;\r\n        },\r\n        isJQPromise: function (p) {\r\n            return p && (typeof p.then===\"function\") &&\r\n            (typeof p.promise===\"function\") &&(typeof p.fail===\"function\") ;\r\n        },\r\n        isPromise: function (p) {\r\n            return p && (typeof p.then===\"function\") &&\r\n            ((typeof p.promise===\"function\") || (typeof p.catch===\"function\")) ;\r\n        },\r\n        all: function (a) {\r\n            //var a=Array.prototype.slice.call(arguments);\r\n            return DU.promise(function (succ,fail) {\r\n                var res=[],rest=a.length;\r\n                a.forEach(function (p, i) {\r\n                    DU.resolve(p).then(function (r) {\r\n                        res[i]=r;\r\n                        rest--;\r\n                        if (rest===0) {\r\n                            succ(res);\r\n                        }\r\n                    },fail);\r\n                });\r\n            });\r\n        },\r\n        resolve: function (p) {\r\n            if (DU.config.useJQ && DU.isJQPromise(p)) return p;\r\n            if (!DU.config.useJQ && DU.isNativePromise(p)) return p;\r\n            return DU.promise(function (succ,fail) {\r\n                if (DU.isPromise(p)) {\r\n                    p.then(succ,fail);\r\n                } else {\r\n                    succ(p);\r\n                }\r\n            });\r\n            /*if (DU.isPromise(p)) { // NO! it returns Promise when using JQPromise and vise versa.\r\n                return f;\r\n            }\r\n            if (DU.confing.useJQ) {\r\n                return $.when(p);\r\n            }*/\r\n        },\r\n        throwNowIfRejected: function (p) {\r\n            // If Promise p has already rejected, throws the rejeceted reason immediately.\r\n            var state;\r\n            var err;\r\n            var res=p.then(function (r) {\r\n                if (!state) {\r\n                    state=\"resolved\";\r\n                }\r\n                return r;\r\n            },function (e) {\r\n                if (!state) {\r\n                    state=\"rejected\";\r\n                    err=e;\r\n                } else {\r\n                    return DU.reject(e);\r\n                }\r\n            });\r\n            if (!state) state=\"notyet\";\r\n            if (state===\"rejected\") throw err;\r\n            return res;\r\n        },\r\n        assertResolved: function (p) {\r\n            var res,resolved;\r\n            p.then(function (r) {\r\n                res=r;\r\n                resolved=true;\r\n            });\r\n            if (!resolved) {\r\n                throw new Error(\"Promise not resolved\");\r\n            }\r\n            return res;\r\n        },\r\n        /*toJQPromise: function (p) {// From native Promise\r\n            if (!p) return $.when(p);\r\n            if ($.isFunction(p.promise)) return p;\r\n            if (!$.isFunction(p.then) || !$.isFunction(p.catch)) return $.when(p);\r\n            var d=new $.Deferred();\r\n            p.then(function (r) {\r\n                d.resolve(r);\r\n            }).catch(function (r) {\r\n                d.reject(r);\r\n            });\r\n            return d.promise();\r\n        },*/\r\n        ensureDefer: function (v) {\r\n            return DU.promise(function (resolve,reject) {\r\n                var isDeferred;\r\n                DU.resolve(v).then(function (r) {\r\n                    if (!isDeferred) {\r\n                        setTimeout(function () {\r\n                            resolve(r);\r\n                        },0);\r\n                    } else {\r\n                        resolve(r);\r\n                    }\r\n                }).then(same,function (r) {\r\n                    if (!isDeferred) {\r\n                        setTimeout(function () {\r\n                            reject(r);\r\n                        },0);\r\n                    } else {\r\n                        reject(r);\r\n                    }\r\n                });\r\n                isDeferred=true;\r\n            });\r\n        },\r\n        directPromise:function (v) {\r\n            return DU.timeout(v,0);\r\n        },\r\n        then: function (f) {\r\n            return DU.directPromise().then(f);\r\n        },\r\n        timeout:function (timeout,value) {\r\n            return DU.promise(function (resolve) {\r\n                setTimeout(function () {resolve(value);},timeout||0);\r\n            });\r\n        },\r\n        funcPromise:function (f) {\r\n            if (DU.config.useJQ) {\r\n                var d=new $.Deferred();\r\n                try {\r\n                    f(function (v) {\r\n                        d.resolve(v);\r\n                    },function (e) {\r\n                        d.reject(e);\r\n                    });\r\n                }catch(e) {\r\n                    d.reject(e);\r\n                }\r\n                return d.promise();\r\n            } else if (DU.external.Promise) {\r\n                return new DU.external.Promise(function (resolve,reject) {\r\n                    try {\r\n                        f(resolve,reject);\r\n                    }catch(e) {\r\n                        reject(e);\r\n                    }\r\n                });\r\n            } else {\r\n                throw new Error(\"promise is not found\");\r\n            }\r\n        },\r\n        reject: function (e) {\r\n            if (DU.config.useJQ) {\r\n                var d=new $.Deferred();\r\n                d.reject(e);\r\n                return d.promise();\r\n            } else {\r\n                return new DU.external.Promise(function (s,rej) {\r\n                    rej(e);\r\n                });\r\n            }\r\n        },\r\n        throwPromise:function (e) {\r\n            if (DU.config.useJQ) {\r\n                var d=new $.Deferred();\r\n                setTimeout(function () {\r\n                    d.reject(e);\r\n                }, 0);\r\n                return d.promise();\r\n            } else {\r\n                return new DU.external.Promise(function (s,rej) {\r\n                    rej(e);\r\n                });\r\n            }\r\n        },\r\n        throwF: function (f) {\r\n            return function () {\r\n                try {\r\n                    return f.apply(this,arguments);\r\n                } catch(e) {\r\n                    console.log(e,e.stack);\r\n                    return DU.throwPromise(e);\r\n                }\r\n            };\r\n        },\r\n        each: function (set,f) {\r\n            if (set instanceof Array) {\r\n                return DU.loop(function (i) {\r\n                    if (i>=set.length) return DU.brk();\r\n                    return DU.resolve(f(set[i],i)).then(function () {\r\n                        return i+1;\r\n                    });\r\n                },0);\r\n            } else {\r\n                var objs=[];\r\n                for (var i in set) {\r\n                    objs.push({k:i,v:set[i]});\r\n                }\r\n                return DU.each(objs,function (e) {\r\n                    return f(e.k, e.v);\r\n                });\r\n            }\r\n        },\r\n        loop: function (f,r) {\r\n            try {\r\n                var err;\r\n                while(true) {\r\n                    if (r instanceof DUBRK) return DU.when1(r.res);\r\n                    var deff1=true, deff2=false;\r\n                    // ★ not deffered  ☆  deferred\r\n                    var r1=f(r);\r\n                    var dr=DU.resolve(r1).then(function (r2) {\r\n                        r=r2;\r\n                        deff1=false;\r\n                        if (r instanceof DUBRK) return r.res;\r\n                        if (deff2) return DU.loop(f,r); //☆\r\n                    }).then(same,function (e) {\r\n                        deff1=false;\r\n                        err=e;\r\n                    });\r\n                    if (err) throw err;\r\n                    deff2=true;\r\n                    if (deff1) return dr;//☆\r\n                    //★\r\n                }\r\n            }catch (e) {\r\n                return DU.reject(e);\r\n            }\r\n        },\r\n        brk: function (res) {\r\n            return new DUBRK(res);\r\n        },\r\n        tryLoop: function (f,r) {\r\n            return DU.loop(DU.tr(f),r);\r\n        },\r\n        tryEach: function (s,f) {\r\n            return DU.loop(s,DU.tr(f));\r\n        },\r\n        documentReady:function () {\r\n            return DU.callbackToPromise(function (s) {$(s);});\r\n        },\r\n        requirejs:function (modules) {\r\n            if (!root.requirejs) throw new Error(\"requirejs is not loaded\");\r\n            return DU.callbackToPromise(function (s) {\r\n                root.requirejs(modules,s);\r\n            });\r\n        }\r\n    };\r\n    DU.NOP=function (r) {return r;};\r\n    DU.E=function () {\r\n        console.log(\"DUE\",arguments);\r\n        DU.errorHandler.apply(DU,arguments);\r\n    };\r\n    DU.errorHandler=function (e) {\r\n        console.error.apply(console,arguments);\r\n        alert(e);\r\n    };\r\n    DU.setE=function (f) {\r\n        DU.errorHandler=f;\r\n    };\r\n    DU.begin=DU.try=DU.tr=DU.throwF;\r\n    DU.promise=DU.callbackToPromise=DU.funcPromise;\r\n    DU.when1=DU.resolve;\r\n    DU.config={};\r\n    if (root.$ && root.$.Deferred) {\r\n        DU.config.useJQ=true;\r\n    }\r\n    DU.external={Promise:root.Promise};\r\n    if (!root.DeferredUtil) root.DeferredUtil=DU;\r\n    return DU;\r\n});\r\n\r\ndefine('FSClass',[\"extend\",\"PathUtil\",\"MIMETypes\",\"assert\",\"DeferredUtil\"],\r\nfunction (extend, P, M,assert,DU){\r\n    var FS=function () {\r\n    };\r\n    var fstypes={};\r\n    FS.addFSType=function (name,fsgen) {\r\n        fstypes[name]=fsgen;\r\n    };\r\n    FS.availFSTypes=function () {\r\n        return fstypes;\r\n    };\r\n    function stub(n) {\r\n        throw new Error (n+\" is STUB!\");\r\n    }\r\n    extend(FS.prototype, {\r\n        err: function (path, mesg) {\r\n            throw new Error(path+\": \"+mesg);\r\n        },\r\n        fstype:function () {\r\n            return \"Unknown\";\r\n        },\r\n        isReadOnly: function (path, options) {// mainly for check ENTIRELY read only\r\n            stub(\"isReadOnly\");\r\n        },\r\n        supportsSync: function () {\r\n            return true;\r\n        },\r\n        resolveFS:function (path, options) {\r\n            assert(this.getRootFS()!==this);\r\n            return this.getRootFS().resolveFS(path);\r\n        },\r\n        mounted: function (rootFS, mountPoint ) {\r\n            //assert.is(arguments,[FS,P.AbsDir]);\r\n            this.rootFS=rootFS;\r\n            this.mountPoint=mountPoint;\r\n        },\r\n        inMyFS:function (path) {\r\n            return !this.mountPoint || P.startsWith(path, this.mountPoint);\r\n        },\r\n        /*dirFromFstab: function (path, options) {\r\n            assert.is(path, P.AbsDir);\r\n            var res=(options||{}).res || [];\r\n            this.fstab().forEach(function (tb) {\r\n                if (P.up( tb.path )==path) res.push(P.name(tb.path));\r\n            });\r\n            return res;\r\n        },*/\r\n        getRootFS: function () {\r\n            return assert( this.rootFS, \"rootFS is not set\" );\r\n        },\r\n        //-------- end of mouting\r\n        //-------- spec\r\n        getReturnTypes: function (path, options) {\r\n            //{getContent:String|DataURL|ArrayBuffer|OutputStream|Writer\r\n            //   ,opendir:Array|...}\r\n            stub(\"\");\r\n        },\r\n        //-------  for file\r\n        getContent: function (path, options) {\r\n            // options:{type:String|DataURL|ArrayBuffer|OutputStream|Writer}\r\n            // succ : [type],\r\n            stub(\"getContent\");\r\n        },\r\n        size: function (path) {\r\n            var c=this.getContent(path,{type:ArrayBuffer});\r\n            var l=c.toBin().byteLength;\r\n            return l;\r\n        },\r\n        getContentAsync: function (path, options) {\r\n            if (!this.supportsSync()) stub(\"getContentAsync\");\r\n            return DU.resolve(this.getContent.apply(this,arguments));\r\n        },\r\n        setContent: function (path, content, options) {\r\n            // content: String|ArrayBuffer|InputStream|Reader\r\n            stub(\"\");\r\n        },\r\n        setContentAsync: function (path, content, options) {\r\n            var t=this;\r\n            if (!t.supportsSync()) stub(\"setContentAsync\");\r\n            return DU.resolve(content).then(function (content) {\r\n                return DU.resolve(t.setContent(path,content,options));\r\n            });\r\n        },\r\n        appendContent: function (path, content, options) {\r\n            //var nc=this.getContent(path,options).toPlainText()+content.toPlainText();\r\n            //return this.setContent(path, Content.fromPlainText(nc) , options);\r\n            stub(\"\");\r\n        },\r\n        appendContentAsync: function (path, content, options) {\r\n            var t=this;\r\n            if (!t.supportsSync()) stub(\"appendContentAsync\");\r\n            return DU.resolve(content).then(function (content) {\r\n                return DU.resolve(t.appendContent(path,content,options));\r\n            });\r\n        },\r\n        getMetaInfo: function (path, options) {\r\n            stub(\"\");\r\n        },\r\n        setMetaInfo: function (path, info, options) {\r\n            stub(\"\");\r\n        },\r\n        mkdir: function (path, options) {\r\n            stub(\"mkdir\");\r\n        },\r\n        touch: function (path) {\r\n            stub(\"touch\");\r\n        },\r\n        exists: function (path, options) {\r\n            // exists return false if path is existent by follwing symlink\r\n            stub(\"exists\");\r\n        },\r\n        opendir: function (path, options) {\r\n            //ret: [String] || Stream<string> // https://nodejs.org/api/stream.html#stream_class_stream_readable\r\n            stub(\"opendir\");\r\n        },\r\n        opendirAsync: function (path, options) {\r\n            if (!this.supportsSync()) stub(\"opendirAsync\");\r\n            return DU.resolve(this.opendir.apply(this,arguments));\r\n        },\r\n        cp: function(path, dst, options) {\r\n            assert.is(arguments,[P.Absolute,P.Absolute]);\r\n            this.assertExist(path);\r\n            options=options||{};\r\n            var srcIsDir=this.isDir(path);\r\n            var dstfs=this.getRootFS().resolveFS(dst);\r\n            var dstIsDir=dstfs.isDir(dst);\r\n            if (!srcIsDir && !dstIsDir) {\r\n                if (this.supportsSync() && dstfs.supportsSync()) {\r\n                    var cont=this.getContent(path);\r\n                    var res=dstfs.setContent(dst,cont);\r\n                    if (options.a) {\r\n                        dstfs.setMetaInfo(dst, this.getMetaInfo(path));\r\n                    }\r\n                    return res;\r\n                } else {\r\n                    return dstfs.setContentAsync(\r\n                            dst,\r\n                            this.getContentAsync(path)\r\n                    ).then(function (res) {\r\n                        if (options.a) {\r\n                            return dstfs.setMetaInfo(dst, this.getMetaInfo(path));\r\n                        }\r\n                        return res;\r\n                    });\r\n                }\r\n            } else {\r\n                throw new Error(\"only file to file supports\");\r\n            }\r\n        },\r\n        mv: function (path,to,options) {\r\n            this.cp(path,to,options);\r\n            return this.rm(path,{r:true});\r\n        },\r\n        rm:function (path, options) {\r\n            stub(\"\");\r\n        },\r\n        link: function (path, to, options) {\r\n            throw new Error(\"ln \"+to+\" \"+path+\" : This FS not support link.\");\r\n        },\r\n        getURL: function (path) {\r\n            stub(\"\");\r\n        },\r\n        onAddObserver: function (path) {\r\n        }\r\n    });\r\n    //res=[]; for (var k in a) { res.push(k); } res;\r\n    FS.delegateMethods=function (prototype,  methods) {\r\n        for (var n in methods) {\r\n            (function (n){\r\n                assert.ne(n,\"inMyFS\");\r\n                prototype[n]=function () {\r\n                    var path=arguments[0];\r\n                    assert.is(path,P.Absolute);\r\n                    var fs=this.resolveFS(path);\r\n                    //console.log(n, f.fs===this  ,f.fs, this);\r\n                    if (fs!==this) {\r\n                        console.log(\"Invoked for other fs\",this.mountPoint, fs.mountPoint)\r\n                        //arguments[0]=f.path;\r\n                        return fs[n].apply(fs, arguments);\r\n                    } else {\r\n                        return methods[n].apply(this, arguments);\r\n                    }\r\n                };\r\n            })(n);\r\n        }\r\n    };\r\n    FS.delegateMethods(FS.prototype, {\r\n        assertWriteable: function (path) {\r\n            if (this.isReadOnly(path)) this.err(path, \"read only.\");\r\n        },\r\n        getContentType: function (path, options) {\r\n            var e=(P.ext(path)+\"\").toLowerCase();\r\n            return M[e] || (options||{}).def || \"application/octet-stream\";\r\n        },\r\n        getBlob: function (path, options) {\r\n            var c=this.getContent(path);\r\n            options=options||{};\r\n            options.blobType=options.blobType||Blob;\r\n            options.binType=options.binType||ArrayBuffer;\r\n            if (c.hasPlainText()) {\r\n                return new options.blobType([c.toPlainText()],this.getContentType(path));\r\n            } else {\r\n                return new options.blobType([c.toBin(options.binType)],this.getContentType(path));\r\n            }\r\n        },\r\n        isText:function (path) {\r\n            var m=this.getContentType(path);\r\n            return P.startsWith( m, \"text\");\r\n        },\r\n        assertExist: function (path, options) {\r\n            if (!this.exists(path, options)) {\r\n                this.err(path, \": No such \"+(P.isDir(path)?\"directory\":\"file\"));\r\n            }\r\n        },\r\n        isDir: function (path,options) {\r\n            return P.isDir(path);\r\n        },\r\n        find: function (path, options) {\r\n            assert.is(arguments,[P.Absolute]);\r\n            var ls=this.opendir(path, options);\r\n            var t=this;\r\n            var res=[path];\r\n            ls.forEach(function (e) {\r\n                var ep=P.rel(path, e);\r\n                if (P.isDir(ep)) {\r\n                    var fs=t.resolveFS(ep);\r\n                    res=res.concat(\r\n                            fs.find( ep ,options)\r\n                    );\r\n                } else {\r\n                    res.push( ep );//getPathFromRootFS\r\n                }\r\n            });\r\n            return res;\r\n        },\r\n        resolveLink: function (path) {\r\n            assert.is(path,P.Absolute);\r\n            // returns non-link path\r\n            // ln -s /a/b/ /c/d/\r\n            // resolveLink /a/b/    ->  /a/b/\r\n            // resolveLink /c/d/e/f -> /a/b/e/f\r\n            // resolveLink /c/d/non_existent -> /a/b/non_existent\r\n            // isLink      /c/d/    -> /a/b/\r\n            // isLink      /c/d/e/f -> null\r\n            // ln /testdir/ /ram/files/\r\n            // resolveLink /ram/files/sub/test2.txt -> /testdir/sub/test2.txt\r\n            // path=/ram/files/test.txt\r\n            for (var p=path ; p ; p=P.up(p)) {\r\n                assert(!this.mountPoint || P.startsWith(p, this.mountPoint), p+\" is out of mountPoint. path=\"+path);\r\n                var l=this.isLink(p);  // p=/ram/files/ l=/testdir/\r\n                if (l) {\r\n                    assert(l!=p,\"l==p==\"+l);\r\n                    //        /testdir/    test.txt\r\n                    var np=P.rel(l,P.relPath(path, p));  //   /testdir/test.txt\r\n                    assert(np!=path,\"np==path==\"+np);\r\n                    return assert.is(this.getRootFS().resolveFS(np).resolveLink(np),P.Absolute)  ;\r\n                }\r\n                if (this.exists(p)) return path;\r\n            }\r\n            return path;\r\n        },\r\n        isLink: function (path) {\r\n            return null;\r\n        },\r\n        opendirEx: function (path, options) {\r\n            assert.is(path, P.AbsDir);\r\n            var ls=this.opendir(path);\r\n            var t=this;\r\n            var dest={};\r\n            ls.forEach(function (f) {\r\n                var p=P.rel(path,f);\r\n                dest[f]=t.getMetaInfo(p);\r\n            });\r\n            return dest;\r\n        },\r\n        getDirTree: function (path, options) {\r\n            options=options||{};\r\n            var dest=options.dest=options.dest||{};\r\n            options.style=options.style||\"flat-absolute\";\r\n            options.excludes=options.excludes||[];\r\n            assert.is(options.excludes,Array);\r\n            if (!options.base) {\r\n                options.base=path;\r\n            }\r\n            assert.is(path, P.AbsDir);\r\n            var tr=this.opendirEx(path,options);\r\n            if (options.style==\"no-recursive\") return tr;\r\n            var t=this;\r\n            for (var f in tr) {\r\n                var meta=tr[f];\r\n                var p=P.rel(path,f);\r\n                var relP=P.relPath(p,options.base);\r\n                switch(options.style) {\r\n                    case \"flat-relative\":\r\n                    case \"hierarchical\":\r\n                        if (options.excludes.indexOf(relP)>=0) {\r\n                            continue;\r\n                        }\r\n                        break;\r\n                    case \"flat-absolute\":\r\n                        if (options.excludes.indexOf(p)>=0) {\r\n                            continue;\r\n                        }\r\n                        break;\r\n                }\r\n                if (t.isDir(p)) {\r\n                    switch(options.style) {\r\n                    case \"flat-absolute\":\r\n                    case \"flat-relative\":\r\n                        t.getDirTree(p,options);\r\n                        break;\r\n                    case \"hierarchical\":\r\n                        options.dest={};\r\n                        dest[f]=t.getDirTree(p,options);\r\n                        break;\r\n                    }\r\n                } else {\r\n                    switch(options.style) {\r\n                    case \"flat-absolute\":\r\n                        dest[p]=meta;\r\n                        break;\r\n                    case \"flat-relative\":\r\n                        dest[relP]=meta;\r\n                        break;\r\n                    case \"hierarchical\":\r\n                        dest[f]=meta;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            return dest;\r\n        }\r\n        /*get: function (path) {\r\n            assert.eq(this.resolveFS(path), this);\r\n            return new SFile(this, path);\r\n            //var r=this.resolveFS(path);\r\n            //return new SFile(r.fs, r.path);\r\n        }*/\r\n\r\n    });\r\n    return FS;\r\n});\r\n\r\ndefine('Util',[],function () {\r\nfunction getQueryString(key, default_)\r\n{\r\n   if (default_==null) default_=\"\";\r\n   key = key.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\r\n   var regex = new RegExp(\"[\\\\?&]\"+key+\"=([^&#]*)\");\r\n   var qs = regex.exec(window.location.href);\r\n   if(qs == null)\r\n    return default_;\r\n   else\r\n    return decodeURLComponentEx(qs[1]);\r\n}\r\nfunction decodeURLComponentEx(s){\r\n    return decodeURIComponent(s.replace(/\\+/g, '%20'));\r\n}\r\nfunction endsWith(str,postfix) {\r\n    return str.substring(str.length-postfix.length)===postfix;\r\n}\r\nfunction startsWith(str,prefix) {\r\n    return str.substring(0, prefix.length)===prefix;\r\n}\r\nfunction privatize(o){\r\n    if (o.__privatized) return o;\r\n    var res={__privatized:true};\r\n    for (var n in o) {\r\n        (function (n) {\r\n            var m=o[n];\r\n            if (n.match(/^_/)) return;\r\n            if (typeof m!=\"function\") return;\r\n            res[n]=function () {\r\n                var r=m.apply(o,arguments);\r\n                return r;\r\n            };\r\n        })(n);\r\n    }\r\n    return res;\r\n}\r\nfunction extend(d,s) {\r\n    for (var i in (s||{})) {d[i]=s[i];} \r\n    return d;\r\n}\r\nreturn {\r\n    getQueryString:getQueryString,\r\n    endsWith: endsWith, startsWith: startsWith,\r\n    privatize: privatize,extend:extend\r\n};\r\n});\r\n\r\n/*\r\n* FileSaver.js\r\n* A saveAs() FileSaver implementation.\r\n*\r\n* By Eli Grey, http://eligrey.com\r\n*\r\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\r\n* source  : http://purl.eligrey.com/github/FileSaver.js\r\n*/\r\ndefine('FileSaver',[],function (){\r\n\r\n// The one and only way of getting global scope in all environments\r\n// https://stackoverflow.com/q/3277182/1008999\r\nvar _global = typeof window === 'object' && window.window === window\r\n  ? window : typeof self === 'object' && self.self === self\r\n  ? self : typeof global === 'object' && global.global === global\r\n  ? global\r\n  : this\r\n\r\nfunction bom (blob, opts) {\r\n  if (typeof opts === 'undefined') opts = { autoBom: false }\r\n  else if (typeof opts !== 'object') {\r\n    console.warn('Depricated: Expected third argument to be a object')\r\n    opts = { autoBom: !opts }\r\n  }\r\n\r\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\r\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\r\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\r\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\r\n  }\r\n  return blob\r\n}\r\n\r\nfunction download (url, name, opts) {\r\n  var xhr = new XMLHttpRequest()\r\n  xhr.open('GET', url)\r\n  xhr.responseType = 'blob'\r\n  xhr.onload = function () {\r\n    saveAs(xhr.response, name, opts)\r\n  }\r\n  xhr.onerror = function () {\r\n    console.error('could not download file')\r\n  }\r\n  xhr.send()\r\n}\r\n\r\nfunction corsEnabled (url) {\r\n  var xhr = new XMLHttpRequest()\r\n  // use sync to avoid popup blocker\r\n  xhr.open('HEAD', url, false)\r\n  xhr.send()\r\n  return xhr.status >= 200 && xhr.status <= 299\r\n}\r\n\r\n// `a.click()` doesn't work for all browsers (#465)\r\nfunction click(node) {\r\n  try {\r\n    node.dispatchEvent(new MouseEvent('click'))\r\n  } catch (e) {\r\n    var evt = document.createEvent('MouseEvents')\r\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\r\n                          20, false, false, false, false, 0, null)\r\n    node.dispatchEvent(evt)\r\n  }\r\n}\r\n\r\nvar saveAs = _global.saveAs ||\r\n// probably in some web worker\r\n(typeof window !== 'object' || window !== _global)\r\n  ? function saveAs () { /* noop */ }\r\n\r\n// Use download attribute first if possible (#193 Lumia mobile)\r\n: 'download' in HTMLAnchorElement.prototype\r\n? function saveAs (blob, name, opts) {\r\n  var URL = _global.URL || _global.webkitURL\r\n  var a = document.createElement('a')\r\n  name = name || blob.name || 'download'\r\n\r\n  a.download = name\r\n  a.rel = 'noopener' // tabnabbing\r\n\r\n  // TODO: detect chrome extensions & packaged apps\r\n  // a.target = '_blank'\r\n\r\n  if (typeof blob === 'string') {\r\n    // Support regular links\r\n    a.href = blob\r\n    if (a.origin !== location.origin) {\r\n      corsEnabled(a.href)\r\n        ? download(blob, name, opts)\r\n        : click(a, a.target = '_blank')\r\n    } else {\r\n      click(a)\r\n    }\r\n  } else {\r\n    // Support blobs\r\n    a.href = URL.createObjectURL(blob)\r\n    setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\r\n    setTimeout(function () { click(a) }, 0)\r\n  }\r\n}\r\n\r\n// Use msSaveOrOpenBlob as a second approach\r\n: 'msSaveOrOpenBlob' in navigator\r\n? function saveAs (blob, name, opts) {\r\n  name = name || blob.name || 'download'\r\n\r\n  if (typeof blob === 'string') {\r\n    if (corsEnabled(blob)) {\r\n      download(blob, name, opts)\r\n    } else {\r\n      var a = document.createElement('a')\r\n      a.href = blob\r\n      a.target = '_blank'\r\n      setTimeout(function () { click(a) })\r\n    }\r\n  } else {\r\n    navigator.msSaveOrOpenBlob(bom(blob, opts), name)\r\n  }\r\n}\r\n\r\n// Fallback to using FileReader and a popup\r\n: function saveAs (blob, name, opts, popup) {\r\n  // Open a popup immediately do go around popup blocker\r\n  // Mostly only avalible on user interaction and the fileReader is async so...\r\n  popup = popup || open('', '_blank')\r\n  if (popup) {\r\n    popup.document.title =\r\n    popup.document.body.innerText = 'downloading...'\r\n  }\r\n\r\n  if (typeof blob === 'string') return download(blob, name, opts)\r\n\r\n  var force = blob.type === 'application/octet-stream'\r\n  var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\r\n  var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\r\n\r\n  if ((isChromeIOS || (force && isSafari)) && typeof FileReader === 'object') {\r\n    // Safari doesn't allow downloading of blob urls\r\n    var reader = new FileReader()\r\n    reader.onloadend = function () {\r\n      var url = reader.result\r\n      url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\r\n      if (popup) popup.location.href = url\r\n      else location = url\r\n      popup = null // reverse-tabnabbing #460\r\n    }\r\n    reader.readAsDataURL(blob)\r\n  } else {\r\n    var URL = _global.URL || _global.webkitURL\r\n    var url = URL.createObjectURL(blob)\r\n    if (popup) popup.location = url\r\n    else location.href = url\r\n    popup = null // reverse-tabnabbing #460\r\n    setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\r\n  }\r\n}\r\n\r\n_global.saveAs = saveAs.saveAs = saveAs\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = saveAs;\r\n}\r\nreturn saveAs;\r\n});\r\n\r\ndefine('Content',[\"assert\",\"Util\",\"FileSaver\"],function (assert,Util,saveAs) {\r\n    var Content=function () {};\r\n    var extend=Util.extend;\r\n    // ------ constructor\r\n    Content.plainText=function (s,contentType){\r\n        var b=new Content;\r\n        b.contentType=contentType||\"text/plain\";\r\n        b.plain=s;\r\n        return b;\r\n    };\r\n    Content.url=function (s) {\r\n        var b=new Content;\r\n        b.url=s;\r\n        return b;\r\n    };\r\n    Content.buffer2ArrayBuffer = function (a) {\r\n        if (Content.isBuffer(a)) {\r\n            var u=new Uint8Array(a);\r\n            var r=u.buffer;\r\n            if (r instanceof ArrayBuffer) return r;\r\n            var ary=Array.prototype.slice.call(u);\r\n            return assert(new Uint8Array(ary).buffer,\"n2a: buf is not set\");\r\n        }\r\n        return assert(a,\"n2a: a is not set\");\r\n    };\r\n    Content.arrayBuffer2Buffer= function (a) {\r\n        if (a instanceof ArrayBuffer) {\r\n            var b=new Buffer(new Uint8Array(a));\r\n            return b;\r\n        }\r\n        return assert(a,\"a2n: a is not set\");\r\n    };\r\n\r\n    Content.bin=function (bin, contentType) {\r\n        assert(contentType, \"contentType should be set\");\r\n        var b=new Content;\r\n        if (Content.isNodeBuffer(bin)) {\r\n            b.bufType=\"node\";\r\n            b.nodeBuffer=bin;\r\n        } else if (bin instanceof ArrayBuffer) {\r\n            b.bufType=\"array2\";\r\n            b.arrayBuffer=bin;\r\n        } else if (bin && Content.isBuffer(bin.buffer)) {\r\n            // in node.js v8.9.1 ,\r\n            ///  bin is Buffer, bin.buffer is ArrayBuffer\r\n            //   and bin.buffer is content of different file(memory leak?) \r\n            b.bufType=\"array1\";\r\n            b.arrayBuffer=bin.buffer;\r\n        } else {\r\n            throw new Error(bin+\" is not a bin\");\r\n        }\r\n        b.contentType=contentType;\r\n        return b;\r\n    };\r\n    Content.looksLikeDataURL=function (text) {\r\n        return text.match(/^data:/);\r\n    };\r\n    Content.download=saveAs;\r\n    // why blob is not here... because blob content requires FileReader (cannot read instantly!)\r\n    //------- methods\r\n    var p=Content.prototype;\r\n    p.toBin = function (binType) {\r\n        binType=binType || (Content.hasNodeBuffer() ? Buffer: ArrayBuffer);\r\n        if (this.nodeBuffer) {\r\n            if (binType===Buffer) {\r\n                return this.nodeBuffer;\r\n            } else {\r\n                return this.arrayBuffer=( Content.buffer2ArrayBuffer(this.nodeBuffer) );\r\n            }\r\n        } else if (this.arrayBuffer) {\r\n            if (binType===ArrayBuffer) {\r\n                return this.arrayBuffer;\r\n            } else {\r\n                return this.nodeBuffer=( Content.arrayBuffer2Buffer(this.arrayBuffer) );\r\n            }\r\n        } else if (this.url) {\r\n            var d=new DataURL(this.url, binType);\r\n            return this.setBuffer(d.buffer);\r\n        } else if (this.plain!=null) {\r\n            return this.setBuffer( Content.str2utf8bytes(this.plain, binType) );\r\n        }\r\n        throw new Error(\"No data\");\r\n    };\r\n    p.setBuffer=function (b) {\r\n        assert(b,\"b is not set\");\r\n        if (Content.isNodeBuffer(b)) {\r\n            return this.nodeBuffer=b;\r\n        } else {\r\n            return this.arrayBuffer=b;\r\n        }\r\n    };\r\n    p.toArrayBuffer=function () {\r\n        return this.toBin(ArrayBuffer);\r\n    };\r\n    p.toNodeBuffer=function () {\r\n        return this.toBin(Buffer);\r\n    };\r\n    p.toURL=function () {\r\n        if (this.url) {\r\n            return this.url;\r\n        } else {\r\n            if (!this.arrayBuffer && this.plain!=null) {\r\n                this.arrayBuffer=Content.str2utf8bytes(this.plain,ArrayBuffer);\r\n            }\r\n            if (this.arrayBuffer || this.nodeBuffer) {\r\n                var d=new DataURL(this.arrayBuffer || this.nodeBuffer,this.contentType);\r\n                return this.url=d.url;\r\n            }\r\n        }\r\n        throw new Error(\"No data\");\r\n    };\r\n    p.toPlainText=function () {\r\n        if (this.hasPlainText()) {\r\n            return this.plain;\r\n        } else {\r\n            if (this.url && !this.hasBin() ) {\r\n                var d=new DataURL(this.url,ArrayBuffer);\r\n                this.arrayBuffer=d.buffer;\r\n            }\r\n            if (this.hasBin()) {\r\n                return this.plain=Content.utf8bytes2str(\r\n                        this.nodeBuffer || new Uint8Array(this.arrayBuffer)\r\n                );\r\n            }\r\n        }\r\n        throw new Error(\"No data\");\r\n    };\r\n    p.hasURL=function (){return this.url;};\r\n    p.hasPlainText=function (){return this.plain!=null;};\r\n    p.hasBin=function (){return this.nodeBuffer || this.arrayBuffer;};\r\n    p.hasNodeBuffer= function () {return this.nodeBuffer;};\r\n    p.hasArrayBuffer= function () {return this.arrayBuffer;};\r\n    p.toBlob=function () {\r\n        return new Blob([this.toBin(ArrayBuffer)],{type:this.contentType});\r\n    };\r\n    p.download=function (name) {\r\n        Content.download(this.toBlob(),name);\r\n    };\r\n    //--------Util funcs\r\n    // From http://hakuhin.jp/js/base64.html#BASE64_DECODE_ARRAY_BUFFER\r\n    Content.Base64_To_ArrayBuffer=function (base64,binType){\r\n\t    var A=binType||ArrayBuffer;\r\n        base64=base64.replace(/[\\n=]/g,\"\");\r\n        var dic = new Object();\r\n        dic[0x41]= 0; dic[0x42]= 1; dic[0x43]= 2; dic[0x44]= 3; dic[0x45]= 4; dic[0x46]= 5; dic[0x47]= 6; dic[0x48]= 7; dic[0x49]= 8; dic[0x4a]= 9; dic[0x4b]=10; dic[0x4c]=11; dic[0x4d]=12; dic[0x4e]=13; dic[0x4f]=14; dic[0x50]=15;\r\n        dic[0x51]=16; dic[0x52]=17; dic[0x53]=18; dic[0x54]=19; dic[0x55]=20; dic[0x56]=21; dic[0x57]=22; dic[0x58]=23; dic[0x59]=24; dic[0x5a]=25; dic[0x61]=26; dic[0x62]=27; dic[0x63]=28; dic[0x64]=29; dic[0x65]=30; dic[0x66]=31;\r\n        dic[0x67]=32; dic[0x68]=33; dic[0x69]=34; dic[0x6a]=35; dic[0x6b]=36; dic[0x6c]=37; dic[0x6d]=38; dic[0x6e]=39; dic[0x6f]=40; dic[0x70]=41; dic[0x71]=42; dic[0x72]=43; dic[0x73]=44; dic[0x74]=45; dic[0x75]=46; dic[0x76]=47;\r\n        dic[0x77]=48; dic[0x78]=49; dic[0x79]=50; dic[0x7a]=51; dic[0x30]=52; dic[0x31]=53; dic[0x32]=54; dic[0x33]=55; dic[0x34]=56; dic[0x35]=57; dic[0x36]=58; dic[0x37]=59; dic[0x38]=60; dic[0x39]=61; dic[0x2b]=62; dic[0x2f]=63;\r\n        var num = base64.length;\r\n        var n = 0;\r\n        var b = 0;\r\n        var e;\r\n\r\n        if(!num) return (new A(0));\r\n        //if(num < 4) return null;\r\n        //if(num % 4) return null;\r\n\r\n        // AA     12    1\r\n        // AAA    18    2\r\n        // AAAA   24    3\r\n        // AAAAA  30    3\r\n        // AAAAAA 36    4\r\n        // num*6/8\r\n        e = Math.floor(num / 4 * 3);\r\n        if(base64.charAt(num - 1) == '=') e -= 1;\r\n        if(base64.charAt(num - 2) == '=') e -= 1;\r\n\r\n        var ary_buffer = new A( e );\r\n        var ary_u8 = (Content.isNodeBuffer(ary_buffer) ? ary_buffer : new Uint8Array( ary_buffer ));//new Uint8Array( ary_buffer );\r\n        var i = 0;\r\n        var p = 0;\r\n        while(p < e){\r\n            b = dic[base64.charCodeAt(i)];\r\n            if(b === undefined) fail(\"Invalid letter: \"+base64.charCodeAt(i));//return null;\r\n            n = (b << 2);\r\n            i ++;\r\n\r\n            b = dic[base64.charCodeAt(i)];\r\n            if(b === undefined) fail(\"Invalid letter: \"+base64.charCodeAt(i))\r\n            ary_u8[p] = n | ((b >> 4) & 0x3);\r\n            n = (b & 0x0f) << 4;\r\n            i ++;\r\n            p ++;\r\n            if(p >= e) break;\r\n\r\n            b = dic[base64.charCodeAt(i)];\r\n            if(b === undefined) fail(\"Invalid letter: \"+base64.charCodeAt(i))\r\n            ary_u8[p] = n | ((b >> 2) & 0xf);\r\n            n = (b & 0x03) << 6;\r\n            i ++;\r\n            p ++;\r\n            if(p >= e) break;\r\n\r\n            b = dic[base64.charCodeAt(i)];\r\n            if(b === undefined) fail(\"Invalid letter: \"+base64.charCodeAt(i))\r\n            ary_u8[p] = n | b;\r\n            i ++;\r\n            p ++;\r\n        }\r\n        function fail(m) {\r\n            console.log(m);\r\n            console.log(base64,i);\r\n            throw new Error(m);\r\n        }\r\n        return ary_buffer;\r\n    };\r\n\r\n    Content.Base64_From_ArrayBuffer=function (ary_buffer){\r\n        var dic = [\r\n            'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P',\r\n            'Q','R','S','T','U','V','W','X','Y','Z','a','b','c','d','e','f',\r\n            'g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v',\r\n            'w','x','y','z','0','1','2','3','4','5','6','7','8','9','+','/'\r\n        ];\r\n        var base64 = \"\";\r\n        var ary_u8 = new Uint8Array( ary_buffer );\r\n        var num = ary_u8.length;\r\n        var n = 0;\r\n        var b = 0;\r\n\r\n        var i = 0;\r\n        while(i < num){\r\n            b = ary_u8[i];\r\n            base64 += dic[(b >> 2)];\r\n            n = (b & 0x03) << 4;\r\n            i ++;\r\n            if(i >= num) break;\r\n\r\n            b = ary_u8[i];\r\n            base64 += dic[n | (b >> 4)];\r\n            n = (b & 0x0f) << 2;\r\n            i ++;\r\n            if(i >= num) break;\r\n\r\n            b = ary_u8[i];\r\n            base64 += dic[n | (b >> 6)];\r\n            base64 += dic[(b & 0x3f)];\r\n            i ++;\r\n        }\r\n\r\n        var m = num % 3;\r\n        if(m){\r\n            base64 += dic[n];\r\n        }\r\n        if(m == 1){\r\n            base64 += \"==\";\r\n        }else if(m == 2){\r\n            base64 += \"=\";\r\n        }\r\n        return base64;\r\n    };\r\n\r\n    Content.hasNodeBuffer=function () {\r\n        return typeof Buffer!=\"undefined\";\r\n    };\r\n    Content.isNodeBuffer=function (data) {\r\n        return (Content.hasNodeBuffer() && data instanceof Buffer);\r\n    };\r\n    Content.isBuffer=function (data) {\r\n        return data instanceof ArrayBuffer || Content.isNodeBuffer(data);\r\n    };\r\n    Content.utf8bytes2str=function (bytes) {\r\n        var e=[];\r\n        for (var i=0 ; i<bytes.length ; i++) {\r\n             e.push(\"%\"+(\"0\"+bytes[i].toString(16)).slice(-2));\r\n        }\r\n        //try {\r\n            return decodeURIComponent(e.join(\"\"));\r\n        /*} catch (er) {\r\n            console.log(e.join(\"\"));\r\n            throw er;\r\n        }*/\r\n    };\r\n    Content.str2utf8bytes=function (str, binType) {\r\n        var e=encodeURIComponent(str);\r\n        var r=/^%(..)/;\r\n        var a=[];\r\n        var ad=0;\r\n        for (var i=0 ; i<e.length; i++) {\r\n            var m=r.exec( e.substring(i));\r\n            if (m) {\r\n                a.push(parseInt(\"0x\"+m[1]));\r\n                i+=m[0].length-1;\r\n            } else a.push(e.charCodeAt(i));\r\n        }\r\n        return (typeof Buffer!=\"undefined\" && binType===Buffer ? new Buffer(a) : new Uint8Array(a).buffer);\r\n    };\r\n    //-------- DataURL\r\n    var A=Content.hasNodeBuffer() ? Buffer :ArrayBuffer;\r\n    //var isBuffer=Util.isBuffer;\r\n    var DataURL=function (data, contentType){\r\n      // data: String/Array/ArrayBuffer\r\n      if (typeof data==\"string\") {\r\n          this.url=data;\r\n          this.binType=contentType || A;\r\n          this.dataURL2bin(data);\r\n      } else if (data && Content.isBuffer(data.buffer)) {\r\n          this.buffer=data.buffer;\r\n          assert.is(contentType,String);\r\n          this.contentType=contentType;\r\n          this.bin2dataURL(this.buffer, this.contentType);\r\n      } else if (Content.isBuffer(data)) {\r\n          this.buffer=data;\r\n          assert.is(contentType,String);\r\n          this.contentType=contentType;\r\n          this.bin2dataURL(this.buffer, this.contentType);\r\n      } else {\r\n          console.log(arguments);\r\n          assert.fail(\"Invalid args: \",arguments);\r\n      }\r\n   };\r\n   Content.DataURL=DataURL;\r\n   extend(DataURL.prototype,{\r\n      bin2dataURL: function (b, contentType) {\r\n          assert(Content.isBuffer(b));\r\n          assert.is(contentType,String);\r\n  \t     var head=this.dataHeader(contentType);\r\n\t     var base64=Content.Base64_From_ArrayBuffer(b);\r\n\t     assert.is(base64,String);\r\n\t     return this.url=head+base64;\r\n\t  },\r\n\t  dataURL2bin: function (dataURL) {\r\n          assert.is(arguments,[String]);\r\n\t      var reg=/^data:([^;]+);base64,/i;\r\n\t      var r=reg.exec(dataURL);\r\n\t      assert(r, [\"malformed dataURL:\", dataURL] );\r\n\t      this.contentType=r[1];\r\n\t      this.buffer=Content.Base64_To_ArrayBuffer(dataURL.substring(r[0].length) , this.binType);\r\n          return assert.is(this.buffer , this.binType);\r\n  \t  },\r\n  \t  dataHeader: function (ctype) {\r\n\t      assert.is(arguments,[String]);\r\n\t      return \"data:\"+ctype+\";base64,\";\r\n   \t  },\r\n   \t  toString: function () {return assert.is(this.url,String);}\r\n   });\r\n\r\n    return Content;\r\n});\r\n\r\n/*global process, global, Buffer*/\r\ndefine('NativeFS',[\"FSClass\",\"assert\",\"PathUtil\",\"extend\",\"Content\"],\r\n        function (FS,A,P,extend,Content) {\r\n    var assert=A,fs;\r\n    try {\r\n        fs=global.require(\"fs\");\r\n        fs.existsSync('test.txt');\r\n    }catch(e){\r\n        return function () {\r\n            throw new Error(\"This system not support native FS\");\r\n        };\r\n    }\r\n    var NativeFS=function (rootPoint) {\r\n        if (rootPoint) {\r\n            A.is(rootPoint, P.AbsDir);\r\n            this.rootPoint=rootPoint;\r\n        }\r\n    };\r\n    var hasDriveLetter=P.hasDriveLetter(process.cwd());\r\n    NativeFS.available=true;\r\n    var SEP=P.SEP;\r\n    //var json=JSON; // JSON changes when page changes, if this is node module, JSON is original JSON\r\n    var Pro=NativeFS.prototype=new FS();\r\n    Pro.toNativePath = function (path) {\r\n        // rootPoint: on NativePath   C:/jail/\r\n        // mountPoint: on VirtualFS   /mnt/natfs/\r\n        if (!this.rootPoint) return path;\r\n        A.is(path, P.Absolute);\r\n        A(this.inMyFS(path),path+\" is not fs of \"+this);\r\n        //console.log(\"tonat:MP\",P.rel( this.rootPoint, P.relPath(path, this.mountPoint || P.SEP)));\r\n        return P.rel( this.rootPoint, P.relPath(path, this.mountPoint || P.SEP));\r\n    };\r\n    Pro.arrayBuffer2Buffer= function (a) {\r\n        if (a instanceof ArrayBuffer) {\r\n            var b=new Buffer(new Uint8Array(a));\r\n            return b;\r\n        }\r\n        return a;\r\n    };\r\n\r\n    FS.addFSType(\"NativeFS\",function (path, options) {\r\n            return new NativeFS(options.r);\r\n    });\r\n    NativeFS.prototype.fstype=function () {\r\n        return \"Native\"+(this.rootPoint?\"(\"+this.rootPoint+\")\":\"\");\r\n    };\r\n    NativeFS.prototype.inMyFS=function (path) {\r\n        //console.log(\"inmyfs\",path);\r\n        if (this.mountPoint) {\r\n            return P.startsWith(path, this.mountPoint);\r\n        } else {\r\n//            console.log(path, hasDriveLetter , P.hasDriveLetter(path));\r\n            return !( !!hasDriveLetter ^ !!P.hasDriveLetter(path));\r\n        }\r\n    };\r\n    function E(r){return r;}\r\n    FS.delegateMethods(NativeFS.prototype, {\r\n        getReturnTypes: function(path, options) {\r\n            E(path,options);\r\n            assert.is(arguments,[String]);\r\n            return {\r\n                getContent: ArrayBuffer, opendir:[String]\r\n            };\r\n        },\r\n        getContent: function (path, options) {\r\n            options=options||{};\r\n            A.is(path,P.Absolute);\r\n            var np=this.toNativePath(path);\r\n            this.assertExist(path);\r\n            /*if (this.isText(path)) {\r\n                return Content.plainText( fs.readFileSync(np, {encoding:\"utf8\"}) );\r\n            } else {*/\r\n                return Content.bin( fs.readFileSync(np) , this.getContentType(path));\r\n            //}\r\n        },\r\n        size: function(path) {\r\n            var np=this.toNativePath(path);\r\n            var st=fs.statSync(np);\r\n            return st.size;\r\n        },\r\n        setContent: function (path,content) {\r\n            A.is(arguments,[P.Absolute,Content]);\r\n            var pa=P.up(path);\r\n            if (pa) this.getRootFS().resolveFS(pa).mkdir(pa);\r\n            var np=this.toNativePath(path);\r\n            if (content.hasBin() || !content.hasPlainText() ) {\r\n                fs.writeFileSync(np, content.toNodeBuffer() );\r\n            } else {\r\n                // !hasBin && hasText\r\n                fs.writeFileSync(np, content.toPlainText());\r\n            }\r\n        },\r\n        appendContent: function (path,content) {\r\n            A.is(arguments,[P.Absolute,Content]);\r\n            var pa=P.up(path);\r\n            if (pa) this.getRootFS().resolveFS(pa).mkdir(pa);\r\n            var np=this.toNativePath(path);\r\n            if (content.hasBin() || !content.hasPlainText() ) {\r\n                fs.appendFileSync(np, content.toNodeBuffer() );\r\n            } else {\r\n                // !hasBin && hasText\r\n                fs.appendFileSync(np, content.toPlainText());\r\n            }\r\n        },\r\n        getMetaInfo: function(path, options) {\r\n            this.assertExist(path, options);\r\n            var s=this.stat(path);\r\n            s.lastUpdate=s.mtime.getTime();\r\n            return s;\r\n        },\r\n        setMetaInfo: function(path, info, options) {\r\n            E(path, info, options);\r\n            //options.lastUpdate\r\n\r\n            //TODO:\r\n        },\r\n        isReadOnly: function (path) {\r\n            E(path);\r\n            // TODO:\r\n            return false;\r\n        },\r\n        stat: function (path) {\r\n            A.is(path,P.Absolute);\r\n            var np=this.toNativePath(path);\r\n            return fs.statSync(np);\r\n        },\r\n        mkdir: function(path, options) {\r\n            options=options||{};\r\n            assert.is(arguments,[P.Absolute]);\r\n            if (this.exists(path)){\r\n                if (this.isDir(path)) {\r\n                    return;\r\n                } else {\r\n                    throw new Error(this+\" is a file. not a dir.\");\r\n                }\r\n            }\r\n            this.assertWriteable(path);\r\n            var pa=P.up(path);\r\n            if (pa) this.getRootFS().resolveFS(pa).mkdir(pa);\r\n            var np=this.toNativePath(path);\r\n            fs.mkdirSync(np);\r\n            return this.assertExist(np);\r\n        },\r\n        opendir: function (path, options) {\r\n            assert.is(arguments,[String]);\r\n            options=options||{};\r\n            var np=this.toNativePath(path);\r\n            var ts=P.truncSEP(np);\r\n            var r=fs.readdirSync(np);\r\n            if (!options.nosep) {\r\n                r=r.map(function (e) {\r\n                    var s=fs.statSync(ts+SEP+e);\r\n                    var ss=s.isDirectory()?SEP:\"\";\r\n                    return e+ss;\r\n                });\r\n            }\r\n            var res=[]; //this.dirFromFstab(path);\r\n            return assert.is(res.concat(r),Array);\r\n        },\r\n        rm: function(path, options) {\r\n            assert.is(arguments,[P.Absolute]);\r\n            options=options||{};\r\n            this.assertExist(path);\r\n            var np=this.toNativePath(path);\r\n            if (this.isDir(path)) {\r\n                return fs.rmdirSync(np);\r\n            } else {\r\n                return fs.unlinkSync(np);\r\n            }\r\n        },\r\n        // mv: is Difficult, should check dst.fs==src.fs\r\n        //     and both have not subFileSystems\r\n        exists: function (path, options) {\r\n            options=options||{};\r\n            var np=this.toNativePath(path);\r\n            return fs.existsSync(np);\r\n        },\r\n        isDir: function (path) {\r\n            if (!this.exists(path)) {\r\n                return P.isDir(path);\r\n            }\r\n            return this.stat(path).isDirectory();\r\n        },\r\n        /*link: function(path, to, options) {\r\n        }//TODO\r\n        isLink:\r\n        */\r\n        touch: function (path) {\r\n            if (!this.exists(path) && this.isDir(path)) {\r\n                this.mkdir(path);\r\n            } else if (this.exists(path) /*&& !this.isDir(path)*/ ) {\r\n                // TODO(setlastupdate)\r\n                fs.utimesSync(path,Date.now()/1000,Date.now()/1000);\r\n            }\r\n        },\r\n        getURL:function (path) {\r\n            return \"file:///\"+path.replace(/\\\\/g,\"/\");\r\n        },\r\n        onAddObserver: function (apath,options) {\r\n            var t=this;\r\n            var rfs=t.getRootFS();\r\n            options=options||{};\r\n            var isDir=this.isDir(apath);\r\n            //console.log(\"Invoke oao\",options);\r\n            var w=fs.watch(apath, options, function (evt,rpath) {\r\n                //console.log(path);\r\n                var fpath=isDir ? P.rel(apath,rpath) : apath;\r\n                var meta;\r\n                if (t.exists(fpath)) {\r\n                    meta=extend({eventType:evt},t.getMetaInfo(fpath));\r\n                } else {\r\n                    meta={eventType:evt};\r\n                }\r\n                rfs.notifyChanged(fpath,meta);\r\n            });\r\n            return {\r\n                remove: function () {\r\n                    w.close();\r\n                }\r\n            };\r\n        }\r\n    });\r\n    return NativeFS;\r\n});\r\n\r\ndefine('LSFS',[\"FSClass\",\"PathUtil\",\"extend\",\"assert\",\"Util\",\"Content\"],\r\n        function(FS,P,extend,assert,Util,Content) {\r\n    var LSFS = function(storage,options) {\r\n        assert(storage,\" new LSFS fail: no storage\");\r\n    \tthis.storage=storage;\r\n    \tthis.options=options||{};\r\n    \tif (this.options.useDirCache) this.dirCache={};\r\n    };\r\n    var isDir = P.isDir.bind(P);\r\n    var up = P.up.bind(P);\r\n    var endsWith= P.endsWith.bind(P);\r\n    //var getName = P.name.bind(P);\r\n    //var Path=P.Path;\r\n    var Absolute=P.Absolute;\r\n    var SEP= P.SEP;\r\n    function now(){\r\n        return new Date().getTime();\r\n    }\r\n    LSFS.ramDisk=function (options) {\r\n        var s={};\r\n        s[P.SEP]=\"{}\";\r\n        options=options||{};\r\n        if (!(\"useDirCache\" in options)) options.useDirCache=true;\r\n        return new LSFS(s,options);\r\n    };\r\n    FS.addFSType(\"localStorage\",function (path, options) {\r\n        return new LSFS(localStorage,options);\r\n    });\r\n    FS.addFSType(\"ram\",function (path, options) {\r\n        return LSFS.ramDisk(options);\r\n    });\r\n\r\n    LSFS.now=now;\r\n    LSFS.prototype=new FS();\r\n    //private methods\r\n    LSFS.prototype.resolveKey=function (path) {\r\n        assert.is(path,P.Absolute);\r\n        if (this.mountPoint) {\r\n            return P.SEP+P.relPath(path,this.mountPoint);//FromMountPoint(path);\r\n        } else {\r\n            return path;\r\n        }\r\n    };\r\n    LSFS.prototype.getItem=function (path) {\r\n        assert.is(path,P.Absolute);\r\n        var key=this.resolveKey(path);\r\n        return this.storage[key];\r\n    };\r\n    LSFS.prototype.setItem=function (path, value) {\r\n        assert.is(path,P.Absolute);\r\n        var key=this.resolveKey(path);\r\n        /*if (key.indexOf(\"..\")>=0) {\r\n            console.log(path,key,value);\r\n        }*/\r\n        assert(key.indexOf(\"..\")<0);\r\n        assert(P.startsWith(key,P.SEP));\r\n        this.storage[key]=value;\r\n    };\r\n    LSFS.prototype.removeItem=function (path) {\r\n        assert.is(path,P.Absolute);\r\n        var key=this.resolveKey(path);\r\n        delete this.storage[key];\r\n    };\r\n    LSFS.prototype.itemExists=function (path) {\r\n        assert.is(path,P.Absolute);\r\n        var key=this.resolveKey(path);\r\n        assert(this.storage,\"No storage\");\r\n        return key in this.storage;\r\n    };\r\n    /*LSFS.prototype.inMyFS=function (path){\r\n        return !this.mountPoint || P.startsWith(path, this.mountPoint);\r\n    };*/\r\n    LSFS.prototype.getDirInfo=function getDirInfo(path) {\r\n        assert.is(arguments,[P.AbsDir]);\r\n        if (path == null) throw new Error(\"getDir: Null path\");\r\n        if (!endsWith(path, SEP)) path += SEP;\r\n        assert(this.inMyFS(path));\r\n        if (this.dirCache && this.dirCache[path]) return this.dirCache[path];\r\n        var dinfo =  {},dinfos;\r\n        try {\r\n            dinfos = this.getItem(path);\r\n            if (dinfos) {\r\n                dinfo = JSON.parse(dinfos);\r\n            }\r\n        } catch (e) {\r\n            console.log(\"dinfo err : \" , path , dinfos);\r\n        }\r\n        if (this.dirCache) this.dirCache[path]=dinfo;\r\n        return dinfo;\r\n    };\r\n    LSFS.prototype.putDirInfo=function putDirInfo(path, dinfo, trashed) {\r\n  \t    assert.is(arguments,[P.AbsDir, Object]);\r\n  \t    if (!isDir(path)) throw new Error(\"Not a directory : \" + path);\r\n  \t    assert(this.inMyFS(path));\r\n  \t    if (this.dirCache) this.dirCache[path] = dinfo;\r\n  \t    this.setItem(path, JSON.stringify(dinfo));\r\n        var ppath = up(path);\r\n        if (ppath == null) return;\r\n        if (!this.inMyFS(ppath)) {\r\n            //assert(this.getRootFS()!==this);\r\n            //this.getRootFS().resolveFS(ppath).touch(ppath);\r\n            return;\r\n        }\r\n        var pdinfo = this.getDirInfo(ppath);\r\n        this._touch(pdinfo, ppath, P.name(path), trashed);\r\n    };\r\n    LSFS.prototype._touch=function _touch(dinfo, path, name, trashed) {\r\n        // path:path of dinfo\r\n        // trashed: this touch is caused by trashing the file/dir.\r\n        assert.is(arguments,[Object, String, String]);\r\n        assert(this.inMyFS(path));\r\n        var eventType=\"change\";\r\n        if (!dinfo[name]) {\r\n            eventType=\"create\";\r\n            dinfo[name] = {};\r\n            if (trashed) dinfo[name].trashed = true;\r\n        }\r\n        if (!trashed) delete dinfo[name].trashed;\r\n        dinfo[name].lastUpdate = now();\r\n        var meta=extend({eventType:eventType},dinfo[name]);\r\n        this.getRootFS().notifyChanged(P.rel(path,name), meta);\r\n        this.putDirInfo(path, dinfo, trashed);\r\n    };\r\n    LSFS.prototype.removeEntry=function removeEntry(dinfo, path, name) { // path:path of dinfo\r\n        assert.is(arguments,[Object, String, String]);\r\n        if (dinfo[name]) {\r\n            dinfo[name] = {\r\n                lastUpdate: now(),\r\n                trashed: true\r\n            };\r\n            this.getRootFS().notifyChanged(P.rel(path,name), {eventType:\"trash\"});\r\n            this.putDirInfo(path, dinfo, true);\r\n        }\r\n    };\r\n    LSFS.prototype.removeEntryWithoutTrash=function (dinfo, path, name) { // path:path of dinfo\r\n        assert.is(arguments,[Object, String, String]);\r\n        if (dinfo[name]) {\r\n            delete dinfo[name];\r\n            this.getRootFS().notifyChanged(P.rel(path,name), {eventType:\"delete\"});\r\n            this.putDirInfo(path, dinfo, true);\r\n        }\r\n    };\r\n    LSFS.prototype.isRAM=function (){\r\n        return this.storage!==localStorage;\r\n    };\r\n    LSFS.prototype.fstype=function () {\r\n        return (this.isRAM() ? \"ramDisk\" : \"localStorage\" );\r\n    };\r\n    LSFS.getUsage=function () {\r\n        var using=0;\r\n        for (var i in localStorage) {\r\n            if (typeof localStorage[i]==\"string\"){\r\n                using+=localStorage[i].length;\r\n            }\r\n        }\r\n        return using;\r\n    };\r\n    LSFS.getCapacity=function () {\r\n        var seq=0;\r\n        var str=\"a\";\r\n        var KEY=\"___checkls___\";\r\n        var using=0;\r\n        var lim=Math.pow(2,25);//32MB?\r\n        try {\r\n            // make 1KB str\r\n            for (var i=0; i<10 ;i++) {\r\n                str+=str;\r\n            }\r\n            for (var i in localStorage) {\r\n                if (i.substring(0,KEY.length)==KEY) delete localStorage[i];\r\n                else if (typeof localStorage[i]==\"string\"){\r\n                    using+=localStorage[i].length;\r\n                }\r\n            }\r\n            var ru=using;\r\n            while (add()) {\r\n                if (str.length<lim) {\r\n                    str+=str;\r\n                } else break;\r\n            }\r\n            while(str.length>1024) {\r\n                str=str.substring(str.length/2);\r\n                add();\r\n            }\r\n            return {using:ru, max:using};\r\n        } finally {\r\n            for (var i=0; i<seq; i++) {\r\n                 delete localStorage[KEY+i];\r\n            }\r\n        }\r\n        function add() {\r\n            try {\r\n                localStorage[KEY+seq]=str;\r\n                seq++;\r\n                using+=str.length;\r\n                //console.log(\"Added \"+str.length, str.length, using);\r\n                return true;\r\n            } catch(e) {\r\n                delete localStorage[KEY+seq];\r\n                //console.log(\"Add Fail \"+str.length);\r\n                return false;\r\n            }\r\n        }\r\n    };\r\n\r\n    // public methods (with resolve fs)\r\n    FS.delegateMethods(LSFS.prototype, {\r\n        isReadOnly: function () {return this.options.readOnly;},\r\n        getReturnTypes: function(path, options) {\r\n            assert.is(arguments,[String]);\r\n            return {\r\n                getContent: String, opendir:[String]\r\n            };\r\n        },\r\n        getContent: function(path, options) {\r\n            assert.is(arguments,[Absolute]);\r\n            this.assertExist(path); // Do not use this??( because it does not follow symlinks)\r\n            var c;\r\n            var cs=this.getItem(path);\r\n            if (Content.looksLikeDataURL(cs)) {\r\n                c=Content.url(cs);\r\n            } else {\r\n                c=Content.plainText(cs);\r\n            }\r\n            return c;\r\n        },\r\n        setContent: function(path, content, options) {\r\n            assert.is(arguments,[Absolute,Content]);\r\n            this.assertWriteable(path);\r\n            var t=null;\r\n            if (content.hasPlainText()) {\r\n                t=content.toPlainText();\r\n                if (Content.looksLikeDataURL(t)) t=null;\r\n            }\r\n            if (t!=null) {\r\n                this.setItem(path, t);\r\n            } else {\r\n                this.setItem(path, content.toURL());\r\n            }\r\n            this.touch(path);\r\n        },\r\n        getMetaInfo: function(path, options) {\r\n            this.assertExist(path, {includeTrashed:true});\r\n            assert.is(arguments,[Absolute]);\r\n            if (path==P.SEP) {\r\n                return {};\r\n            }\r\n            var parent=assert(P.up(path));\r\n            if (!this.inMyFS(parent)) {\r\n                return {};\r\n            }\r\n            var name=P.name(path);\r\n            assert.is(parent,P.AbsDir);\r\n            var pinfo=this.getDirInfo(parent);\r\n            return assert(pinfo[name]);\r\n        },\r\n        setMetaInfo: function(path, info, options) {\r\n            assert.is(arguments,[String,Object]);\r\n            this.assertWriteable(path);\r\n            var parent=assert(P.up(path));\r\n            if (!this.inMyFS(parent)) {\r\n                return;\r\n            }\r\n            var pinfo=this.getDirInfo(parent);\r\n            var name=P.name(path);\r\n            pinfo[name]=info;\r\n            this.putDirInfo(parent, pinfo, pinfo[name].trashed);\r\n        },\r\n        mkdir: function(path, options) {\r\n            assert.is(arguments,[Absolute]);\r\n            this.assertWriteable(path);\r\n\t\t\tthis.touch(path);\r\n        },\r\n        opendir: function(path, options) {\r\n            assert.is(arguments,[String]);\r\n            //succ: iterator<string> // next()\r\n            // options: {includeTrashed:Boolean}\r\n            options=options||{};\r\n            var inf=this.getDirInfo(path);\r\n            var res=[]; //this.dirFromFstab(path);\r\n            for (var i in inf) {\r\n                assert(inf[i]);\r\n                if (!inf[i].trashed || options.includeTrashed) res.push(i);\r\n            }\r\n            return assert.is(res,Array);\r\n        },\r\n        rm: function(path, options) {\r\n            assert.is(arguments,[Absolute]);\r\n            options=options||{};\r\n            this.assertWriteable(path);\r\n            var parent=P.up(path);\r\n            if (parent==null || !this.inMyFS(parent)) {\r\n                throw new Error(path+\": cannot remove. It is root of this FS.\");\r\n            }\r\n            this.assertExist(path,{includeTrashed:options.noTrash });\r\n            if (P.isDir(path)) {\r\n                var lis=this.opendir(path);\r\n                if (lis.length>0) {\r\n                    this.err(path,\"Directory not empty\");\r\n                }\r\n                if (options.noTrash) {\r\n                    this.removeItem(path);\r\n                }\r\n            } else {\r\n                this.removeItem(path);\r\n            }\r\n            var pinfo=this.getDirInfo(parent);\r\n            if (options.noTrash) {\r\n                this.removeEntryWithoutTrash(pinfo, parent, P.name(path) );\r\n            } else {\r\n                this.removeEntry(pinfo, parent, P.name(path) );\r\n            }\r\n        },\r\n        exists: function (path,options) {\r\n            assert.is(arguments,[Absolute]);\r\n            options=options||{};\r\n            var name=P.name(path);\r\n            var parent=P.up(path);\r\n            if (parent==null || !this.inMyFS(parent)) return true;\r\n            var pinfo=this.getDirInfo(parent);\r\n            var res=pinfo[name];\r\n            if (res && res.trashed && this.itemExists(path)) {\r\n                if (this.isDir(path)) {\r\n\r\n                } else {\r\n                    //assert.fail(\"Inconsistent \"+path+\": trashed, but remains in storage\");\r\n                }\r\n            }\r\n            if (!res && this.itemExists(path)) {\r\n                //assert.fail(\"Inconsistent \"+path+\": not exists in metadata, but remains in storage\");\r\n            }\r\n            if (res && !res.trashed && !res.link && !this.itemExists(path)) {\r\n                //assert.fail(\"Inconsistent \"+path+\": exists in metadata, but not in storage\");\r\n            }\r\n            if (res && !options.includeTrashed) {\r\n                res=!res.trashed;\r\n            }\r\n            return !!res;\r\n        },\r\n        link: function(path, to, options) {\r\n            assert.is(arguments,[P.Absolute,P.Absolute]);\r\n            this.assertWriteable(path);\r\n            if (this.exists(path)) this.err(path,\"file exists\");\r\n            if (P.isDir(path) && !P.isDir(to)) {\r\n                this.err(path,\" can not link to file \"+to);\r\n            }\r\n            if (!P.isDir(path) && P.isDir(to)) {\r\n                this.err(path,\" can not link to directory \"+to);\r\n            }\r\n            var m={};//assert(this.getMetaInfo(path));\r\n            m.link=to;\r\n            m.lastUpdate=now();\r\n            this.setMetaInfo(path, m);\r\n            //console.log(this.getMetaInfo(path));\r\n            //console.log(this.storage);\r\n            //console.log(this.getMetaInfo(P.up(path)));\r\n            assert(this.exists(path));\r\n            assert(this.isLink(path));\r\n        },\r\n        isLink: function (path) {\r\n            assert.is(arguments,[P.Absolute]);\r\n            if (!this.exists(path)) return null;\r\n            var m=assert(this.getMetaInfo(path));\r\n            return m.link;\r\n        },\r\n        touch: function (path) {\r\n            assert.is(arguments,[Absolute]);\r\n            this.assertWriteable(path);\r\n            if (!this.itemExists(path)) {\r\n                if (P.isDir(path)) {\r\n                    if (this.dirCache) this.dirCache[path]={};\r\n                    this.setItem(path,\"{}\");\r\n                } else {\r\n                    this.setItem(path,\"\");\r\n                }\r\n            }\r\n            var parent=up(path);\r\n            if (parent!=null) {\r\n                if (this.inMyFS(parent)) {\r\n                    var pinfo=this.getDirInfo(parent);\r\n                    this._touch(pinfo, parent , P.name(path), false);\r\n                } else {\r\n                    assert(this.getRootFS()!==this);\r\n                    this.getRootFS().resolveFS(parent).touch(parent);\r\n                }\r\n            }\r\n        },\r\n        getURL: function (path) {\r\n            return this.getContent(path).toURL();\r\n        },\r\n        opendirEx: function (path,options) {\r\n            assert.is(path,P.AbsDir);\r\n            options=options||{};\r\n            var res={};\r\n            var d=this.getDirInfo(path);\r\n            if (options.includeTrashed) {\r\n                //console.log(\"INCLTR\",d);\r\n                return d;\r\n            }\r\n            for (var k in d) {\r\n                if (d[k].trashed) continue;\r\n                res[k]=d[k];\r\n            }\r\n            return res;\r\n        }\r\n    });\r\n    return LSFS;\r\n\r\n});\r\n\r\n/**\r\n *\r\n * jquery.binarytransport.js\r\n *\r\n * @description. jQuery ajax transport for making binary data type requests.\r\n * @version 1.0\r\n * @author Henry Algus <henryalgus@gmail.com>\r\n *\r\n */\r\n\r\n// use this transport for \"binary\" data type\r\nif (typeof $!==\"undefined\")\r\n$.ajaxTransport(\"+binary\", function(options, originalOptions, jqXHR){\r\n    // check for conditions and support for blob / arraybuffer response type\r\n    if (window.FormData && ((options.dataType && (options.dataType == 'binary')) || (options.data && ((window.ArrayBuffer && options.data instanceof ArrayBuffer) || (window.Blob && options.data instanceof Blob)))))\r\n    {\r\n        return {\r\n            // create new XMLHttpRequest\r\n            send: function(headers, callback){\r\n                // setup all variables\r\n                var xhr = new XMLHttpRequest(),\r\n                url = options.url,\r\n                type = options.type,\r\n                async = options.async || true,\r\n                // blob or arraybuffer. Default is blob\r\n                dataType = options.responseType || \"blob\",\r\n                data = options.data || null,\r\n                username = options.username || null,\r\n                password = options.password || null;\r\n\r\n                xhr.addEventListener('load', function(){\r\n                    var data = {};\r\n                    data[options.dataType] = xhr.response;\r\n                    // make callback and send data\r\n                    callback(xhr.status, xhr.statusText, data, xhr.getAllResponseHeaders());\r\n                });\r\n\r\n                xhr.open(type, url, async, username, password);\r\n\r\n                // setup custom headers\r\n                for (var i in headers ) {\r\n                    xhr.setRequestHeader(i, headers[i] );\r\n                }\r\n\r\n                xhr.responseType = dataType;\r\n                xhr.send(data);\r\n            },\r\n            abort: function(){\r\n                jqXHR.abort();\r\n            }\r\n        };\r\n    }\r\n});\r\n\r\ndefine(\"jquery.binarytransport\", function(){});\r\n\r\ndefine('WebFS',[\"FSClass\",\"jquery.binarytransport\",\"DeferredUtil\",\"Content\",\"PathUtil\"],\r\n        function (FS,j,DU,Content,P) {\r\n    // FS.mount(location.protocol+\"//\"+location.host+\"/\", \"web\");\r\n    var WebFS=function (){};\r\n    var p=WebFS.prototype=new FS;\r\n    FS.addFSType(\"web\", function () {\r\n        return new WebFS;\r\n    });\r\n    p.fstype=function () {return \"Web\";};\r\n    p.supportsSync=function () {return false;};\r\n    p.inMyFS=function (path) {\r\n        return P.isURL(path);\r\n    };\r\n    FS.delegateMethods(p, {\r\n        exists: function () {return true;},\r\n        getContentAsync: function (path){\r\n            var t=this;\r\n            return DU.promise(function (succ,err) {\r\n                $.get(path,function (blob) {\r\n                    var reader = new FileReader();\r\n                    reader.addEventListener(\"loadend\", function() {\r\n                        succ(Content.bin(reader.result, t.getContentType(path)));\r\n                    });\r\n                    reader.readAsArrayBuffer(blob);\r\n                },\"binary\").fail(err);\r\n            });\r\n        },\r\n        /*setContentAsync: function (path){\r\n\r\n        },*/\r\n        getURL: function (path) {\r\n            return path;\r\n        }\r\n    });\r\n\r\n    return WebFS;\r\n\r\n});\r\ndefine('Env',[\"assert\",\"PathUtil\"],function (A,P) {\r\n    var Env=function (value) {\r\n        this.value=value;\r\n    };\r\n    Env.prototype={\r\n            expand:function (str) {\r\n                A.is(str,String);\r\n                var t=this;\r\n                return str.replace(/\\$\\{([a-zA-Z0-9_]+)\\}/g, function (a,key) {\r\n                    return t.get(key);\r\n                });\r\n            },\r\n            expandPath:function (path) {\r\n                A.is(path,String);\r\n                path=this.expand(path);\r\n                path=path.replace(/\\/+/g,\"/\");\r\n                path=path.replace(/^[a-z][a-z]+:\\//, function (r) { return r+\"/\"; } );\r\n                return A.is(path,P.Path);\r\n            },\r\n            get: function (key) {\r\n                return this.value[key];\r\n            },\r\n            set: function (key, value) {\r\n                this.value[key]=value;\r\n            }\r\n    };\r\n    return Env;\r\n});\r\ndefine('SFile',[\"extend\",\"assert\",\"PathUtil\",\"Util\",\"Content\",\"FSClass\",\"FileSaver\",\"DeferredUtil\"],\r\nfunction (extend,A,P,Util,Content,FSClass,saveAs,DU) {\r\n\r\nvar SFile=function (rootFS, path) {\r\n    A.is(path, P.Absolute);\r\n    //A(fs && fs.getReturnTypes, fs);\r\n    this._path=path;\r\n    this.rootFS=rootFS;\r\n    this.fs=rootFS.resolveFS(path);\r\n    /*this.act={};// path/fs after follwed symlink\r\n    this.act.path=this.fs.resolveLink(path);\r\n    this.act.fs=rootFS.resolveFS(this.act.path);\r\n    A.is(this.act, {fs:FSClass, path:P.Absolute});*/\r\n    if (this.isDir() && !P.isDir(path)) {\r\n        this._path+=P.SEP;\r\n    }\r\n};\r\nSFile.is=function (path) {\r\n    return path && typeof (path.isSFile)==\"function\" && path.isSFile();\r\n};\r\nfunction getPath(f) {\r\n    if (SFile.is(f)) {\r\n        return f.path();\r\n    } else {\r\n        A.is(f,P.Absolute);\r\n        return f;\r\n    }\r\n}\r\nSFile.prototype={\r\n    isSFile: function (){return true;},\r\n    setPolicy: function (p) {\r\n        if (this.policy) throw new Error(\"policy already set\");\r\n        this.policy=p;\r\n        return this._clone();\r\n    },\r\n    getPolicy: function (p) {\r\n        return this.policy;\r\n    },\r\n    _clone: function (){\r\n        return this._resolve(this.path());\r\n    },\r\n    _resolve: function (path, options) {\r\n        var res;\r\n        options=options||{};\r\n        if (SFile.is(path)) {\r\n            res=path;\r\n        } else {\r\n            A.is(path,P.Absolute);\r\n            var topdir;\r\n            var policy=options.policy || this.policy;\r\n            if (policy && (topdir=policy.topDir)) {\r\n                if (topdir.path) topdir=topdir.path();\r\n                if (!P.startsWith(path, topdir)) {\r\n                    throw new Error(path+\": cannot access. Restricted to \"+topdir);\r\n                }\r\n            }\r\n            res=new SFile(this.rootFS, path);\r\n            res.policy=policy;\r\n        }\r\n        if (res.policy) {\r\n            return Util.privatize(res);\r\n        } else {\r\n            return res;\r\n        }\r\n    },\r\n    contains: function (file) {\r\n        A(SFile.is(file),file+\" shoud be a SFile object.\");\r\n        if (!this.isDir()) return false;\r\n        return P.startsWith( file.path(), this.path());\r\n    },\r\n    path: function () {\r\n        return this._path;\r\n    },\r\n    name: function () {\r\n        return P.name(this.path());\r\n    },\r\n    truncExt: function (ext) {\r\n        return P.truncExt(this.path(),ext);\r\n    },\r\n    ext: function () {\r\n        return P.ext(this.path());\r\n    },\r\n    relPath: function (base) {\r\n        // base should be SFile or Path from rootFS\r\n        var bp=(base.path ?\r\n                base.path() :\r\n                base );\r\n        return P.relPath(this.path(), A.is(bp,P.Absolute) );\r\n    },\r\n    up: function () {\r\n        var pathR=this.path();\r\n        var pa=P.up(pathR);\r\n        if (pa==null) return null;\r\n        return this._resolve(pa);\r\n    },\r\n    rel: function (relPath) {\r\n        A.is(relPath, P.Relative);\r\n        this.assertDir();\r\n        var pathR=this.path();\r\n        return this._resolve(P.rel(pathR, relPath));\r\n    },\r\n    sibling: function (n) {\r\n        return this.up().rel(n);\r\n    },\r\n    startsWith: function (pre) {\r\n        return P.startsWith(this.name(),pre);\r\n    },\r\n    endsWith: function (post) {\r\n        return P.endsWith(this.name(),post);\r\n    },\r\n    equals:function (o) {\r\n        return (o && typeof o.path==\"function\" && o.path()==this.path());\r\n    },\r\n    toString:function (){\r\n        return this.path();\r\n    },\r\n    //Common\r\n    touch: function () {\r\n        return this.act.fs.touch(this.act.path);\r\n    },\r\n    isReadOnly: function () {\r\n        return this.act.fs.isReadOnly(this.act.path);\r\n    },\r\n    isTrashed:function () {\r\n        var m=this.metaInfo();\r\n        if (!m) return false;\r\n        return m.trashed;\r\n    },\r\n    metaInfo: function () {\r\n        if (arguments.length==0) {\r\n            return this.getMetaInfo.apply(this,arguments);\r\n        } else {\r\n            return this.setMetaInfo.apply(this,arguments);\r\n        }\r\n    },\r\n    getMetaInfo: function (options) {\r\n        return this.act.fs.getMetaInfo(this.act.path,options);\r\n    },\r\n    setMetaInfo: function (info, options) {\r\n        return this.act.fs.setMetaInfo(this.act.path,info, options);\r\n    },\r\n    getDirTree: function (options) {\r\n        return this.act.fs.getDirTree(this.act.path, options);\r\n    },\r\n    assertExists: function () {\r\n        A(this.exists(),this.path()+\" does not exist.\");\r\n    },\r\n    lastUpdate:function () {\r\n        this.assertExists();\r\n        return this.metaInfo().lastUpdate;\r\n    },\r\n    exists: function (options) {\r\n        var args=Array.prototype.slice.call(arguments);\r\n        if (typeof args[0]===\"function\") {\r\n            var f=args.shift();\r\n            return DU.resolve(this.exists.apply(this,args)).then(f);\r\n        }\r\n        options=options||{};\r\n        var p=this.fs.exists(this.path(),options);\r\n        if (p || options.noFollowLink) {\r\n            return p;\r\n        } else {\r\n            return this.act.fs.exists(this.act.path,{noFollowLink:true});\r\n        }\r\n    },\r\n    rm: function (options) {\r\n        //   ln /test/c /a/b/\r\n        //   rm a/b/c/\r\n        //   rm a/b/c/d\r\n        var t=this;\r\n        options=options||{};\r\n        if (this.isLink()) {\r\n            return DU.resolve(this.fs.rm(this.path(),options));\r\n        }\r\n        /*if (!this.exists({noFollowLink:true})) {\r\n            return this.act.fs.rm(this.act.path, options);\r\n        }*/\r\n        var a;\r\n        if (this.isDir() && (options.recursive||options.r)) {\r\n            a=this.each(function (f) {\r\n                return f.rm(options);\r\n            });\r\n        } else {\r\n            a=DU.resolve();\r\n        }\r\n        return a.then(function () {\r\n            return t.act.fs.rm(t.act.path, options);\r\n        });\r\n        //var pathT=this.path();\r\n        //this.fs.rm(pathT, options);\r\n    },\r\n    removeWithoutTrash: function (options) {\r\n        options=options||{};\r\n        options.noTrash=true;\r\n        this.rm(options);\r\n    },\r\n    isDir: function () {\r\n        return this.act.fs.isDir(this.act.path);\r\n    },\r\n    // File\r\n    text:function (f) {\r\n    \tif (typeof f===\"function\") {\r\n\t\t\treturn this.getText(f);\r\n\t\t}\r\n        if (arguments.length>0) {\r\n            return this.setText(arguments[0]);\r\n        } else {\r\n            return this.getText();\r\n        }\r\n    },\r\n    setText:function (t) {\r\n        A.is(t,String);\r\n        if (this.isDir()) {\r\n            throw new Error(\"Cannot write to directory: \"+this.path());\r\n        }\r\n        var ct=this.contentType({def:null});\r\n        //if (this.isText()) {\r\n        if (ct!==null && !ct.match(/^text/) && Content.looksLikeDataURL(t)) {\r\n            // bad knowhow: if this is a binary file apparently, convert to URL\r\n            return DU.throwNowIfRejected(this.setContent(Content.url(t)));\r\n            return DU.resolve(this.act.fs.setContent(this.act.path, Content.url(t)));\r\n        } else {\r\n            // if use fs.setContentAsync, the error should be handled by .fail\r\n            // setText should throw error immediately (Why? maybe old style of text(\"foo\") did it so...)\r\n            return DU.throwNowIfRejected(this.setContent(Content.plainText(t)));\r\n            return DU.resolve(this.act.fs.setContent(this.act.path, Content.plainText(t)));\r\n        }\r\n    },\r\n    appendText:function (t) {\r\n        A.is(t,String);\r\n        //if (this.isText()) {\r\n        return this.act.fs.appendContent(this.act.path, Content.plainText(t));\r\n        /*} else {\r\n            throw new Error(\"append only for text file\");\r\n        }*/\r\n    },\r\n    getContent: function (f) {\r\n        if (typeof f==\"function\") {\r\n            return this.act.fs.getContentAsync(this.act.path).then(f);\r\n        }\r\n        return this.act.fs.getContent(this.act.path);\r\n    },\r\n    setContent: function (c) {\r\n        if (this.isDir()) {\r\n            throw new Error(\"Cannot write to directory: \"+this.path());\r\n        }\r\n        // why setContentAsync? AsyncでもDU.resolveはsyncをサポートしていればsyncでやってくれる...はず，Promiseだと遅延するからだめ．今までJQばっかりだったから問題が起きていなかった．\r\n        // なので，fs2/promise.jsを追加．\r\n        return this.act.fs.setContentAsync(this.act.path,c);\r\n    },\r\n\r\n    getText:function (f) {\r\n    \tif (typeof f===\"function\") {\r\n    \t\tvar t=this;\r\n    \t    return this.getContent(forceText).then(f);\r\n    \t}\r\n        return forceText(this.act.fs.getContent(this.act.path));\r\n        /*if (this.isText()) {\r\n            return this.act.fs.getContent(this.act.path).toPlainText();\r\n        } else {\r\n            return this.act.fs.getContent(this.act.path).toURL();\r\n        }*/\r\n        function forceText(c) {\r\n\t    \t//if (t.isText()) {\r\n            try {\r\n                return c.toPlainText();\r\n            } catch(e) {\r\n    \t    \treturn c.toURL();\r\n    \t    }\r\n        }\r\n    },\r\n    getDataURL: function (f) {\r\n        if (typeof f===\"function\") {\r\n            return this.getContent(function (c) {\r\n                return c.toURL();\r\n            });\r\n        }\r\n        return this.getContent().toURL();\r\n    },\r\n    setDataURL: function (u) {\r\n        return this.setContent(Content.url(u));\r\n    },\r\n    dataURL:function (d) {\r\n        if (typeof d===\"string\") return this.setDataURL(d);\r\n        if (typeof d===\"function\") return this.getDataURL(d);\r\n        return this.getDataURL();\r\n    },\r\n    isText: function () {\r\n        return this.act.fs.isText(this.act.path);\r\n    },\r\n    contentType: function (options) {\r\n        return this.act.fs.getContentType(this.act.path,options);\r\n    },\r\n    bytes: function (b) {\r\n        if (Content.isBuffer(b)) return this.setBytes(b);\r\n        return this.getBytes();\r\n    },\r\n    setBytes:function (b) {\r\n        return this.act.fs.setContent(this.act.path, Content.bin(b,this.contentType()));\r\n    },\r\n    getBytes:function (options) {\r\n        options=options||{};\r\n        return this.act.fs.getContent(this.act.path).toBin(options.binType);\r\n    },\r\n    getURL: function () {\r\n        return this.act.fs.getURL(this.act.path);\r\n    },\r\n    lines:function (lines) {\r\n        if (lines instanceof Array) {//WRITE\r\n            return this.text(lines.join(\"\\n\"));\r\n        } else if (typeof lines===\"function\") {//READ async\r\n            return this.text(function (r) {\r\n                return lines(r.replace(/\\r/g,\"\").split(\"\\n\"));\r\n            });\r\n        }\r\n        return this.text().replace(/\\r/g,\"\").split(\"\\n\");\r\n    },\r\n    obj: function () {\r\n        var file=this;\r\n        if (arguments.length==0) {\r\n            var t=file.text();\r\n            if (!t) return null;\r\n            return JSON.parse(t);\r\n        } else {\r\n            file.text(JSON.stringify(A.is(arguments[0],Object) ));\r\n        }\r\n    },\r\n    copyFrom: function (src, options) {\r\n        return src.copyTo(this,options);\r\n    },\r\n    copyTo: function (dst, options) {\r\n        A(dst && dst.isSFile(),dst+\" is not a file\");\r\n        var src=this;\r\n        var options=options||{};\r\n        var srcIsDir=src.isDir();\r\n        var dstIsDir=dst.isDir();\r\n        if (!srcIsDir && dstIsDir) {\r\n            dst=dst.rel(src.name());\r\n            A(!dst.isDir(), dst+\" is a directory.\");\r\n            dstIsDir=false;\r\n        }\r\n        if (srcIsDir && !dstIsDir) {\r\n           this.err(\"Cannot move dir \"+src.path()+\" to file \"+dst.path());\r\n        } else if (!srcIsDir && !dstIsDir) {\r\n            if (options.echo) options.echo(src+\" -> \"+dst);\r\n            var res=this.act.fs.cp(this.act.path, dst.getResolvedLinkPath(),options);\r\n            res=DU.resolve(res);\r\n            if (options.a) {\r\n                return res.then(function () {\r\n                    return dst.setMetaInfo(src.getMetaInfo());\r\n                });\r\n            }\r\n            return res;\r\n        } else {\r\n            A(srcIsDir && dstIsDir,\"Both src and dst should be dir\");\r\n            return src.each(function (s) {\r\n                var r;\r\n                var dstf=dst.rel(s.name());\r\n                if (options.progress) {\r\n                    r=options.progress(dstf,{src:s,dst:dstf});\r\n                }\r\n                return DU.resolve(r).then(function () {\r\n                    return dstf.copyFrom(s, options);\r\n                });\r\n            });\r\n        }\r\n        //file.text(src.text());\r\n        //if (options.a) file.metaInfo(src.metaInfo());\r\n    },\r\n    moveFrom: function (src, options) {\r\n        var t=this;\r\n        return t.exists(function (ex) {\r\n            return t.copyFrom(src,options).then(function () {\r\n                return src.rm({recursive:true});\r\n            },function (e) {\r\n                // rollback\r\n                if (!ex) return t.exists(function (ex) {\r\n                    if (ex) return t.rm({recursive:true});\r\n                }).then(function () {throw e;});\r\n                throw e;\r\n            });\r\n        });\r\n    },\r\n    moveTo: function (dst, options) {\r\n        return dst.moveFrom(this,options);\r\n    },\r\n    // Dir\r\n    assertDir:function () {\r\n        A.is(this.path(),P.Dir);\r\n        return this;\r\n    },\r\n    /*files:function (f,options) {\r\n        var dir=this.assertDir();\r\n        var res=[];\r\n        this.each(function (f) {\r\n            res.add(f);\r\n        },options);\r\n        return res;\r\n    },*/\r\n    each:function (f,options) {\r\n        var dir=this.assertDir();\r\n        return dir.listFilesAsync(options).then(function (ls) {\r\n            return DU.each(ls,f);// ls.forEach(f)\r\n        });\r\n    },\r\n    eachrev:function (f,options) {\r\n        var dir=this.assertDir();\r\n        return dir.listFilesAsync(options).then(function (ls) {\r\n            return DU.each(ls.reverse(),f);// ls.forEach(f)\r\n        });\r\n    },\r\n    recursive:function (fun,options) {\r\n        var dir=this.assertDir();\r\n        options=dir.convertOptions(options);\r\n        return dir.each(function (f) {\r\n            if (f.isDir()) return f.recursive(fun,options);\r\n            else return fun(f);\r\n        },options);\r\n    },\r\n    _listFiles:function (options,async) {\r\n        A(options==null || typeof options==\"object\");\r\n        var dir=this.assertDir();\r\n        var path=this.path();\r\n        var ord;\r\n        options=dir.convertOptions(options);\r\n        if (!ord) ord=options.order;\r\n        if (async) {\r\n            return this.act.fs.opendirAsync(this.act.path, options).\r\n            then(cvt);\r\n        } else {\r\n            return cvt( this.act.fs.opendir(this.act.path, options));\r\n        }\r\n        function cvt(di) {\r\n            var res=[];\r\n            for (var i=0;i<di.length; i++) {\r\n                var name=di[i];\r\n                //if (!options.includeTrashed && dinfo[i].trashed) continue;\r\n                var f=dir.rel(name);\r\n                if (options.excludesF(f) ) continue;\r\n                res.push(f);\r\n            }\r\n            if (typeof ord==\"function\" && res.sort) res.sort(ord);\r\n            return res;\r\n        }\r\n    },\r\n    listFilesAsync:function (options) {\r\n        return this._listFiles(options,true);\r\n        /*\r\n        A(options==null || typeof options==\"object\");\r\n        var dir=this.assertDir();\r\n        var path=this.path();\r\n        var ord;\r\n        options=dir.convertOptions(options);\r\n        if (!ord) ord=options.order;\r\n        return this.act.fs.opendirAsync(this.act.path, options).\r\n        then(function (di) {\r\n            var res=[];\r\n            for (var i=0;i<di.length; i++) {\r\n                var name=di[i];\r\n                //if (!options.includeTrashed && dinfo[i].trashed) continue;\r\n                var f=dir.rel(name);\r\n                if (options.excludesF(f) ) continue;\r\n                res.push(f);\r\n            }\r\n            if (typeof ord==\"function\" && res.sort) res.sort(ord);\r\n            return res;\r\n        });*/\r\n    },\r\n    listFiles:function (options) {\r\n        return this._listFiles(options,false);\r\n        /*var args=Array.prototype.slice.call(arguments);\r\n        return DU.assertResolved(this.listFilesAsync.apply(this,args));*/\r\n    },\r\n    ls:function (options) {\r\n        A(options==null || typeof options==\"object\");\r\n        var dir=this.assertDir();\r\n        if (!options) {\r\n            return this.act.fs.opendir(this.act.path, options);\r\n        }\r\n        var res=dir.listFiles(options);\r\n        return res.map(function (f) {\r\n            return f.name();\r\n        });\r\n    },\r\n    convertOptions:function(o) {\r\n        var options=Util.extend({},o);\r\n        var dir=this.assertDir();\r\n        var pathR=this.path();\r\n        var excludes=options.excludes || {};\r\n        if (typeof excludes===\"function\") {\r\n            options.excludesF=excludes;\r\n        } else if (typeof excludes===\"object\") {\r\n            if (excludes instanceof Array) {\r\n                var nex={};\r\n                excludes.forEach(function (e) {\r\n                    if (P.startsWith(e,\"/\")) {\r\n                        nex[e]=1;\r\n                    } else {\r\n                        nex[pathR+e]=1;\r\n                    }\r\n                });\r\n                excludes=nex;\r\n            }\r\n            options.excludesF=function (f) {\r\n                return excludes[f.path()];\r\n            };\r\n        }\r\n        return A.is(options,{excludesF:Function});\r\n    },\r\n    mkdir: function () {\r\n        return this.touch();\r\n    },\r\n    link: function (to,options) {// % ln to path\r\n        if (this.exists()) throw new Error(this.path()+\": exists.\");\r\n        return this.act.fs.link(this.act.path,to.path(),options);\r\n    },\r\n    resolveLink:function () {\r\n        return this._resolve(this.act.path);\r\n    },\r\n    isLink: function () {\r\n        return this.fs.isLink(this.path());\r\n    },\r\n    getResolvedLinkPath: function () {\r\n        return this.act.path;\r\n    },\r\n    getFS:function () {\r\n        return this.act.fs;\r\n    },\r\n    observe: function (h) {\r\n        return this.getFS().getRootFS().addObserver(this.path(),h);\r\n    },\r\n    getBlob: function () {\r\n        return new Blob([this.bytes()],{type:this.contentType()});\r\n    },\r\n    setBlob: function (blob) {\r\n        var t=this;\r\n        return DU.promise(function (succ,err) {\r\n            var reader = new FileReader();\r\n            reader.addEventListener(\"loadend\", function() {\r\n                // reader.result contains the contents of blob as a typed array\r\n                DU.resolve(t.setBytes(reader.result)).then(succ);\r\n            });\r\n            reader.readAsArrayBuffer(blob);\r\n        });\r\n    },\r\n    size: function (f) {\r\n        if (!f) {\r\n            if (!this.isDir()) {\r\n                return this.act.fs.size(this.act.path);\r\n                //return this.getBytes().byteLength;\r\n            } else {\r\n                var sum=0;\r\n                this.each(function (f) {\r\n                    sum+=f.size();\r\n                });\r\n                return sum;\r\n            }\r\n        } else {\r\n            //TODO: async\r\n        }\r\n    },\r\n    download: function () {\r\n        if (this.isDir()) throw new Error(this+\": Download dir is not support yet. Use 'zip' instead.\");\r\n        saveAs(this.getBlob(),this.name());;\r\n    },\r\n    err: function () {\r\n        var a=Array.prototype.slice.call(arguments);\r\n        console.log.apply(console,a);\r\n        throw new Error(a.join(\"\"));\r\n    },\r\n    exportAsObject: function (options) {\r\n        var base=this;\r\n        var data={};\r\n        this.recursive(function (f) {\r\n            data[f.relPath(base)]=f.text();\r\n        },options);\r\n        var req={base:base.path(),data:data};\r\n        return req;\r\n    },\r\n    importFromObject: function (data, options) {\r\n        if (typeof data===\"string\") data=JSON.parse(data);\r\n        var data=data.data;\r\n        for (var k in data) {\r\n            this.rel(k).text(data[k]);\r\n        }\r\n    },\r\n    watch: function (_1,_2) {\r\n        var options={},handler=function(){};\r\n        if (typeof _1===\"object\") options=_1;\r\n        if (typeof _2===\"object\") options=_2;\r\n        if (typeof _1===\"function\") handler=_1;\r\n        if (typeof _2===\"function\") handler=_2;\r\n        var rfs=this.getFS().getRootFS();\r\n        //var t=this;\r\n        rfs.addObserver(this.path(),function (path, meta) {\r\n            handler(meta.eventType, rfs.get(path),meta );\r\n        });\r\n    }\r\n};\r\nObject.defineProperty(SFile.prototype,\"act\",{\r\n    get: function () {\r\n        if (this._act) return this._act;\r\n        this._act={};// path/fs after follwed symlink\r\n        this._act.path=this.fs.resolveLink(this._path);\r\n        this._act.fs=this.rootFS.resolveFS(this._act.path);\r\n        A.is(this._act, {fs:FSClass, path:P.Absolute});\r\n        return this._act;\r\n    }\r\n});\r\n\r\nreturn SFile;\r\n});\r\n\r\ndefine('RootFS',[\"assert\",\"FSClass\",\"PathUtil\",\"SFile\"], function (assert,FS,P,SFile) {\r\n    var RootFS=function (defaultFS){\r\n        assert.is(defaultFS,FS);\r\n        this.mount(null, defaultFS);\r\n    };\r\n    var dst=RootFS.prototype;\r\n    var p={\r\n            err: function (path, mesg) {\r\n                throw new Error(path+\": \"+mesg);\r\n            },\r\n            // mounting\r\n            fstab: function () {\r\n                return this._fstab=this._fstab||[];//[{fs:this, path:P.SEP}];\r\n            },\r\n            unmount: function (path, options) {\r\n                assert.is(arguments,[P.AbsDir] );\r\n                var t=this.fstab();\r\n                console.log(t);\r\n                for (var i=0; i<t.length; i++) {\r\n                    if (t[i].mountPoint==path) {\r\n                        t.splice(i,1);\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            },\r\n            availFSTypes:function (){\r\n                return FS.availFSTypes();\r\n            },\r\n            mount: function (path, fs, options) {\r\n                if (typeof fs==\"string\") {\r\n                    var fact=assert( FS.availFSTypes()[fs] ,\"fstype \"+fs+\" is undefined.\");\r\n                    fs=fact(path, options||{});\r\n                }\r\n                assert.is(fs,FS);\r\n                fs.mounted(this, path);\r\n                this.fstab().unshift(fs);\r\n            },\r\n            resolveFS:function (path, options) {\r\n                assert.is(path,P.Absolute);\r\n                var res;\r\n                this.fstab().forEach(function (fs) {\r\n                    if (res) return;\r\n                    if (fs.inMyFS(path)) {\r\n                        res=fs;\r\n                    }\r\n                });\r\n                if (!res) this.err(path,\"Cannot resolve\");\r\n                return assert.is(res,FS);\r\n            },\r\n            get: function (path) {\r\n                assert.is(path,P.Absolute);\r\n                return new SFile(this.resolveFS(path), path);\r\n            },\r\n            addObserver: function (_1,_2,_3) {\r\n                this.observers=this.observers||[];\r\n                var options={},path,f;\r\n                if (typeof _1===\"string\") path=_1;\r\n                if (typeof _2===\"string\") path=_2;\r\n                if (typeof _3===\"string\") path=_3;\r\n                if (typeof _1===\"object\") options=_1;\r\n                if (typeof _2===\"object\") options=_2;\r\n                if (typeof _3===\"object\") options=_3;\r\n                if (typeof _1===\"function\") f=_1;\r\n                if (typeof _2===\"function\") f=_2;\r\n                if (typeof _3===\"function\") f=_3;\r\n                assert.is(path,String);\r\n                assert.is(f,Function);\r\n                var fs=this.resolveFS(path);\r\n                var remover=fs.onAddObserver(path,options);\r\n                var observers=this.observers;\r\n                var observer={\r\n                    path:path,\r\n                    handler:f,\r\n                    remove: function () {\r\n                        var i=observers.indexOf(this);\r\n                        observers.splice(i,1);\r\n                        if (remover) remover.remove();\r\n                    }\r\n                };\r\n                this.observers.push(observer);\r\n                return observer;\r\n            },\r\n            notifyChanged: function (path,metaInfo) {\r\n                if (!this.observers) return;\r\n                this.observers.forEach(function (ob) {\r\n                    if (P.isChildOf(path,ob.path)) {\r\n                        ob.handler(path,metaInfo);\r\n                    }\r\n                });\r\n            },\r\n            getRootFS:function () {\r\n                return this;\r\n            }\r\n    };\r\n    for (var i in p) {\r\n        dst[i]=p[i];\r\n    }\r\n    return RootFS;\r\n});\r\n\r\ndefine('zip',[\"SFile\",/*\"jszip\",*/\"FileSaver\",\"Util\",\"DeferredUtil\"],\r\nfunction (SFile,/*JSZip,*/fsv,Util,DU) {\r\n    var zip={};\r\n    zip.setJSZip=function (JSZip) {\r\n        zip.JSZip=JSZip;\r\n        if (!DU.external.Promise) {\r\n            DU.external.Promise=JSZip.external.Promise;\r\n        }\r\n    };\r\n    if (typeof JSZip!==\"undefined\") zip.setJSZip(JSZip);\r\n    zip.zip=function (dir,dstZip,options) {\r\n        if (!SFile.is(dstZip)) options=dstZip;\r\n        options=options||{};\r\n        var jszip = new zip.JSZip();\r\n        function loop(dst, dir) {\r\n            return dir.each(function (f) {\r\n                var r=DU.resolve();\r\n                if (options.progress) {\r\n                    r=options.progress(f);\r\n                }\r\n                return r.then(function () {\r\n                    if (f.isDir()) {\r\n                        var sf=dst.folder(f.name().replace(/[\\/\\\\]$/,\"\"));\r\n                        return loop(sf, f);\r\n                    } else {\r\n                        return f.getContent(function (c) {\r\n                            dst.file(f.name(),c.toArrayBuffer());\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        return loop(jszip, dir).then(function () {\r\n            return DU.resolve(jszip.generateAsync({\r\n                type:\"arraybuffer\",\r\n                compression:\"DEFLATE\"\r\n            }));\r\n        }).then(function (content) {\r\n            //console.log(\"zip.con\",content);\r\n            if (SFile.is(dstZip)) {\r\n                return dstZip.setBytes(content);\r\n            } else {\r\n                saveAs(\r\n                    new Blob([content],{type:\"application/zip\"}),\r\n                    dir.name().replace(/[\\/\\\\]$/,\"\")+\".zip\"\r\n                );\r\n            }\r\n        });\r\n    };\r\n    zip.unzip=function (arrayBuf,destDir,options) {\r\n        var c;\r\n        var status={};\r\n        options=options||{};\r\n        if (SFile.is(arrayBuf)) {\r\n        \tc=arrayBuf.getContent();\r\n        \tarrayBuf=c.toArrayBuffer();\r\n        }\r\n        if (!options.onCheckFile) {\r\n            options.onCheckFile=function (f) {\r\n                if (options.overwrite) {\r\n                    return f;\r\n                } else {\r\n                    if (f.exists()) {\r\n                        return false;\r\n                    }\r\n                    return f;\r\n                }\r\n            };\r\n        }\r\n        var jszip=new zip.JSZip();\r\n        return DU.resolve(jszip.loadAsync(arrayBuf)).then(function () {\r\n            return DU.each(jszip.files,function (key,zipEntry) {\r\n                //var zipEntry=jszip.files[i];\r\n                var buf,dest;\r\n                return DU.resolve(zipEntry.async(\"arraybuffer\")).then(function (_buf) {\r\n                    buf=_buf;\r\n                    dest=destDir.rel(zipEntry.name);\r\n                    if (options.progress) {\r\n                        return DU.resolve(options.progress(dest));\r\n                    }\r\n                }).then(function () {\r\n                    console.log(\"Inflating\",zipEntry.name);\r\n                    if (dest.isDir()) return;\r\n                    var s={\r\n                        file:dest,\r\n                        status:\"uploaded\"\r\n                    };\r\n                    status[dest.path()]=s;\r\n                    var c=FS.Content.bin( buf, dest.contentType() );\r\n                    var res=options.onCheckFile(dest,c);\r\n                    if (res===false) {\r\n                        s.status=\"cancelled\";\r\n                        dest=null;\r\n                    }\r\n                    if (SFile.is(res)) {\r\n                        if (dest.path()!==res.path()) s.redirectedTo=res;\r\n                        dest=res;\r\n                    }\r\n                    if (dest) return dest.setContent(c);\r\n                });\r\n            });\r\n        }).then(function () {\r\n            console.log(\"unzip done\",status);\r\n            return status;\r\n        });\r\n    };\r\n    return zip;\r\n});\r\n\r\n/*(function (global, factory) {\r\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory() :\r\n\ttypeof define === 'function' && define.amd ? define(factory) :\r\n\t(factory());\r\n}(this, (function () { 'use strict';*/\r\n// modified from https://github.com/taylorhakes/promise-polyfill/blob/master/dist/polyfill.js\r\n// if promise resolved immediately, it will run f of then(f)\r\n// P.resolve(5).then(e=>console.log(e)); console.log(3)  ->  show 5 3, while original is 3 5\r\ndefine('promise',[], function() {\r\n\r\n/**\r\n * @this {Promise}\r\n */\r\nfunction finallyConstructor(callback) {\r\n  var constructor = this.constructor;\r\n  return this.then(\r\n    function(value) {\r\n      // @ts-ignore\r\n      return constructor.resolve(callback()).then(function() {\r\n        return value;\r\n      });\r\n    },\r\n    function(reason) {\r\n      // @ts-ignore\r\n      return constructor.resolve(callback()).then(function() {\r\n        // @ts-ignore\r\n        return constructor.reject(reason);\r\n      });\r\n    }\r\n  );\r\n}\r\n\r\n// Store setTimeout reference so promise-polyfill will be unaffected by\r\n// other code modifying setTimeout (like sinon.useFakeTimers())\r\nvar setTimeoutFunc = setTimeout;\r\n\r\nfunction isArray(x) {\r\n  return Boolean(x && typeof x.length !== 'undefined');\r\n}\r\n\r\nfunction noop() {}\r\n\r\n// Polyfill for Function.prototype.bind\r\nfunction bind(fn, thisArg) {\r\n  return function() {\r\n    fn.apply(thisArg, arguments);\r\n  };\r\n}\r\n\r\n/**\r\n * @constructor\r\n * @param {Function} fn\r\n */\r\nfunction Promise(fn) {\r\n  if (!(this instanceof Promise))\r\n    throw new TypeError('Promises must be constructed via new');\r\n  if (typeof fn !== 'function') throw new TypeError('not a function');\r\n  /** @type {!number} */\r\n  this._state = 0;\r\n  /** @type {!boolean} */\r\n  this._handled = false;\r\n  /** @type {Promise|undefined} */\r\n  this._value = undefined;\r\n  /** @type {!Array<!Function>} */\r\n  this._deferreds = [];\r\n\r\n  doResolve(fn, this);\r\n}\r\n\r\nfunction handle(self, deferred) {\r\n  while (self._state === 3) {\r\n    self = self._value;\r\n  }\r\n  if (self._state === 0) {\r\n    self._deferreds.push(deferred);\r\n    return;\r\n  }\r\n  self._handled = true;\r\n  Promise._immediateFn(function() {\r\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\r\n    if (cb === null) {\r\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\r\n      return;\r\n    }\r\n    var ret;\r\n    try {\r\n      ret = cb(self._value);\r\n    } catch (e) {\r\n      reject(deferred.promise, e);\r\n      return;\r\n    }\r\n    resolve(deferred.promise, ret);\r\n  });\r\n}\r\n\r\nfunction resolve(self, newValue) {\r\n  try {\r\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\r\n    if (newValue === self)\r\n      throw new TypeError('A promise cannot be resolved with itself.');\r\n    if (\r\n      newValue &&\r\n      (typeof newValue === 'object' || typeof newValue === 'function')\r\n    ) {\r\n      var then = newValue.then;\r\n      if (newValue instanceof Promise) {\r\n        self._state = 3;\r\n        self._value = newValue;\r\n        finale(self);\r\n        return;\r\n      } else if (typeof then === 'function') {\r\n        doResolve(bind(then, newValue), self);\r\n        return;\r\n      }\r\n    }\r\n    self._state = 1;\r\n    self._value = newValue;\r\n    finale(self);\r\n  } catch (e) {\r\n    reject(self, e);\r\n  }\r\n}\r\n\r\nfunction reject(self, newValue) {\r\n  self._state = 2;\r\n  self._value = newValue;\r\n  finale(self);\r\n}\r\n\r\nfunction finale(self) {\r\n  if (self._state === 2 && self._deferreds.length === 0) {\r\n    Promise._immediateFn(function() {\r\n      if (!self._handled) {\r\n        Promise._unhandledRejectionFn(self._value);\r\n      }\r\n    });\r\n  }\r\n\r\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\r\n    handle(self, self._deferreds[i]);\r\n  }\r\n  self._deferreds = null;\r\n}\r\n\r\n/**\r\n * @constructor\r\n */\r\nfunction Handler(onFulfilled, onRejected, promise) {\r\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\r\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\r\n  this.promise = promise;\r\n}\r\n\r\n/**\r\n * Take a potentially misbehaving resolver function and make sure\r\n * onFulfilled and onRejected are only called once.\r\n *\r\n * Makes no guarantees about asynchrony.\r\n */\r\nfunction doResolve(fn, self) {\r\n  var done = false;\r\n  try {\r\n    fn(\r\n      function(value) {\r\n        if (done) return;\r\n        done = true;\r\n        resolve(self, value);\r\n      },\r\n      function(reason) {\r\n        if (done) return;\r\n        done = true;\r\n        reject(self, reason);\r\n      }\r\n    );\r\n  } catch (ex) {\r\n    if (done) return;\r\n    done = true;\r\n    reject(self, ex);\r\n  }\r\n}\r\n\r\nPromise.prototype['catch'] = function(onRejected) {\r\n  return this.then(null, onRejected);\r\n};\r\n\r\nPromise.prototype.then = function(onFulfilled, onRejected) {\r\n  // @ts-ignore\r\n  var prom = new this.constructor(noop);\r\n\r\n  handle(this, new Handler(onFulfilled, onRejected, prom));\r\n  return prom;\r\n};\r\n\r\nPromise.prototype['finally'] = finallyConstructor;\r\n\r\nPromise.all = function(arr) {\r\n  return new Promise(function(resolve, reject) {\r\n    if (!isArray(arr)) {\r\n      return reject(new TypeError('Promise.all accepts an array'));\r\n    }\r\n\r\n    var args = Array.prototype.slice.call(arr);\r\n    if (args.length === 0) return resolve([]);\r\n    var remaining = args.length;\r\n\r\n    function res(i, val) {\r\n      try {\r\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\r\n          var then = val.then;\r\n          if (typeof then === 'function') {\r\n            then.call(\r\n              val,\r\n              function(val) {\r\n                res(i, val);\r\n              },\r\n              reject\r\n            );\r\n            return;\r\n          }\r\n        }\r\n        args[i] = val;\r\n        if (--remaining === 0) {\r\n          resolve(args);\r\n        }\r\n      } catch (ex) {\r\n        reject(ex);\r\n      }\r\n    }\r\n\r\n    for (var i = 0; i < args.length; i++) {\r\n      res(i, args[i]);\r\n    }\r\n  });\r\n};\r\n\r\nPromise.resolve = function(value) {\r\n  if (value && typeof value === 'object' && value.constructor === Promise) {\r\n    return value;\r\n  }\r\n\r\n  return new Promise(function(resolve) {\r\n    resolve(value);\r\n  });\r\n};\r\n\r\nPromise.reject = function(value) {\r\n  return new Promise(function(resolve, reject) {\r\n    reject(value);\r\n  });\r\n};\r\n\r\nPromise.race = function(arr) {\r\n  return new Promise(function(resolve, reject) {\r\n    if (!isArray(arr)) {\r\n      return reject(new TypeError('Promise.race accepts an array'));\r\n    }\r\n\r\n    for (var i = 0, len = arr.length; i < len; i++) {\r\n      Promise.resolve(arr[i]).then(resolve, reject);\r\n    }\r\n  });\r\n};\r\n\r\n// Use polyfill for setImmediate for performance gains\r\nPromise._immediateFn = function (fn) {fn();};/*\r\n  // @ts-ignore\r\n  (typeof setImmediate === 'function' &&\r\n    function(fn) {\r\n      // @ts-ignore\r\n      setImmediate(fn);\r\n    }) ||\r\n  function(fn) {\r\n    setTimeoutFunc(fn, 0);\r\n  };\r\n*/\r\n\r\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(/*err*/) {\r\n  if (typeof console !== 'undefined' && console) {\r\n    //console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\r\n  }\r\n};\r\n/** @suppress {undefinedVars} */\r\n/*\r\nvar globalNS = (function() {\r\n  // the only reliable means to get the global object is\r\n  // `Function('return this')()`\r\n  // However, this causes CSP violations in Chrome apps.\r\n  if (typeof self !== 'undefined') {\r\n    return self;\r\n  }\r\n  if (typeof window !== 'undefined') {\r\n    return window;\r\n  }\r\n  if (typeof global !== 'undefined') {\r\n    return global;\r\n  }\r\n  throw new Error('unable to locate global object');\r\n})();\r\n\r\nif (!('Promise' in globalNS)) {\r\n  globalNS['Promise'] = Promise;\r\n} else if (!globalNS.Promise.prototype['finally']) {\r\n  globalNS.Promise.prototype['finally'] = finallyConstructor;\r\n}*/\r\nreturn Promise;\r\n});\r\n\r\ndefine('FS',[\"FSClass\",\"NativeFS\",\"LSFS\", \"WebFS\", \"PathUtil\",\"Env\",\"assert\",\"SFile\",\"RootFS\",\"Content\",\"zip\",\"DeferredUtil\",\"promise\"],\r\n        function (FSClass,NativeFS,LSFS,WebFS, P,Env,A,SFile,RootFS,Content,zip,DU,PR) {\r\n    var FS={};\r\n    FS.assert=A;\r\n    FS.Content=Content;\r\n    FS.Class=FSClass;\r\n    FS.DeferredUtil=DU;\r\n    if (!DU.config.useJQ) {\r\n        DU.external.Promise=PR;\r\n    }\r\n    FS.Env=Env;\r\n    FS.LSFS=LSFS;\r\n    FS.NativeFS=NativeFS;\r\n    FS.PathUtil=P;\r\n    FS.RootFS=RootFS;\r\n    FS.SFile=SFile;\r\n    FS.WebFS=WebFS;\r\n    FS.zip=zip;\r\n    //if (zip.JSZip) DU.external.Promise=zip.JSZip.external.Promise;\r\n    if (typeof window==\"object\") window.FS=FS;\r\n    var rootFS;\r\n    var env=new Env({});\r\n    FS.addFSType=FSClass.addFSType;\r\n    FS.availFSTypes=FSClass.availFSTypes;\r\n\r\n    FS.setEnvProvider=function (e) {\r\n        env=e;\r\n    };\r\n    FS.getEnvProvider=function () {\r\n        return env;\r\n    };\r\n    FS.setEnv=function (key, value) {\r\n        if (typeof key==\"object\") {\r\n            for (var k in key) {\r\n                env.set(k,key[k]);\r\n            }\r\n        }else {\r\n            env.set(key,value);\r\n        }\r\n    };\r\n    FS.getEnv=function (key) {\r\n        if (typeof key==\"string\") {\r\n            return env.get(key);\r\n        }else {\r\n            return env.value;\r\n        }\r\n    };\r\n    FS.init=function (fs) {\r\n        if (rootFS) return;\r\n        if (!fs) {\r\n            if (NativeFS.available) {\r\n                fs=new NativeFS();\r\n            } else if (typeof localStorage===\"object\") {\r\n                fs=new LSFS(localStorage);\r\n            } else if (typeof importScripts===\"function\") {\r\n                // Worker\r\n                /* global self*/\r\n                self.addEventListener(\"message\", function (e) {\r\n                    var data=e.data;\r\n                    if (typeof data===\"string\") {\r\n                        data=JSON.parse(data);\r\n                    }\r\n                    switch(data.type) {\r\n                    case \"upload\":\r\n                        FS.get(data.base).importFromObject(data.data);\r\n                        break;\r\n                    case \"observe\":\r\n                        rootFS.observe(data.path, function (path,meta) {\r\n                            self.postMessage(JSON.stringify({\r\n                                type: \"changed\",\r\n                                path: path,\r\n                                content: FS.get(path).text(),\r\n                                meta: meta\r\n                            }));\r\n                        });\r\n                        break;\r\n                    }\r\n                });\r\n                fs=LSFS.ramDisk();\r\n            }\r\n        }\r\n        rootFS=new RootFS(fs);\r\n    };\r\n    FS.getRootFS=function () {\r\n        FS.init();\r\n        return rootFS;\r\n    };\r\n    FS.get=function () {\r\n        FS.init();\r\n        return rootFS.get.apply(rootFS,arguments);\r\n    };\r\n    FS.expandPath=function () {\r\n        return env.expandPath.apply(env,arguments);\r\n    };\r\n    FS.resolve=function (path, base) {\r\n        FS.init();\r\n        if (SFile.is(path)) return path;\r\n        path=env.expandPath(path);\r\n        if (base && !P.isAbsolutePath(path)) {\r\n            base=env.expandPath(base);\r\n            return FS.get(base).rel(path);\r\n        }\r\n        return FS.get(path);\r\n    };\r\n    FS.mount=function () {\r\n        FS.init();\r\n        return rootFS.mount.apply(rootFS,arguments);\r\n    };\r\n    FS.unmount=function () {\r\n        FS.init();\r\n        return rootFS.unmount.apply(rootFS,arguments);\r\n    };\r\n    FS.isFile=function (f) {\r\n        return SFile.is(f);\r\n    };\r\n    return FS;\r\n});\r\n\r\n//-----------\r\n\tvar resMod;\r\n\trequirejs([\"FS\"], function (r) {\r\n\t  resMod=r;\r\n\t});\r\n\tif (typeof window!==\"undefined\" && window.FS===undefined) window.FS=resMod;\r\n\tif (typeof module!==\"undefined\") module=resMod;\r\n\treturn resMod;\r\n});\r\n//})(window);\r\n\ndefine('Platform',[],function () {\r\n    var WebSite={};\r\n    // from https://w3g.jp/blog/js_browser_sniffing2015\r\n    var u=window.navigator.userAgent.toLowerCase();\r\n    WebSite.tablet=(u.indexOf(\"windows\") != -1 && u.indexOf(\"touch\") != -1) ||\r\n    u.indexOf(\"ipad\") != -1 ||\r\n    (u.indexOf(\"android\") != -1 && u.indexOf(\"mobile\") == -1) ||\r\n    (u.indexOf(\"firefox\") != -1 && u.indexOf(\"tablet\") != -1) ||\r\n    u.indexOf(\"kindle\") != -1 || u.indexOf(\"silk\") != -1 ||\r\n    u.indexOf(\"playbook\") != -1;\r\n    WebSite.mobile=(u.indexOf(\"windows\") != -1 && u.indexOf(\"phone\") != -1) ||\r\n    u.indexOf(\"iphone\") != -1 || u.indexOf(\"ipod\") != -1 ||\r\n    (u.indexOf(\"android\") != -1 && u.indexOf(\"mobile\") != -1) ||\r\n    (u.indexOf(\"firefox\") != -1 && u.indexOf(\"mobile\") != -1) || u.indexOf(\"blackberry\") != -1;\r\n    return WebSite;\r\n});\r\n\n/*global window,self,global*/\r\ndefine('root',[],function (){\r\n    if (typeof window!==\"undefined\") return window;\r\n    if (typeof self!==\"undefined\") return self;\r\n    if (typeof global!==\"undefined\") return global;\r\n    return (function (){return this;})();\r\n});\r\n\n/*global process, require, BuiltinAssets, requirejs, global */\r\ndefine('WebSite',[\"FS\",\"Platform\",\"root\"], function (FS,Platform,root) {\r\n\tvar P=FS.PathUtil;\r\n\tvar loc=document.location.href;\r\n\tconst WebSite=root.WebSite||{};\r\n\troot.WebSite=WebSite;\r\n\tWebSite.runType=WebSite.runType||root.WebSite_runType;\r\n\tvar prot=location.protocol;\r\n\tvar k;\r\n\r\n\tvar VER=1621942372070;\r\n\tif (!prot.match(/^http/)) prot=\"https:\";\r\n\tswitch(WebSite.runType) {\r\n\tcase \"IDE\":\r\n\t\tObject.assign(WebSite,{\r\n\t\t\turlAliases: {}, top: \".\",\r\n\t\t\ttablet:Platform.tablet,\r\n\t\t\tmobile:Platform.mobile\r\n\t\t});\r\n\t\tWebSite.builtinAssetNames={\r\n\t\t\t\"images/Ball.png\":{name:\"$pat_ball\", url: \"images/Ball.png\"},\r\n\t\t\t\"images/base.png\":{name:\"$pat_base\", url: \"images/base.png\", pwidth:32, pheight:32},\r\n\t\t\t\"images/Sample.png\":{name:\"$pat_sample\", url: \"images/Sample.png\"},\r\n\t\t\t\"images/inputPad.png\":{name:\"$pat_inputPad\", url: \"images/inputPad.png\"},\r\n\t\t\t\"images/neko.png\":{name:\"$pat_neko\", url: \"images/neko.png\", pwidth:32, pheight:32},\r\n\t\t\t\"images/mapchip.png\":{name:\"$pat_mapchip\", url: \"images/mapchip.png\", pwidth:32, pheight:32}\r\n\t\t};\r\n\t\tif (!WebSite.pluginTop) {\r\n\t\t\tWebSite.pluginTop=WebSite.top+\"/js/plugins\";\r\n\t\t}\r\n\t\tWebSite.sampleImg=WebSite.top+\"/images\";\r\n\t\tWebSite.isNW=(typeof process==\"object\" && (process.__node_webkit||process.__nwjs));\r\n\t\tWebSite.mp4Disabled=WebSite.isNW;\r\n\t\tWebSite.tonyuHome=\"/Tonyu/\";\r\n\t\tWebSite.PathSep=\"/\";\r\n\t\tif (WebSite.isNW) {\r\n\t\t\tWebSite.PathSep=require(\"path\").sep;\r\n\t\t\tWebSite.cwd=P.directorify(process.cwd().replace(/\\\\/g,\"/\"));\r\n\t\t\t//WebSite.exeDir=WebSite.execDir=P.up(P.fixSep(process.execPath)); not suitable when mac\r\n\t\t\tif (process.env.TONYU_HOME) {\r\n\t\t\t\tWebSite.tonyuHome=P.directorify(process.env.TONYU_HOME);\r\n\t\t\t} else {\r\n\t\t\t\tWebSite.tonyuHome=P.rel(WebSite.cwd,\"fs/Tonyu/\");\r\n\t\t\t}\r\n\t\t\tWebSite.logdir=process.env.TONYU_LOGDIR;//\"C:/var/log/Tonyu/\";\r\n\t\t\tWebSite.wwwDir=P.rel(WebSite.cwd,\"www/\");\r\n\t\t\tWebSite.platform=process.platform;\r\n\t\t\tWebSite.ffmpeg=P.rel(WebSite.cwd,(WebSite.platform==\"win32\"?\r\n\t\t\t\t\t\"ffmpeg/bin/ffmpeg.exe\":\"ffmpeg/bin/ffmpeg\"));\r\n\t\t\tWebSite.pkgInfo=require(P.rel(WebSite.cwd, \"package.json\"));\r\n\t\t\tif (process.env.TONYU_PROJECTS) {\r\n\t\t\t\tWebSite.projects=process.env.TONYU_PROJECTS.replace(/\\\\/g,\"/\").split(require('path').delimiter);\r\n\t\t\t} else if ( WebSite.pkgInfo && WebSite.pkgInfo.config && WebSite.pkgInfo.config.prjDirs ){\r\n\t\t\t\tWebSite.projects=WebSite.pkgInfo.config.prjDirs.map(function (d) {\r\n\t\t\t\t\td=P.directorify(d);\r\n\t\t\t\t\tif (P.isAbsolute(d)) return d;\r\n\t\t\t\t\treturn P.rel(WebSite.cwd,d);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tWebSite.projects=[P.rel(WebSite.cwd,\"Projects/\"),\r\n\t\t\t\t\tP.rel(WebSite.tonyuHome,\"Projects/\")];\r\n\t\t\t}\r\n\t\t\tWebSite.kernelDir=P.rel(WebSite.wwwDir,\"Kernel/\");\r\n\t\t} else {\r\n\t\t\tif (loc.match(/edit\\.tonyu\\.jp\\/n\\//)) {\r\n\t\t\t\tWebSite.wwwDir=prot+\"//\"+location.host+\"/n/\";\r\n\t\t\t} else {\r\n\t\t\t\t// Why?\r\n\t\t\t\tWebSite.wwwDir=prot+\"//\"+location.host+\"/\";\r\n\t\t\t}\r\n\t\t\tWebSite.projects=[P.rel(WebSite.tonyuHome,\"Projects/\")];\r\n\t\t}\r\n\t\t//WebSite.kernelDir=WebSite.top+\"/Kernel/\";\r\n\t\t// kernelDir must be absolute\r\n\t\tWebSite.kernelDir=P.rel(WebSite.wwwDir,\"Kernel/\");\r\n\t\t// compiledKernel is URL , not file path.\r\n\t\t// It is correct as long as the html pages in www/ (not html/build|dev )\r\n\t\tWebSite.compiledKernel=\"Kernel/js/concat.js\";   //P.rel(WebSite.kernelDir,\"js/concat.js\");\r\n\t\tWebSite.compiledTools={\r\n\t\t\tmapEditor2: \"Tools/MapEditor2/js/concat.js\",\r\n\t\t};\r\n\t\tsetNS2DepSpec();\r\n\t\tif (loc.match(/localhost\\/tonyu2/)) {\r\n\t\t\tWebSite.wwwDir=prot+\"//\"+location.host+\"/tonyu2/\";\r\n\t\t\tWebSite.kernelDir=WebSite.wwwDir+\"Kernel/\";\r\n\t\t\tWebSite.compiledKernel=WebSite.kernelDir+\"js/concat.js\";\r\n\t\t\tWebSite.uploadTmpUrl=prot+\"//localhost/tsite/tonyu/e/cgi-bin/uploadTmp.cgi\";\r\n\t\t\tWebSite.newVersionUrl=prot+\"//localhost/tsite/tonyu/project/newVersion.cgi\";\r\n\t\t\tWebSite.quickUploadURL=prot+\"//localhost/tsite/tonyu/project/quickDone.cgi\";\r\n\t\t\tWebSite.scriptServer=\"https://localhost/tonyu2/\";\r\n\t\t} else {\r\n\t\t\tWebSite.uploadTmpUrl=prot+\"//edit.tonyu.jp/cgi-bin/uploadTmp.cgi\";\r\n\t\t\tWebSite.newVersionUrl=prot+\"//www.tonyu.jp/project/newVersion.cgi\";\r\n\t\t\tWebSite.quickUploadURL=prot+\"//www.tonyu.jp/project/quickDone.cgi\";\r\n\t\t\tWebSite.scriptServer=\"https://edit.tonyu.jp/\";\r\n\t\t}\r\n\t\tFS.setEnvProvider(new FS.Env(WebSite));\r\n\t\tWebSite.sysVersion=VER;\r\n\t\tWebSite.version=2;\r\n\t\tWebSite.projectEditorURL=\"project2.html\";\r\n\t\tsetDefaultResource(WebSite);\r\n\t\treturn WebSite;\r\n\tcase \"singleHTML\":\r\n\t\tObject.assign(WebSite,{\r\n\t\t\turlAliases: {}, top: \".\",\r\n\t\t\ttablet:Platform.tablet,\r\n\t\t\tmobile:Platform.mobile\r\n\t\t});\r\n\t\tif (typeof BuiltinAssets===\"object\") {\r\n\t\t\tfor (k in BuiltinAssets) {\r\n\t\t\t\tWebSite.urlAliases[k]=BuiltinAssets[k];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tWebSite.tonyuHome=\"/Tonyu/\";\r\n\t\tWebSite.projects=[P.rel(WebSite.tonyuHome,\"Projects/\")];\r\n\t\tif (loc.match(/localhost\\/tonyu2/)) {\r\n\t\t\tWebSite.scriptServer=\"http://localhost/tonyu2/\";\r\n\t\t} else {\r\n\t\t\tWebSite.scriptServer=\"https://edit.tonyu.jp/\";\r\n\t\t}\r\n\t\tWebSite.pluginTop=WebSite.scriptServer+\"js/plugins\";\r\n\t\tWebSite.isNW=(typeof process==\"object\" && (process.__node_webkit||process.__nwjs));\r\n\t\tWebSite.PathSep=\"/\";\r\n\t\tWebSite.compiledKernel=WebSite.scriptServer+\"Kernel/js/concat.js\";\r\n\t\tWebSite.compiledTools={\r\n\t\t\tmapEditor2: `${WebSite.scriptServer}Tools/MapEditor2/js/concat.js`,\r\n\t\t};\r\n\t\tsetNS2DepSpec();\r\n\t\tFS.setEnvProvider(new FS.Env(WebSite));\r\n\t\tWebSite.sysVersion=VER;\r\n\t\tsetDefaultResource(WebSite);\r\n\t\treturn WebSite;\r\n\tcase \"multiHTML\":\r\n\t\tObject.assign(WebSite,{\r\n\t\t\turlAliases: {}, top: \".\",\r\n\t\t\ttablet:Platform.tablet,\r\n\t\t\tmobile:Platform.mobile\r\n\t\t});\r\n\t\tWebSite.tonyuHome=\"/Tonyu/\";\r\n\t\tWebSite.pluginTop=WebSite.top+\"/js/plugins\";\r\n\t\tWebSite.isNW=(typeof process==\"object\" && (process.__node_webkit||process.__nwjs));\r\n\t\tWebSite.PathSep=\"/\";\r\n\t\tWebSite.mp4Disabled=WebSite.isNW;\r\n\t\tif (WebSite.isNW) {\r\n\t\t\tWebSite.PathSep=getPathSep();\r\n\t\t\tWebSite.cwd=P.directorify(process.cwd().replace(/\\\\/g,\"/\"));\r\n\t\t\tWebSite.platform=process.platform;\r\n\t\t}\r\n\t\t// this sets at runScript2.js\r\n\t\t//WebSite.compiledKernel=WebSite.top+\"/js/kernel.js\";\r\n\t\t//-------------\r\n\t\tFS.setEnvProvider(new FS.Env(WebSite));\r\n\t\tWebSite.sysVersion=VER;\r\n\t\treturn WebSite;\r\n\tcase \"manual\":// for BitArrow\r\n\t\treturn WebSite;\r\n\tdefault:\r\n\t\tthrow new Error(\"WebSite.runType is not set\");\r\n\t}\r\n\tfunction setNS2DepSpec() {\r\n\t\tWebSite.ns2depspec=[\r\n\t        {namespace:\"kernel\", url: WebSite.compiledKernel},\r\n\t        {namespace:\"mapEditor2\", url: WebSite.compiledTools.mapEditor2},\r\n\t    ];\r\n\t}\r\n\tfunction setDefaultResource(WebSite) {\r\n\t\tWebSite.defaultResource={\r\n\t       images:[\r\n\t          {name:\"$pat_base\", url: \"images/base.png\", pwidth:32, pheight:32},\r\n\t          {name:\"$pat_sample\", url: \"images/Sample.png\"},\r\n\t          {name:\"$pat_neko\", url: \"images/neko.png\", pwidth:32, pheight:32},\r\n\t          {name:\"$pat_mapchip\", url: \"images/mapchip.png\", pwidth:32, pheight:32}\r\n\t       ],\r\n\t       sounds:[]\r\n\t    };\r\n\t}\r\n\t//WebSite.blobPath=WebSite.serverTop+\"/serveBlob\";        //TODO: urlchange!\r\n\t/*WebSite.url={\r\n\t\tgetDirInfo:WebSite.serverTop+\"/getDirInfo\",\r\n\t\tgetFiles:WebSite.serverTop+\"/File2LSSync\",\r\n\t\tputFiles:WebSite.serverTop+\"/LS2FileSync\"\r\n\t};*/\r\n\tfunction getPathSep() {\r\n\t\tconst requireTries=[\r\n\t\t\t()=>require(\"path\"),\r\n\t\t\t()=>requirejs.nodeRequire(\"path\"),\r\n\t\t\t()=>global.require(\"path\")\r\n\t\t];\r\n\t\tfor (let fsf of requireTries) {\r\n\t\t\ttry {\r\n\t\t\t\tconst path=fsf();\r\n\t\t\t\tif (typeof path.sep===\"string\") return path.sep;\r\n\t\t\t} catch(e){\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn \"/\";\r\n\t}\r\n});\r\n\nUtil=(function () {\r\n\r\nfunction getQueryString(key, default_)\r\n{\r\n   if (default_==null) default_=\"\";\r\n   key = key.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\r\n   var regex = new RegExp(\"[\\\\?&]\"+key+\"=([^&#]*)\");\r\n   var qs = regex.exec(window.location.href);\r\n   if(qs == null)\r\n    return default_;\r\n   else\r\n    return decodeURLComponentEx(qs[1]);\r\n}\r\nfunction decodeURLComponentEx(s){\r\n    return decodeURIComponent(s.replace(/\\+/g, '%20'));\r\n}\r\nfunction endsWith(str,postfix) {\r\n    return str.substring(str.length-postfix.length)===postfix;\r\n}\r\nfunction startsWith(str,prefix) {\r\n    return str.substring(0, prefix.length)===prefix;\r\n}\r\n// From http://hakuhin.jp/js/base64.html#BASE64_DECODE_ARRAY_BUFFER\r\nfunction Base64_To_ArrayBuffer(base64){\r\n    base64=base64.replace(/[\\n=]/g,\"\");\r\n    var dic = new Object();\r\n    dic[0x41]= 0; dic[0x42]= 1; dic[0x43]= 2; dic[0x44]= 3; dic[0x45]= 4; dic[0x46]= 5; dic[0x47]= 6; dic[0x48]= 7; dic[0x49]= 8; dic[0x4a]= 9; dic[0x4b]=10; dic[0x4c]=11; dic[0x4d]=12; dic[0x4e]=13; dic[0x4f]=14; dic[0x50]=15;\r\n    dic[0x51]=16; dic[0x52]=17; dic[0x53]=18; dic[0x54]=19; dic[0x55]=20; dic[0x56]=21; dic[0x57]=22; dic[0x58]=23; dic[0x59]=24; dic[0x5a]=25; dic[0x61]=26; dic[0x62]=27; dic[0x63]=28; dic[0x64]=29; dic[0x65]=30; dic[0x66]=31;\r\n    dic[0x67]=32; dic[0x68]=33; dic[0x69]=34; dic[0x6a]=35; dic[0x6b]=36; dic[0x6c]=37; dic[0x6d]=38; dic[0x6e]=39; dic[0x6f]=40; dic[0x70]=41; dic[0x71]=42; dic[0x72]=43; dic[0x73]=44; dic[0x74]=45; dic[0x75]=46; dic[0x76]=47;\r\n    dic[0x77]=48; dic[0x78]=49; dic[0x79]=50; dic[0x7a]=51; dic[0x30]=52; dic[0x31]=53; dic[0x32]=54; dic[0x33]=55; dic[0x34]=56; dic[0x35]=57; dic[0x36]=58; dic[0x37]=59; dic[0x38]=60; dic[0x39]=61; dic[0x2b]=62; dic[0x2f]=63;\r\n    var num = base64.length;\r\n    var n = 0;\r\n    var b = 0;\r\n    var e;\r\n\r\n    if(!num) return (new ArrayBuffer(0));\r\n    //if(num < 4) return null;\r\n    //if(num % 4) return null;\r\n\r\n    // AA     12    1\r\n    // AAA    18    2\r\n    // AAAA   24    3\r\n    // AAAAA  30    3\r\n    // AAAAAA 36    4\r\n    // num*6/8\r\n    e = Math.floor(num / 4 * 3);\r\n    if(base64.charAt(num - 1) == '=') e -= 1;\r\n    if(base64.charAt(num - 2) == '=') e -= 1;\r\n\r\n    var ary_buffer = new ArrayBuffer( e );\r\n    var ary_u8 = new Uint8Array( ary_buffer );\r\n    var i = 0;\r\n    var p = 0;\r\n    while(p < e){\r\n        b = dic[base64.charCodeAt(i)];\r\n        if(b === undefined) fail(\"Invalid letter: \"+base64.charCodeAt(i));//return null;\r\n        n = (b << 2);\r\n        i ++;\r\n\r\n        b = dic[base64.charCodeAt(i)];\r\n        if(b === undefined) fail(\"Invalid letter: \"+base64.charCodeAt(i))\r\n        ary_u8[p] = n | ((b >> 4) & 0x3);\r\n        n = (b & 0x0f) << 4;\r\n        i ++;\r\n        p ++;\r\n        if(p >= e) break;\r\n\r\n        b = dic[base64.charCodeAt(i)];\r\n        if(b === undefined) fail(\"Invalid letter: \"+base64.charCodeAt(i))\r\n        ary_u8[p] = n | ((b >> 2) & 0xf);\r\n        n = (b & 0x03) << 6;\r\n        i ++;\r\n        p ++;\r\n        if(p >= e) break;\r\n\r\n        b = dic[base64.charCodeAt(i)];\r\n        if(b === undefined) fail(\"Invalid letter: \"+base64.charCodeAt(i))\r\n        ary_u8[p] = n | b;\r\n        i ++;\r\n        p ++;\r\n    }\r\n    function fail(m) {\r\n        console.log(m);\r\n        console.log(base64,i);\r\n        throw new Error(m);\r\n    }\r\n    return ary_buffer;\r\n}\r\n\r\nfunction Base64_From_ArrayBuffer(ary_buffer){\r\n    var dic = [\r\n        'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P',\r\n        'Q','R','S','T','U','V','W','X','Y','Z','a','b','c','d','e','f',\r\n        'g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v',\r\n        'w','x','y','z','0','1','2','3','4','5','6','7','8','9','+','/'\r\n    ];\r\n    var base64 = \"\";\r\n    var ary_u8 = new Uint8Array( ary_buffer );\r\n    var num = ary_u8.length;\r\n    var n = 0;\r\n    var b = 0;\r\n\r\n    var i = 0;\r\n    while(i < num){\r\n        b = ary_u8[i];\r\n        base64 += dic[(b >> 2)];\r\n        n = (b & 0x03) << 4;\r\n        i ++;\r\n        if(i >= num) break;\r\n\r\n        b = ary_u8[i];\r\n        base64 += dic[n | (b >> 4)];\r\n        n = (b & 0x0f) << 2;\r\n        i ++;\r\n        if(i >= num) break;\r\n\r\n        b = ary_u8[i];\r\n        base64 += dic[n | (b >> 6)];\r\n        base64 += dic[(b & 0x3f)];\r\n        i ++;\r\n    }\r\n\r\n    var m = num % 3;\r\n    if(m){\r\n        base64 += dic[n];\r\n    }\r\n    if(m == 1){\r\n        base64 += \"==\";\r\n    }else if(m == 2){\r\n        base64 += \"=\";\r\n    }\r\n    return base64;\r\n}\r\n\r\nfunction privatize(o){\r\n    if (o.__privatized) return o;\r\n    var res={__privatized:true};\r\n    for (var n in o) {\r\n        (function (n) {\r\n            var m=o[n];\r\n            if (n.match(/^_/)) return;\r\n            if (typeof m!=\"function\") return;\r\n            res[n]=function () {\r\n                var r=m.apply(o,arguments);\r\n                return r;\r\n            };\r\n        })(n);\r\n    }\r\n    return res;\r\n}\r\nfunction hasNodeBuffer() {\r\n    return typeof Buffer!=\"undefined\";\r\n}\r\nfunction isNodeBuffer(data) {\r\n    return (hasNodeBuffer() && data instanceof Buffer);\r\n}\r\nfunction isBuffer(data) {\r\n    return data instanceof ArrayBuffer || isNodeBuffer(data);\r\n}\r\nfunction utf8bytes2str(bytes) {\r\n    var e=[];\r\n    for (var i=0 ; i<bytes.length ; i++) {\r\n         e.push(\"%\"+(\"0\"+bytes[i].toString(16)).slice(-2));\r\n    }\r\n    try {\r\n        return decodeURIComponent(e.join(\"\"));\r\n    } catch (er) {\r\n        console.log(e.join(\"\"));\r\n        throw er;\r\n    }\r\n}\r\nfunction str2utf8bytes(str, binType) {\r\n    var e=encodeURIComponent(str);\r\n    var r=/^%(..)/;\r\n    var a=[];\r\n    var ad=0;\r\n    for (var i=0 ; i<e.length; i++) {\r\n        var m=r.exec( e.substring(i));\r\n        if (m) {\r\n            a.push(parseInt(\"0x\"+m[1]));\r\n            i+=m[0].length-1;\r\n        } else a.push(e.charCodeAt(i));\r\n    }\r\n    return (typeof Buffer!=\"undefined\" && binType===Buffer ? new Buffer(a) : new Uint8Array(a).buffer);\r\n}\r\n\r\nreturn {\r\n    getQueryString:getQueryString,\r\n    endsWith: endsWith, startsWith: startsWith,\r\n    Base64_To_ArrayBuffer:Base64_To_ArrayBuffer,\r\n    Base64_From_ArrayBuffer:Base64_From_ArrayBuffer,\r\n    utf8bytes2str: utf8bytes2str,\r\n    str2utf8bytes: str2utf8bytes,\r\n    privatize: privatize,\r\n    hasNodeBuffer:hasNodeBuffer,\r\n    isNodeBuffer: isNodeBuffer,\r\n    isBuffer: isBuffer\r\n};\r\n})();\r\n\ndefine(\"Util\", (function (global) {\n    return function () {\n        var ret, fn;\n        return ret || global.Util;\n    };\n}(this)));\n\ndefine('Assets',[\"WebSite\",\"Util\",\"Tonyu\",\"FS\"],function (WebSite,Util,Tonyu,FS) {\r\n    var Assets={};\r\n    Assets.resolve=function (url, prj, options) {\r\n        options=options||{};\r\n        var baseDir=FS.isFile(prj)?prj:prj.getDir();\r\n        if (url==null) url=\"\";\r\n        url=url.replace(/\\$\\{([a-zA-Z0-9_]+)\\}/g, function (t,name) {\r\n            return WebSite[name];\r\n        });\r\n        if (WebSite.urlAliases[url]) url=WebSite.urlAliases[url];\r\n        if (Util.startsWith(url,\"ls:\")) {\r\n            var rel=url.substring(\"ls:\".length);\r\n            if (!baseDir) throw new Error(\"Basedir not specified\");\r\n            var f=baseDir.rel(rel);\r\n            if (!f.exists()) throw new Error(\"Resource file not found: \"+f);\r\n            if (\r\n                (WebSite.mp3Disabled && rel.match(/\\.(mp3)$/)) ||\r\n                (WebSite.mp4Disabled && rel.match(/\\.(mp4|m4a)$/))\r\n            ) {\r\n                var oggf=baseDir.rel(rel.replace(/\\.(mp3|mp4|m4a)$/,\".ogg\"));\r\n                if (oggf.exists()) {\r\n                    f=oggf;\r\n                }\r\n            }\r\n            url=f.getURL();\r\n            if (options.asFile) return f;\r\n        }\r\n        return url;\r\n    };\r\n    Tonyu.Assets=Assets;\r\n    return Assets;\r\n});\r\n\ndefine('assert',[\"FS\"],function (FS){return FS.assert;});\r\n\ndefine('urlTrailer',['require','exports','module','WebSite','Tonyu'],function (require, exports) {\r\n    const WebSite=require(\"WebSite\");\r\n    const Tonyu=require(\"Tonyu\");\r\n    Tonyu.urlTrailer=exports;\r\n    exports.put=function(url) {\r\n        if (!WebSite.tonyu_app_version) return url;\r\n        if (url.match(/^data:/)) return url;\r\n        const sep=url.match(/[&\\?]$/) ? \"\" : (url.match(/\\?/) ? \"&\" :\"?\");\r\n        return `${url}${sep}${WebSite.tonyu_app_version||\"\"}`;\r\n    };\r\n});\r\n\ndefine('ImageList',['require','exports','module','PatternParser','Assets','assert','urlTrailer'],function (require, exports, module) {\r\n    const PP=require(\"PatternParser\");\r\n    const Assets=require(\"Assets\");\r\n    const assert=require(\"assert\");\r\n    const urlTrailer=require(\"urlTrailer\");\r\n    var cache={};\r\n    function excludeEmpty(resImgs) {\r\n        var r=[];\r\n        resImgs.forEach(function (resImg) {\r\n            if (!resImg || resImg.url==\"\") return;\r\n            r.push(resImg);\r\n        });\r\n        return r;\r\n    }\r\n    var IL;\r\n    IL=function (resImgs, onLoad,options) {\r\n        //  resImgs:[{url: , [pwidth: , pheight:]?  }]\r\n\t    if (!options) options={};\r\n        resImgs=excludeEmpty(resImgs);\r\n        var resa=[];\r\n        var cnt=resImgs.length;\r\n        if (cnt==0) setTimeout(function () {\r\n            var res=[];\r\n            res.names={};\r\n            onLoad(res);\r\n        },0);\r\n        resImgs.forEach(function (resImg,i) {\r\n            console.log(\"loading\", resImg,i);\r\n            var url=resImg.url;\r\n            var urlKey=url;\r\n            if (cache[urlKey]) {\r\n            \tproc.apply(cache[urlKey],[]);\r\n            \treturn;\r\n            }\r\n            url=Assets.resolve(url,options.prj||options.baseDir);\r\n            //if (!Util.startsWith(url,\"data:\")) url+=\"?\" + new Date().getTime();\r\n            var im=$(\"<img>\");\r\n            im.load(function () {\r\n            \tcache[urlKey]=this;\r\n            \tproc.apply(this,[]);\r\n            });\r\n            im.attr(\"src\",urlTrailer.put(url));\r\n            function proc() {\r\n                var pw,ph;\r\n                if (resImg.type==\"single\") {\r\n                    resa[i]=[{image:this, x:0,y:0, width:this.width, height:this.height}];\r\n                } else if ((pw=resImg.pwidth) && (ph=resImg.pheight)) {\r\n                    var x=0, y=0, w=this.width, h=this.height;\r\n                    var r=[];\r\n                    while (true) {\r\n                        var rw=pw,rh=ph;\r\n                        if (x+pw>w) rw=w-x;\r\n                        if (y+ph>h) rh=h-y;\r\n                        r.push({image:this, x:x,y:y, width:rw, height:rh});\r\n                        x+=pw;\r\n                        if (x+pw>w) {\r\n                            x=0;\r\n                            y+=ph;\r\n                            if (y+ph>h) break;\r\n                        }\r\n                    }\r\n                    resa[i]=r;\r\n                } else {\r\n                    var p=new PP(this);\r\n                    resa[i]=p.parse();\r\n                }\r\n                resa[i].name=resImg.name;\r\n                assert.is(resa[i],Array);\r\n                cnt--;\r\n                if (cnt==0) {\r\n                    var res=[];\r\n                    var names={};\r\n                    resa.forEach(function (a) {\r\n                        names[a.name]=res.length;\r\n                        res=res.concat(a);\r\n                    });\r\n                    res.names=names;\r\n                    onLoad(res);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    IL.load=IL;\r\n    IL.parse1=function (resImg, imgDOM, options) {\r\n        var pw,ph;\r\n        var res;\r\n        if ((pw=resImg.pwidth) && (ph=resImg.pheight)) {\r\n            var x=0, y=0, w=imgDOM.width, h=imgDOM.height;\r\n            var r=[];\r\n            while (true) {\r\n                r.push({image:this, x:x,y:y, width:pw, height:ph});\r\n                x+=pw;\r\n                if (x+pw>w) {\r\n                    x=0;\r\n                    y+=ph;\r\n                    if (y+ph>h) break;\r\n                }\r\n            }\r\n            res=r;\r\n        } else {\r\n            var p=new PP(imgDOM,options);\r\n            res=p.parse();\r\n        }\r\n        res.name=resImg.name;\r\n        return assert.is(res,Array);\r\n    };\r\n\twindow.ImageList=IL;\r\n    module.exports=IL;\r\n});\r\n\n/*global webkitAudioContext, AudioContext, AudioBuffer, AudioBufferSourceNode, PicoAudio, Mezonet, WebSite, Util*/\r\n// forked from makkii_bcr's \"T2MediaLib\" http://jsdo.it/makkii_bcr/3ioQ\r\n\r\nvar T2MediaLib = (function(){\r\n    function isPicoAudio(bgm) {\r\n        return typeof PicoAudio!==\"undefined\" && bgm instanceof PicoAudio;\r\n    }\r\n    function isMezonetSource(bgm) {\r\n        return typeof Mezonet!==\"undefined\" && bgm instanceof Mezonet.Source;\r\n    }\r\n    function isAudioBufferSourceNode(bgm) {\r\n        // return bgm instanceof AudioBufferSourceNode || bgm instanceof WebKitAudioBufferSourceNode; // 本来はこの処理にしたい\r\n        // Safari 14でAudioBufferSourceNodeがWebKitAudioBufferSourceNodeに変更されたように、\r\n        // WebAPIの名前変更は予測できないので、消去方で判定する\r\n        return bgm != null && !(isPicoAudio(bgm) || isMezonetSource(bgm))\r\n    }\r\n    var T2MediaLib = function(_context) {\r\n        this.context = null;\r\n        this.picoAudio = null;\r\n        this.soundDataAry = []; // T2MediaLib_SoundData\r\n        this.bgmPlayerMax = 16;\r\n        this.bgmPlayerAry = []; // T2MediaLib_BGMPlayer\r\n\r\n        this.masterVolume = 1.0;\r\n        this.seMasterVolume = 1.0;\r\n        this.bgmMasterVolume = 1.0;\r\n\r\n        this.playingAudio = null;\r\n        this.audioVolume = 1.0;\r\n        this.audioTempo = 1.0;\r\n        this.audioDataAry = {\r\n            data : []\r\n        };\r\n        this.seSources=[];\r\n        this.init(_context);\r\n    };\r\n\r\n    // 初期化 //\r\n    T2MediaLib.prototype.init = function(_context) {\r\n        if (this.inited) return;\r\n        this.inited=true;\r\n        if (this.disabled) return;\r\n        if (!_context) {\r\n            if (window.AudioContext) {\r\n                this.context = new AudioContext();\r\n            } else if (window.webkitAudioContext) {\r\n                this.context = new webkitAudioContext();\r\n            } else {\r\n                this.context = null;\r\n                console.log('Your browser does not support yet Web Audio API');\r\n            }\r\n        } else {\r\n            this.context = _context;\r\n        }\r\n\r\n        // Web Audio API 起動成功\r\n        if (this.context) {\r\n            // BGMPlayer初期化 (16個生成)\r\n            for (var i=0; i<this.bgmPlayerMax; i++) {\r\n                this.bgmPlayerAry[i] = new T2MediaLib_BGMPlayer(this, i);\r\n            }\r\n        }\r\n    };\r\n\r\n    // CLEAR系関数 //\r\n    T2MediaLib.prototype.allClearSoundData = function() {\r\n        var dataAry = this.soundDataAry;\r\n        for (var idx in dataAry) {\r\n            delete dataAry[idx];\r\n        }\r\n    };\r\n    T2MediaLib.prototype.clearSoundData = function(idx) {\r\n        var dataAry = this.soundDataAry;\r\n        delete dataAry[idx];\r\n    };\r\n    T2MediaLib.prototype.allRemoveDecodedSoundData = function() {\r\n        var dataAry = this.soundDataAry;\r\n        for (var idx in dataAry) {\r\n            var soundData = dataAry[idx];\r\n            if (soundData == null) continue;\r\n            if (!soundData.isDecodeComplete() && !soundData.isDecoding()) continue;\r\n            soundData.removeDecodedData();\r\n        }\r\n    };\r\n    T2MediaLib.prototype.removeDecodedSoundData = function(idx) {\r\n        var soundData = this.soundDataAry[idx];\r\n        if (soundData == null) return;\r\n        if (!soundData.isDecodeComplete() && !soundData.isDecoding()) return;\r\n        soundData.removeDecodedData();\r\n    };\r\n\r\n\r\n    // SE&BGMの音量 //\r\n    T2MediaLib.prototype.getMasterVolume = function() {\r\n        return this.masterVolume;\r\n    };\r\n    T2MediaLib.prototype.setMasterVolume = function(vol) {\r\n        this.masterVolume = vol;\r\n        for (var i=0; i<this.bgmPlayerMax; i++) {\r\n            var bgmPlayer = this.bgmPlayerAry[i];\r\n            if (!(bgmPlayer instanceof T2MediaLib_BGMPlayer)) continue;\r\n            bgmPlayer.onChangeBGMMasterVolume();\r\n        }\r\n    };\r\n\r\n    // 配列データからサウンドを作成・登録\r\n    T2MediaLib.prototype.createSoundFromArray = function(idx, array1, array2) {\r\n        if (!this.context || this.disabled) {\r\n            return null;\r\n        }\r\n        this.soundDataAry[idx] = new T2MediaLib_SoundData(idx);\r\n\r\n        var ctx = this.context;\r\n        var numOfChannels = array1 != null && array2 != null ? 2 : 1;\r\n        var audioBuffer = ctx.createBuffer(numOfChannels, array1.length, ctx.sampleRate);\r\n        var buffer1 = audioBuffer.getChannelData(0);\r\n        var buffer2 = array2 != null ? audioBuffer.getChannelData(1) : null;\r\n        var i;\r\n        for (i = 0; i < array1.length ; i++) {\r\n             buffer1[i] = array1[i];\r\n        }\r\n        if (buffer2) {\r\n            for (i = 0; i < array2.length ; i++) {\r\n                 buffer2[i] = array2[i];\r\n            }\r\n        }\r\n        this.soundDataAry[idx].onDecodeComplete(audioBuffer);\r\n    };\r\n    // サウンドの読み込み・登録\r\n    T2MediaLib.prototype.loadSound = function(idx, url, callbacks, isLoadAndDecode) { //@hoge1e3\r\n        if (!this.context || this.disabled) {\r\n            return null;\r\n        }\r\n\r\n        this.soundDataAry[idx] = new T2MediaLib_SoundData(idx);\r\n\r\n        // midiがあったらpicoAudioを準備しておく\r\n        if (url.match(/\\.(midi?)$/) || url.match(/^data:audio\\/mid/)) {\r\n            if (this.picoAudio == null) {\r\n                this.picoAudio = new PicoAudio({\r\n                    audioContext: this.context,\r\n                    isSkipBeginning: true,\r\n                    initReverb: 0\r\n                });\r\n            }\r\n        }\r\n        if (typeof WebSite==\"object\" && WebSite.mp3Disabled) {\r\n            url=url.replace(/\\.(mp3)$/,\".ogg\");\r\n        }\r\n        if (typeof WebSite==\"object\" && WebSite.mp4Disabled) {\r\n            url=url.replace(/\\.(mp4|m4a)$/,\".ogg\");\r\n        }\r\n        var that = this;\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.onload = function() {\r\n            if (xhr.status === 200 || xhr.status === 0 /*@hoge1e3 for node-webkit base64url */) {\r\n                var arrayBuffer = xhr.response;\r\n                if (arrayBuffer instanceof ArrayBuffer) {\r\n                    that.soundDataAry[idx].onLoadComplete(arrayBuffer);\r\n                    if (isLoadAndDecode) { // ロードとデコードをする\r\n                        that.decodeSound(idx, callbacks);\r\n                    } else { // ロードのみ\r\n                        if (callbacks && callbacks.succ) callbacks.succ(idx);\r\n                    }\r\n                } else {\r\n                    that.soundDataAry[idx].onError(\"XHR_RESPONSE_ERROR\");\r\n                    if (callbacks && callbacks.err) callbacks.err(idx,that.soundDataAry[idx].errorID);\r\n                }\r\n            } else {\r\n                that.soundDataAry[idx].onError(\"XHR_STATUS_ERROR\");\r\n                if (callbacks && callbacks.err) callbacks.err(idx,that.soundDataAry[idx].errorID);\r\n            }\r\n        };\r\n        xhr.onerror=function (e) {\r\n            console.log(e+\"\");\r\n            that.soundDataAry[idx].onError(\"XHR_ERROR\");\r\n            if (callbacks && callbacks.err) callbacks.err(idx,that.soundDataAry[idx].errorID);\r\n        };\r\n\r\n        this.soundDataAry[idx].onLoad(url);\r\n        if (url.match(/^data:/) && typeof Util!==\"undefined\" && Util.Base64_To_ArrayBuffer) {//@hoge1e3\r\n            xhr={onload:xhr.onload};\r\n            xhr.response=Util.Base64_To_ArrayBuffer( url.replace(/^data:audio\\/[a-zA-Z0-9\\-]+;base64,/i,\"\"));\r\n            xhr.status=200;\r\n            xhr.onload();\r\n        } else {\r\n            try {\r\n                url=window.Tonyu.urlTrailer.put(url);\r\n            } catch (e){}\r\n            xhr.open('GET', url, true);\r\n            xhr.responseType = 'arraybuffer';\r\n            try {\r\n                xhr.send(null);\r\n            } catch(e) {\r\n                this.soundDataAry[idx].onError(\"FILE_NOT_FOUND\");\r\n                if (callbacks && callbacks.err) callbacks.err(idx,that.soundDataAry[idx].errorID);\r\n            }\r\n        }\r\n    };\r\n    // サウンドのデコード\r\n    T2MediaLib.prototype.decodeSound = function(idx, callbacks) {\r\n        var soundData = this.soundDataAry[idx];\r\n        if (soundData == null) return;\r\n        if (soundData.fileData == null) return;\r\n        if (!soundData.isLoadComplete()) return;\r\n        if (soundData.isDecodeComplete()) return;\r\n\r\n        // Adding Callback\r\n        if (soundData.decodedCallbacksAry == null) {\r\n            soundData.decodedCallbacksAry = []; // 複数コールバックを呼べるようにする\r\n        }\r\n        if (callbacks) {\r\n            if (callbacks.bgmPlayerId != null) { // 同じbgmPlayerIdのcallbacksがあれば上書きする(処理軽量化)\r\n                var exists = soundData.decodedCallbacksAry.some(function(c, i) {\r\n                    if (callbacks.bgmPlayerId == c.bgmPlayerId) {\r\n                        soundData.decodedCallbacksAry[i] = callbacks;\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                });\r\n                if (!exists) {\r\n                    soundData.decodedCallbacksAry.push(callbacks);\r\n                }\r\n            } else {\r\n                soundData.decodedCallbacksAry.push(callbacks);\r\n            }\r\n        }\r\n\r\n        if (soundData.isDecoding()) return;\r\n        soundData.onDecode();\r\n        var arrayBuffer = soundData.fileData.slice(0);\r\n        var that = this;\r\n        if (soundData.url.match(/\\.(midi?)$/) || soundData.url.match(/^data:audio\\/mid/)) {\r\n            // Midi\r\n            // PicoAudio.jsにデコードしてもらう\r\n            if (this.picoAudio == null) {\r\n                this.picoAudio = new PicoAudio({\r\n                    audioContext: this.context,\r\n                    isSkipBeginning: true,\r\n                    initReverb: 0\r\n                });\r\n            }\r\n            var smf = new Uint8Array(arrayBuffer);\r\n            var data = this.picoAudio.parseSMF(smf);\r\n            if (typeof data == \"string\") { // parseSMF Error\r\n                console.log('T2MediaLib: Error parseSMF()', data);\r\n                this.soundDataAry[idx].onError(\"DECODE_ERROR\");\r\n                soundData.decodedCallbacksAry.forEach(function(callbacks) {\r\n                    if (typeof callbacks.err == \"function\") {\r\n                        callbacks.err(idx, this.soundDataAry[idx].errorID);\r\n                    }\r\n                });\r\n                soundData.decodedCallbacksAry = null;\r\n            } else {\r\n                this.soundDataAry[idx].onDecodeComplete(data);\r\n                soundData.decodedCallbacksAry.forEach(function(callbacks) {\r\n                    if (typeof callbacks.succ == \"function\") {\r\n                        callbacks.succ(idx);\r\n                    }\r\n                });\r\n                soundData.decodedCallbacksAry = null;\r\n            }\r\n        } else if (soundData.url.match(/\\.mzo$/) || soundData.url.match(/^data:audio\\/mzo/)) {\r\n            //console.log(\"Loading mzo\");\r\n            // MZO\r\n            Mezonet.init().then(function () {\r\n                var a=Array.prototype.slice.call( new Uint8Array(arrayBuffer) );\r\n                that.soundDataAry[idx].onDecodeComplete(new Mezonet.Source(a));\r\n                soundData.decodedCallbacksAry.forEach(function(callbacks) {\r\n                    if (typeof callbacks.succ == \"function\") {\r\n                        callbacks.succ(idx);\r\n                    }\r\n                });\r\n                soundData.decodedCallbacksAry = null;\r\n            },function (error) {\r\n                if (error instanceof Error) {\r\n                    console.log('T2MediaLib: '+error.message, soundData.url);//@hoge1e3\r\n                } else {\r\n                    console.log('T2MediaLib: Error decodeMZO()', soundData.url);//@hoge1e3\r\n                }\r\n                that.soundDataAry[idx].onError(\"DECODE_ERROR\");\r\n                soundData.decodedCallbacksAry.forEach(function(callbacks) {\r\n                    if (typeof callbacks.err == \"function\") {\r\n                        callbacks.err(idx, that.soundDataAry[idx].errorID);\r\n                    }\r\n                });\r\n                soundData.decodedCallbacksAry = null;\r\n            });\r\n            /*var m=new Mezonet(this.context,a);//,{wavOutSpeed:50});\r\n            //m.load(a);\r\n            m.init().then(function (res) {\r\n                // デコード中にremoveDecodeSoundData()したらデータを捨てる\r\n                switch(res.playbackMode.type) {\r\n                case \"Mezonet\":\r\n                that.soundDataAry[idx].onDecodeComplete(m);\r\n                break;\r\n                case \"AudioBuffer\":\r\n                //console.log(idx, res.decodedData);\r\n                that.soundDataAry[idx].onDecodeComplete(res.decodedData);\r\n                break;\r\n                }\r\n                soundData.decodedCallbacksAry.forEach(function(callbacks) {\r\n                    if (typeof callbacks.succ == \"function\") {\r\n                        callbacks.succ(idx);\r\n                    }\r\n                });\r\n                soundData.decodedCallbacksAry = null;\r\n            },function (error) {\r\n                if (error instanceof Error) {\r\n                    console.log('T2MediaLib: '+error.message, soundData.url);//@hoge1e3\r\n                } else {\r\n                    console.log('T2MediaLib: Error decodeMZO()', soundData.url);//@hoge1e3\r\n                }\r\n                that.soundDataAry[idx].onError(\"DECODE_ERROR\");\r\n                soundData.decodedCallbacksAry.forEach(function(callbacks) {\r\n                    if (typeof callbacks.err == \"function\") {\r\n                        callbacks.err(idx, that.soundDataAry[idx].errorID);\r\n                    }\r\n                });\r\n                soundData.decodedCallbacksAry = null;\r\n            }).finally(function () {\r\n                m.terminate();\r\n            });*/\r\n        } else {\r\n            // MP3, Ogg, AAC, WAV\r\n\r\n            // Oggループタグ(LOOPSTART, LOOPLENGTH)をファイルから探す\r\n            if (soundData.url.match(/\\.(ogg?)$/) || soundData.url.match(/^data:audio\\/ogg/)) {\r\n                var retAry = this.searchOggLoop(arrayBuffer);\r\n                soundData.tagLoopStart = retAry[0];\r\n                soundData.tagLoopEnd = retAry[1];\r\n            }\r\n\r\n            var successCallback = function(audioBuffer) {\r\n                // デコード中にremoveDecodeSoundData()したらデータを捨てる\r\n                if (that.soundDataAry[idx].isDecoding()) {\r\n                    that.soundDataAry[idx].onDecodeComplete(audioBuffer);\r\n                    soundData.decodedCallbacksAry.forEach(function(callbacks) {\r\n                        if (typeof callbacks.succ == \"function\") {\r\n                            callbacks.succ(idx);\r\n                        }\r\n                    });\r\n                    soundData.decodedCallbacksAry = null;\r\n                }\r\n            };\r\n            var errorCallback = function(error) {\r\n                if (error instanceof Error) {\r\n                    console.log('T2MediaLib: '+error.message, soundData.url);//@hoge1e3\r\n                } else {\r\n                    console.log('T2MediaLib: Error decodeAudioData()', soundData.url);//@hoge1e3\r\n                }\r\n                that.soundDataAry[idx].onError(\"DECODE_ERROR\");\r\n                soundData.decodedCallbacksAry.forEach(function(callbacks) {\r\n                    if (typeof callbacks.err == \"function\") {\r\n                        callbacks.err(idx, that.soundDataAry[idx].errorID);\r\n                    }\r\n                });\r\n                soundData.decodedCallbacksAry = null;\r\n            };\r\n            this.context.decodeAudioData(arrayBuffer, successCallback, errorCallback);\r\n        }\r\n    };\r\n    // 無音サウンドを鳴らしWeb Audio APIを使えるようにする(iOS対策)\r\n    // Chrome Autoplay Policy 対策\r\n    T2MediaLib.prototype.activate = function () {\r\n        this.init();\r\n        if (!this.context) return;\r\n        if (!this.isContextResumed && this.context.resume) { // fix Autoplay Policy in Chrome\r\n            var that = this;\r\n            this.context.resume().then(function () {\r\n                that.isContextResumed = true;\r\n            });\r\n        }\r\n        if (this.isActivated) return;\r\n        this.isActivated=true;\r\n        var buffer = this.context.createBuffer(1, Math.floor(this.context.sampleRate/32), this.context.sampleRate);\r\n        var ary = buffer.getChannelData(0);\r\n        for (var i = 0; i < ary.length; i++) {\r\n             ary[i] = 0; // 無音化\r\n        }\r\n        var source = this.context.createBufferSource();\r\n        source.buffer = buffer;\r\n        source.connect(this.context.destination);\r\n        source.start = source.start || source.noteOn;\r\n        source.start(0);\r\n    };\r\n    // 指定したサウンドのファイルデータを返す\r\n    T2MediaLib.prototype.getSoundFileData = function(idx) {\r\n        var soundDataObj = this.soundDataAry[idx];\r\n        if (soundDataObj) {\r\n            return soundDataObj.fileData;\r\n        } else {\r\n            return null;\r\n        }\r\n    };\r\n    // 指定したサウンドのデコード済みデータを返す\r\n    T2MediaLib.prototype.getSoundDecodedData = function(idx) {\r\n        var soundDataObj = this.soundDataAry[idx];\r\n        if (soundDataObj) {\r\n            return soundDataObj.decodedData;\r\n        } else {\r\n            return null;\r\n        }\r\n    };\r\n    // AudioContextのcurrentTimeを返す\r\n    T2MediaLib.prototype.getCurrentTime = function () {//@hoge1e3\r\n        if (!this.context) return null;\r\n        return this.context.currentTime;\r\n    };\r\n\r\n    // SEメソッド郡 //\r\n\r\n    T2MediaLib.prototype.playSE = function(idx, vol, pan, rate, offset, loop, loopStart, loopEnd,start,duration) {//add start,duration by @hoge1e3\r\n        if (!this.context) return null;\r\n        var soundData = this.soundDataAry[idx];\r\n        if (soundData == null) return null;\r\n        if (!soundData.isDecodeComplete()) {\r\n            var that = this;\r\n            var callbacks = {};\r\n            callbacks.succ = function(idx) {\r\n                that.playSE(idx, vol, pan, rate, offset, loop, loopStart, loopEnd,start,duration);//@hoge1e3\r\n            };\r\n            callbacks.err = function() {\r\n            };\r\n            this.decodeSound(idx, callbacks);\r\n            return null;\r\n        }\r\n        if (isMezonetSource(soundData.decodedData)) {\r\n            var playback=soundData.decodedData.playback(this.context);\r\n            playback.Start({volume:typeof vol===\"number\"?vol:1});\r\n            return playback;\r\n        }\r\n\r\n        var audioBuffer = soundData.decodedData;\r\n        if (!(audioBuffer instanceof AudioBuffer)) return null;\r\n\r\n        // 引数チェック\r\n        if (vol == null) {\r\n            vol = 1.0;\r\n        }\r\n        if (pan == null) {\r\n            pan = 0.0;\r\n        }\r\n        if (!rate) rate = 1.0;\r\n        if (!offset) {\r\n            offset = 0;\r\n        } else {\r\n            if      (offset > audioBuffer.duration) offset = audioBuffer.duration;\r\n            else if (offset < 0.0) offset = 0.0;\r\n        }\r\n        var durationStart = duration;\r\n        if (!duration) {\r\n            //duration=undefined; // iOS9でduration==undefinedだとsource.start(start, offset, duration);でエラー発生する\r\n            durationStart = 86400; // Number.MAX_SAFE_INTEGERを入れてもiOS9ではエラー起きないけど、昔なんかの環境で数値大き過ぎるとエラーになって86400(24時間)に設定した気がする\r\n        }\r\n        if (!loop) loop = false;\r\n        if (!loopStart) {\r\n            loopStart = soundData.loopStart||0.0;\r\n        } else {\r\n            if      (loopStart < 0.0) loopStart = 0.0;\r\n            else if (loopStart > audioBuffer.duration) loopStart = audioBuffer.duration;\r\n        }\r\n        if (!loopEnd) {\r\n            loopEnd = audioBuffer.duration;\r\n        } else {\r\n            if      (loopEnd < 0.0) loopEnd = 0.0;\r\n            else if (loopEnd > audioBuffer.duration) loopEnd = audioBuffer.duration;\r\n        }\r\n        start=start||0;//@hoge1e3\r\n\r\n        var source = this.context.createBufferSource();\r\n        this.context.createGain = this.context.createGain || this.context.createGainNode;\r\n        var gainNode = this.context.createGain();\r\n        var panNode = this.context.createPanner();\r\n\r\n        source.buffer = audioBuffer;\r\n        source.loop = loop;\r\n        source.loopStart = loopStart;\r\n        source.loopEnd = loopEnd;//audioBuffer.duration;\r\n        source.playbackRate.value = rate;\r\n\r\n        // 音量＆パン設定\r\n        source.connect(gainNode);\r\n        gainNode.connect(panNode);\r\n        panNode.connect(this.context.destination);\r\n        panNode.panningModel = \"equalpower\";\r\n        if      (pan < -1.0) pan = -1.0;\r\n        else if (pan >  1.0) pan =  1.0;\r\n        var panAngle = pan * 90;\r\n        var panX = Math.sin(panAngle * (Math.PI / 180));\r\n        var panZ = -Math.cos(panAngle * (Math.PI / 180));\r\n        if (pan === -1.0 || pan === 1.0) panZ = 0; // 6.123233995736766e-17となるので0にしておく\r\n        if (panNode.positionX) {\r\n            panNode.positionX.value = panX;\r\n            panNode.positionY.value = 0;\r\n            panNode.positionZ.value = panZ;\r\n        } else {\r\n            panNode.setPosition(panX, 0, panZ);\r\n        }\r\n        // 左右どちらかにパンがよると、音量が大きくなるので半減する\r\n        //gainNode.gain.value = vol / (1 + Math.abs(pan));\r\n        // ↑パンはそいうものらしいので、音量はそのままにする\r\n        gainNode.gain.value = vol * this.seMasterVolume * this.masterVolume;\r\n\r\n        // ループ開始位置修正\r\n        var offset_adj;\r\n        if (loop && loopEnd - loopStart > 0 && offset > loopEnd) {\r\n            offset_adj = loopEnd;\r\n        } else {\r\n            offset_adj = offset;\r\n        }\r\n\r\n        // 変数追加\r\n        source.gainNode = gainNode;\r\n        source.volumeValue = vol;\r\n        source.panNode = panNode;\r\n        source.panValue = pan;\r\n        source.playStartTime = this.context.currentTime+start;//@hoge1e3\r\n        source.playOffset = offset_adj;\r\n        source.plusTime = offset_adj;\r\n\r\n        // 再生\r\n        source.start = source.start || source.noteOn;\r\n        source.stop  = source.stop  || source.noteOff;\r\n        source.start(start, offset, durationStart);\r\n        // iOS, Firefoxではloopがtrueのときdurationを指定しても止まらない\r\n        // iOSではstopを２回以上呼ぶと、InvalidStateErrorが発生するので注意\r\n        if (loop && duration != null) source.stop(start + duration);\r\n        var t=this;\r\n        t.seSources.push(source);\r\n        source.onended = function(event) {\r\n            source.onended = null;\r\n            var idx=t.seSources.indexOf(source);\r\n            if (idx>=0) t.seSources.splice(idx,1);\r\n        };\r\n        return source;\r\n    };\r\n    T2MediaLib.prototype.stopSE = function(sourceObj) {\r\n        if (!isAudioBufferSourceNode(sourceObj)) return null;\r\n        try {\r\n            sourceObj.stop(0);\r\n        } catch(e) { // iOS対策\r\n            // iOSではstopを２回以上呼ぶと、InvalidStateErrorが発生する\r\n            if (sourceObj.gainNode) {\r\n                sourceObj.gainNode.gain.cancelScheduledValues(this.context.currentTime);\r\n                sourceObj.gainNode.gain.linearRampToValueAtTime(0, this.context.currentTime);\r\n            }\r\n        }\r\n        return sourceObj;\r\n    };\r\n    T2MediaLib.prototype.stopAllSE = function(sourceObj) {\r\n        var t=this;\r\n        this.seSources.forEach(function (s) {\r\n            t.stopSE(s);\r\n        });\r\n    };\r\n    T2MediaLib.prototype.getSEMasterVolume = function() {\r\n        return this.seMasterVolume;\r\n    };\r\n    T2MediaLib.prototype.setSEMasterVolume = function(vol) {\r\n        this.seMasterVolume = vol;\r\n    };\r\n    T2MediaLib.prototype.getSEVolume = function(sourceObj) {\r\n        if (!isAudioBufferSourceNode(sourceObj)) return null;\r\n        return sourceObj.volumeValue;\r\n    };\r\n    T2MediaLib.prototype.setSEVolume = function(sourceObj, vol) {\r\n        if (!isAudioBufferSourceNode(sourceObj)) return null;\r\n        sourceObj.gainNode.gain.value = vol * this.seMasterVolume * this.masterVolume;\r\n        sourceObj.volumeValue = vol;\r\n        return sourceObj;\r\n    };\r\n    T2MediaLib.prototype.getSERate = function(sourceObj) {\r\n        if (!isAudioBufferSourceNode(sourceObj)) return null;\r\n        return sourceObj.playbackRate.value;\r\n    };\r\n    T2MediaLib.prototype.setSERate = function(sourceObj, rate) {\r\n        if (!isAudioBufferSourceNode(sourceObj)) return null;\r\n        sourceObj.playbackRate.value = rate;\r\n    };\r\n    T2MediaLib.prototype.getSEPan = function(sourceObj) {\r\n        if (!isAudioBufferSourceNode(sourceObj)) return null;\r\n        return sourceObj.panValue;\r\n    };\r\n    T2MediaLib.prototype.setSEPan = function(sourceObj, pan) {\r\n        if (!isAudioBufferSourceNode(sourceObj)) return null;\r\n        var panNode = sourceObj.panNode;\r\n        if      (pan < -1.0) pan = -1.0;\r\n        else if (pan >  1.0) pan =  1.0;\r\n        var panAngle = pan * 90;\r\n        var panX = Math.sin(panAngle * (Math.PI / 180));\r\n        var panZ = Math.cos(panAngle * (Math.PI / 180));\r\n        if (pan === -1.0 || pan === 1.0) panZ = 0; // 6.123233995736766e-17となるので0にしておく\r\n        if (panNode.positionX) {\r\n            panNode.positionX.value = panX;\r\n            panNode.positionY.value = 0;\r\n            panNode.positionZ.value = panZ;\r\n        } else {\r\n            panNode.setPosition(panX, 0, panZ);\r\n        }\r\n        sourceObj.panValue = pan;\r\n    };\r\n    T2MediaLib.prototype.isSELoop = function(sourceObj) {\r\n        if (!isAudioBufferSourceNode(sourceObj)) return null;\r\n        return sourceObj.loop;\r\n    };\r\n    T2MediaLib.prototype.setSELoop = function(sourceObj, loop) {\r\n        if (!isAudioBufferSourceNode(sourceObj)) return null;\r\n        sourceObj.loop = loop;\r\n    };\r\n    T2MediaLib.prototype.getSELoopStartTime = function(sourceObj) {\r\n        if (!isAudioBufferSourceNode(sourceObj)) return null;\r\n        return sourceObj.loopStart;\r\n    };\r\n    T2MediaLib.prototype.setSELoopStartTime = function(sourceObj, loopStart) {\r\n        if (!isAudioBufferSourceNode(sourceObj)) return null;\r\n        sourceObj.loopStart = loopStart;\r\n    };\r\n    T2MediaLib.prototype.getSELoopEndTime = function(sourceObj) {\r\n        if (!isAudioBufferSourceNode(sourceObj)) return null;\r\n        return sourceObj.loopEnd;\r\n    };\r\n    T2MediaLib.prototype.setSELoopEndTime = function(sourceObj, loopEnd) {\r\n        if (!isAudioBufferSourceNode(sourceObj)) return null;\r\n        sourceObj.loopEnd = loopEnd;\r\n    };\r\n\r\n    // BGMメソッド郡 //\r\n\r\n    T2MediaLib.prototype.playBGM = function(id, idx, loop, offset, loopStart, loopEnd) {\r\n        if (!this.context) return null;\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.playBGM(idx, loop, offset, loopStart, loopEnd);\r\n    };\r\n    T2MediaLib.prototype.stopBGM = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.stopBGM();\r\n    };\r\n    T2MediaLib.prototype.pauseBGM = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.pauseBGM();\r\n    };\r\n    T2MediaLib.prototype.resumeBGM = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.resumeBGM();\r\n    };\r\n    T2MediaLib.prototype.getBGMMasterVolume = function() {\r\n        return this.bgmMasterVolume;\r\n    };\r\n    T2MediaLib.prototype.setBGMMasterVolume = function(vol) {\r\n        this.bgmMasterVolume = vol;\r\n        for (var i=0; i<this.bgmPlayerMax; i++) {\r\n            var bgmPlayer = this.bgmPlayerAry[i];\r\n            if (!(bgmPlayer instanceof T2MediaLib_BGMPlayer)) continue;\r\n            bgmPlayer.onChangeBGMMasterVolume();\r\n        }\r\n    };\r\n    T2MediaLib.prototype.getBGMVolume = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.getBGMVolume();\r\n    };\r\n    T2MediaLib.prototype.setBGMVolume = function(id, vol) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.setBGMVolume(vol);\r\n    };\r\n    T2MediaLib.prototype.getBGMTempo = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.getBGMTempo();\r\n    };\r\n    T2MediaLib.prototype.setBGMTempo = function(id, tempo) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.setBGMTempo(tempo);\r\n    };\r\n    T2MediaLib.prototype.getBGMPan = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.getBGMPan();\r\n    };\r\n    T2MediaLib.prototype.setBGMPan = function(id, pan) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.setBGMPan(pan);\r\n    };\r\n    T2MediaLib.prototype.isBGMLoop = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.isBGMLoop();\r\n    };\r\n    T2MediaLib.prototype.setBGMLoop = function(id, loop) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.setBGMLoop(loop);\r\n    };\r\n    T2MediaLib.prototype.getBGMLoopStartTime = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.getBGMLoopStartTime();\r\n    };\r\n    T2MediaLib.prototype.setBGMLoopStartTime = function(id, loopStart) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.setBGMLoopStartTime(loopStart);\r\n    };\r\n    T2MediaLib.prototype.getBGMLoopEndTime = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.getBGMLoopEndTime();\r\n    };\r\n    T2MediaLib.prototype.setBGMLoopEndTime = function(id, loopEnd) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.setBGMLoopEndTime(loopEnd);\r\n    };\r\n    T2MediaLib.prototype.getBGMCurrentTime = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.getBGMCurrentTime();\r\n    };\r\n    T2MediaLib.prototype.getBGMLength = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.getBGMLength();\r\n    };\r\n    T2MediaLib.prototype.getPlayingBGMName = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.getPlayingBGMName();\r\n    };\r\n    T2MediaLib.prototype.setOnBGMEndListener = function(id, listener) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.setOnBGMEndListener(listener);\r\n    };\r\n    T2MediaLib.prototype.getPlayingBGMState = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.getPlayingBGMState();\r\n    };\r\n    T2MediaLib.prototype.getBGMPicoAudio = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.getBGMPicoAudio();\r\n    };\r\n    T2MediaLib.prototype.isTagLoop = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.isTagLoop();\r\n    };\r\n    T2MediaLib.prototype.setTagLoop = function(id, isTagLoop) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.setTagLoop(isTagLoop);\r\n    };\r\n    T2MediaLib.prototype.getBGMPlayerMax = function() {\r\n        return this.bgmPlayerMax;\r\n    };\r\n    T2MediaLib.prototype.allStopBGM = function() {\r\n        for (var i=0; i<this.bgmPlayerMax; i++) {\r\n            this.stopBGM(i);\r\n        }\r\n    };\r\n    T2MediaLib.prototype.allResetBGM = function() {\r\n        for (var i=0; i<this.bgmPlayerMax; i++) {\r\n            this.stopBGM(i);\r\n            this.setBGMVolume(i, 1.0);\r\n            this.setBGMTempo(i, 1.0);\r\n            this.setBGMPan(i, 0.0);\r\n        }\r\n        this.setMasterVolume(1.0);\r\n        this.setSEMasterVolume(1.0);\r\n        this.setBGMMasterVolume(1.0);\r\n    };\r\n    T2MediaLib.prototype._getBgmPlayer = function(id) {\r\n        if (id < 0 || this.bgmPlayerMax <= id) return null;\r\n        var bgmPlayer = this.bgmPlayerAry[id];\r\n        if (!(bgmPlayer instanceof T2MediaLib_BGMPlayer)) return null;\r\n        return bgmPlayer;\r\n    };\r\n\r\n    // Audioメソッド郡 //\r\n\r\n    T2MediaLib.prototype.loadAudio = function(idx, url) {\r\n        var audio = new Audio(url);\r\n        audio.play();\r\n\r\n        this.audioDataAry.data[idx] = null;\r\n\r\n        var that = this;\r\n        audio.addEventListener('loadstart', function() {\r\n            if (!that.context) return null;\r\n            var source = that.context.createMediaElementSource(audio);\r\n            source.connect(that.context.destination);\r\n        }, false);\r\n\r\n        audio.addEventListener('canplay', function() {\r\n            this.audioDataAry.data[idx] = audio;\r\n        }, false);\r\n\r\n        audio.load();\r\n\r\n    };\r\n    T2MediaLib.prototype.playAudio = function(idx, loop, startTime) {\r\n        var audio = this.audioDataAry.data[idx];\r\n        if (!audio) return null;\r\n        if (!startTime) startTime = 0;\r\n\r\n        if (this.playingAudio instanceof Audio) {\r\n            this.playingAudio.pause();\r\n            this.playingAudio.currentTime = 0;\r\n        }\r\n        this.playingAudio = audio;\r\n        audio.loop = loop;\r\n        audio.volume = this.audioVolume;\r\n        audio.currentTime = startTime;\r\n        audio.play();\r\n        return audio;\r\n    };\r\n    T2MediaLib.prototype.stopAudio = function() {\r\n        var audio = this.playingAudio;\r\n        if (!(audio instanceof Audio)) return null;\r\n        audio.pause();\r\n        audio.currentTime = 0;\r\n        this.playingAudio = null;\r\n        return audio;\r\n    };\r\n    T2MediaLib.prototype.pauseAudio = function() {\r\n        var audio = this.playingAudio;\r\n        if (!audio) return null;\r\n        audio.pause();\r\n        return audio;\r\n    };\r\n    T2MediaLib.prototype.resumeAudio = function() {\r\n        var audio = this.playingAudio;\r\n        if (!audio) return null;\r\n        audio.play();\r\n        return audio;\r\n    };\r\n    T2MediaLib.prototype.setAudioVolume = function(vol) {\r\n        this.audioVolume = vol;\r\n        if (this.playingAudio instanceof Audio) {\r\n            this.playingAudio.volume = vol;\r\n        }\r\n    };\r\n    T2MediaLib.prototype.setAudioTempo = function(tempo) {\r\n        this.audioTempo = tempo;\r\n        if (this.playingAudio instanceof Audio) {\r\n            this.playingAudio.playbackRate = tempo;\r\n        }\r\n    };\r\n    T2MediaLib.prototype.setAudioPosition = function(time) {\r\n        if (this.playingAudio instanceof Audio) {\r\n            this.playingAudio.currentTime = time;\r\n        }\r\n    };\r\n    T2MediaLib.prototype.getAudioData = function(idx) {\r\n        return this.audioDataAry.data[idx];\r\n    };\r\n    T2MediaLib.prototype.getAudioCurrentTime = function() {\r\n        if (!(this.playingAudio instanceof Audio)) return null;\r\n        return this.playingAudio.currentTime;\r\n    };\r\n    T2MediaLib.prototype.getAudioLength = function() {\r\n        if (!(this.playingAudio instanceof Audio)) return null;\r\n        return this.playingAudio.duration;\r\n    };\r\n\r\n    // Oggループタグ探す //\r\n    T2MediaLib.prototype.searchOggLoop = function(arrayBuffer) {\r\n        var buf = new Uint8Array(arrayBuffer.slice(0, 3000));\r\n        var str = String.fromCharCode.apply(null, buf);\r\n        var isVorbis = str.lastIndexOf(\"vorbis\", 0x22);\r\n        if (isVorbis == -1) return [0, 0]; // Vorbisではない場合、解析しない\r\n        var startIdx = str.indexOf(\"LOOPSTART=\");\r\n        var lengthIdx = str.indexOf(\"LOOPLENGTH=\");\r\n        var loopStart = 0;\r\n        var loopLength = 0;\r\n        var sampleRate = buf[40] + (buf[41]<<8) + (buf[42]<<16) + (buf[43]<<24);\r\n        var tagSize,i,c;\r\n        if (startIdx != -1) {\r\n            tagSize = buf[startIdx] + (buf[startIdx+1]<<8) + (buf[startIdx+2]<<16) + (buf[startIdx+3]<<24);\r\n            for (i=startIdx+10; i<startIdx+tagSize; i++) {\r\n                c = str[i];\r\n                if (c < '0' || c > '9') break;\r\n                loopStart = loopStart*10 + (c - '0');\r\n            }\r\n        }\r\n        if (lengthIdx != -1) {\r\n            tagSize = buf[lengthIdx] + (buf[lengthIdx+1]<<8) + (buf[lengthIdx+2]<<16) + (buf[lengthIdx+3]<<24);\r\n            for (i=lengthIdx+11; i<lengthIdx+tagSize; i++) {\r\n                c = str[i];\r\n                if (c < '0' || c > '9') break;\r\n                loopLength = loopLength*10 + (c - '0');\r\n            }\r\n        }\r\n        // 秒に変換\r\n        var loopEnd = (loopStart + loopLength) / sampleRate;\r\n        loopStart /= sampleRate;\r\n        return [loopStart, loopEnd];\r\n    };\r\n\r\n    return T2MediaLib;\r\n})();\r\n\r\n\r\n\r\nvar T2MediaLib_BGMPlayer = (function(){\r\n    function isPicoAudio(bgm) {\r\n        return typeof PicoAudio!==\"undefined\" && bgm instanceof PicoAudio;\r\n    }\r\n    function isMezonetSource(bgm) {\r\n        return typeof Mezonet!==\"undefined\" && bgm instanceof Mezonet.Source;\r\n    }\r\n    function isMezonetPlayback(bgm) {\r\n        return typeof Mezonet!==\"undefined\" && bgm instanceof Mezonet.Playback;\r\n    }\r\n    function isAudioBufferSourceNode(bgm) {\r\n        // return bgm instanceof AudioBufferSourceNode || bgm instanceof WebKitAudioBufferSourceNode; // 本来はこの処理にしたい\r\n        // Safari 14でAudioBufferSourceNodeがWebKitAudioBufferSourceNodeに変更されたように、\r\n        // WebAPIの名前変更は予測できないので、消去方で判定する\r\n        return bgm != null && !(isPicoAudio(bgm) || isMezonetSource(bgm) || isMezonetPlayback(bgm))\r\n    }\r\n    var T2MediaLib_BGMPlayer = function(t2MediaLib, arg_id) {\r\n        this.t2MediaLib = t2MediaLib;\r\n        this.id = arg_id;\r\n        this.playingBGMState = \"stop\";\r\n        this.playingBGMStatePending = null;\r\n        this.playingBGM = null;\r\n        this.playingBGMName = null;\r\n        this.bgmPause = 0;\r\n        this.bgmPauseTime = 0;\r\n        this.bgmPauseCurrentTime = 0;\r\n        this.bgmPauseTempo = 0;\r\n        this.bgmPauseLoop = false;\r\n        this.bgmPauseLoopStart = 0;\r\n        this.bgmPauseLoopEnd = 0;\r\n        this.bgmVolume = 1.0;\r\n        this.bgmTempo = 1.0;\r\n        this.bgmPan = 0.0;\r\n        this.picoAudio = null;//new PicoAudio(this.context);\r\n        this.picoAudioSetDataBGMName = null; // 前回のsetDataした曲を再び使う場合は、setDataを省略して軽量化する\r\n        this.PICO_AUDIO_VOLUME_COEF = 1;//0.2;\r\n        this.isTagLoop = true; // Ogg VorbisファイルにLOOPSTART,LOOPLENGTHのタグが入っている場合、再生時にそれを適用するか\r\n    };\r\n\r\n    // BGM関数郡 //\r\n\r\n    T2MediaLib_BGMPlayer.prototype.playBGM = function(idx, loop, offset, loopStart, loopEnd) {\r\n        this.stopBGM();\r\n\r\n        var soundData = this.t2MediaLib.soundDataAry[idx];\r\n        if (soundData == null) return null;\r\n        if (!soundData.isDecodeComplete()) {\r\n            var that = this;\r\n            var callbacks = {};\r\n            callbacks.bgmPlayerId = this.id;\r\n            callbacks.succ = function() {\r\n                var succFunc = function() {\r\n                    var pending = that.playingBGMStatePending; // 途中で値が変わるため保存\r\n                    that._setPlayingBGMState(\"stop\", true);\r\n                    if (pending != \"stop\" && that.playingBGMName == idx) {\r\n                        that.playBGM(idx, loop, offset, loopStart, loopEnd);\r\n                    }\r\n                    if (pending == \"pause\") {\r\n                        that.pauseBGM();\r\n                    }\r\n                };\r\n                var decodedData = soundData.decodedData;\r\n                if (decodedData instanceof Object) { // MIDI\r\n                    // MIDIの場合、デコード後はAudioContext.currenTimeの時間がとんで\r\n                    // 再生直後、瞬間的に早送り再生みたいになるので、playBGMを一旦処理を後回しにする\r\n                    setTimeout(function(){succFunc();}, 0);\r\n                } else { // MP3, Ogg, AAC, WAV\r\n                    succFunc();\r\n                }\r\n            };\r\n            callbacks.err = function() {\r\n                that._setPlayingBGMState(\"stop\", true);\r\n            };\r\n            this.playingBGMName = idx;\r\n            this._setPlayingBGMState(\"decoding\", true);\r\n            this._setPlayingBGMState(\"play\");\r\n            this.t2MediaLib.decodeSound(idx, callbacks);\r\n            return this;\r\n        }\r\n\r\n        var decodedData = soundData.decodedData;\r\n        if (isMezonetSource(decodedData)) {\r\n            var m=decodedData.playback(this.t2MediaLib.context);\r\n            this.playingBGM = m;\r\n            m.Start();\r\n        } else if (decodedData instanceof AudioBuffer) {\r\n            // MP3, Ogg, AAC, WAV\r\n            if (this.isTagLoop) {\r\n                loopStart = loopStart||soundData.tagLoopStart;\r\n                loopEnd = loopEnd||soundData.tagLoopEnd;\r\n            }\r\n            this.playingBGM = this.t2MediaLib.playSE(idx, this.bgmVolume, this.bgmPan, this.bgmTempo, offset, loop, loopStart, loopEnd);\r\n        } else if (decodedData instanceof Object) {\r\n            // Midi\r\n            this._initPicoAudio();\r\n            if (idx != this.picoAudioSetDataBGMName) {\r\n                this.picoAudio.setData(decodedData);\r\n                this.picoAudioSetDataBGMName = idx;\r\n            } else {\r\n                this.picoAudio.initStatus();\r\n            }\r\n            this.picoAudio.setLoop(loop);\r\n            this.picoAudio.setMasterVolume(this.PICO_AUDIO_VOLUME_COEF * this.bgmVolume *\r\n                 this.t2MediaLib.bgmMasterVolume * this.t2MediaLib.masterVolume);\r\n            if (!offset) {\r\n                offset = 0;\r\n            } else {\r\n                var bgmLengthTime = this.picoAudio.getTime(Number.MAX_SAFE_INTEGER);\r\n                if      (offset > bgmLengthTime) offset = bgmLengthTime;\r\n                else if (offset < 0.0) offset = 0.0;\r\n            }\r\n            this.picoAudio.setStartTime(offset);\r\n            this.picoAudio.play();\r\n            this.playingBGM = this.picoAudio;\r\n        }\r\n        this.playingBGMName = idx;\r\n        this.bgmPause = 0;\r\n        this._setPlayingBGMState(\"play\");\r\n        return this;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.stopBGM = function() {\r\n        var bgm = this.playingBGM;\r\n        if (isMezonetPlayback(bgm)){\r\n            bgm.Stop();\r\n        } else if (isPicoAudio(bgm)) {\r\n            // Midi\r\n            this.picoAudio.stop();\r\n        } else if (isAudioBufferSourceNode(bgm)) {\r\n            // MP3, Ogg, AAC, WAV\r\n            try {\r\n                bgm.stop(0);\r\n            } catch(e) { // iOS対策\r\n                // iOSではstopを２回以上呼ぶと、InvalidStateErrorが発生する\r\n                if (bgm.gainNode) {\r\n                    bgm.gainNode.gain.cancelScheduledValues(this.t2MediaLib.context.currentTime);\r\n                    bgm.gainNode.gain.linearRampToValueAtTime(0, this.t2MediaLib.context.currentTime);\r\n                }\r\n            }\r\n        }\r\n        this.playingBGM = null;\r\n        this.playingBGMName = null;\r\n        this._setPlayingBGMState(\"stop\");\r\n        return this;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.pauseBGM = function() {\r\n        var bgm = this.playingBGM;\r\n        if (isMezonetPlayback(bgm)){\r\n            bgm.pause();\r\n        } else if (isPicoAudio(bgm)) {\r\n            // Midi\r\n            if (this.bgmPause === 0) {\r\n                this.bgmPauseTime = this.getBGMCurrentTime();\r\n                this.bgmPauseCurrentTime = bgm.context.currentTime;\r\n                bgm.stop();\r\n                this.bgmPause = 1;\r\n            }\r\n        } else if (isAudioBufferSourceNode(bgm)) {\r\n            // MP3, Ogg, AAC, WAV\r\n            if (this.bgmPause === 0) {\r\n                this.bgmPauseTime = this.getBGMCurrentTime();\r\n                this.bgmPauseLoopStart = this.t2MediaLib.getSELoopStartTime(bgm);\r\n                this.bgmPauseLoopEnd = this.t2MediaLib.getSELoopEndTime(bgm);\r\n                this.bgmPauseLoop = this.t2MediaLib.isSELoop(bgm);\r\n                this.bgmPauseCurrentTime = bgm.context.currentTime;\r\n                this.bgmPauseTempo = this.bgmTempo;\r\n                try {\r\n                    bgm.stop(0);\r\n                } catch(e) { // iOS対策\r\n                    // iOSではstopを２回以上呼ぶと、InvalidStateErrorが発生する\r\n                    if (bgm.gainNode) {\r\n                        bgm.gainNode.gain.cancelScheduledValues(this.t2MediaLib.context.currentTime);\r\n                        bgm.gainNode.gain.linearRampToValueAtTime(0, this.t2MediaLib.context.currentTime);\r\n                    }\r\n                }\r\n                this.bgmPause = 1;\r\n            }\r\n        }\r\n        if (this.playingBGMState != \"stop\") {\r\n            this._setPlayingBGMState(\"pause\");\r\n        }\r\n        return this;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.resumeBGM = function() {\r\n        var bgm = this.playingBGM;\r\n        if (isMezonetPlayback(bgm)){\r\n            bgm.resume();\r\n        } else if (isPicoAudio(bgm)) {\r\n            // Midi\r\n            if (this.bgmPause === 1) {\r\n                bgm.play();\r\n                this.bgmPause = 0;\r\n            }\r\n        } else if (isAudioBufferSourceNode(bgm)) {\r\n            // MP3, Ogg, AAC, WAV\r\n            if (this.bgmPause === 1) {\r\n                bgm = this.playBGM(this.playingBGMName, this.bgmPauseLoop, this.bgmPauseTime, this.bgmPauseLoopStart, this.bgmPauseLoopEnd);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.onChangeBGMMasterVolume = function() {\r\n        this.setBGMVolume(this.getBGMVolume());\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.getBGMVolume = function() {\r\n        return this.bgmVolume;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.setBGMVolume = function(vol) {\r\n        var bgm = this.playingBGM;\r\n        this.bgmVolume = vol;\r\n        if (isMezonetPlayback(bgm)){\r\n            bgm.setVolume(vol);\r\n        } else if (isPicoAudio(bgm)) {\r\n            // Midi\r\n            this.picoAudio.setMasterVolume(this.PICO_AUDIO_VOLUME_COEF * vol * this.t2MediaLib.bgmMasterVolume * this.t2MediaLib.masterVolume);\r\n        } else if (isAudioBufferSourceNode(bgm)) {\r\n            // MP3, Ogg, AAC, WAV\r\n            bgm.gainNode.gain.value = vol * this.t2MediaLib.bgmMasterVolume * this.t2MediaLib.masterVolume;\r\n            //↓seMasterVolumeが音量に乗算されてしまう\r\n            //this.t2MediaLib.setSEVolume(bgm, vol);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.getBGMTempo = function() {\r\n        return this.bgmTempo;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.setBGMTempo = function(tempo) {\r\n        // MP3, Ogg, AAC, WAV\r\n        var bgm = this.playingBGM;\r\n\r\n        if (tempo <= 0 || isNaN(tempo)) tempo = 1;\r\n        if (isMezonetPlayback(bgm)){\r\n            bgm.setRate(tempo);\r\n            return this;\r\n        } else if (isAudioBufferSourceNode(bgm) && this.bgmPause === 0) {\r\n            bgm.plusTime -= (this.t2MediaLib.context.currentTime - bgm.playStartTime) * (tempo - this.bgmTempo);\r\n        }\r\n        this.bgmTempo = tempo;\r\n        this.t2MediaLib.setSERate(bgm, tempo);\r\n        return this;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.getBGMPan = function() {\r\n        return this.bgmPan;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.setBGMPan = function(pan) {\r\n        var bgm = this.playingBGM;\r\n        this.bgmPan = pan;\r\n        if (isAudioBufferSourceNode(bgm)) {\r\n            // MP3, Ogg, AAC, WAV\r\n            this.t2MediaLib.setSEPan(bgm, pan);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.isBGMLoop = function() {\r\n        var bgm = this.playingBGM;\r\n        if (isPicoAudio(bgm)) {\r\n            // Midi\r\n            return this.picoAudio.isLoop();\r\n        } else if (isAudioBufferSourceNode(bgm)) {\r\n            // MP3, Ogg, AAC, WAV\r\n            if (this.bgmPause === 1) {\r\n                return this.bgmPauseLoop;\r\n            } else {\r\n                return this.t2MediaLib.isSELoop(bgm);\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.setBGMLoop = function(loop) {\r\n        var bgm = this.playingBGM;\r\n        if (isPicoAudio(bgm)) {\r\n            // Midi\r\n            this.picoAudio.setLoop(loop);\r\n        } else if (isAudioBufferSourceNode(bgm)) {\r\n            // MP3, Ogg, AAC, WAV\r\n            if (this.bgmPause === 1) {\r\n                this.bgmPauseLoop = loop;\r\n            } else {\r\n                this.t2MediaLib.setSELoop(bgm, loop);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.getBGMLoopStartTime = function() {\r\n        var bgm = this.playingBGM;\r\n        if (isPicoAudio(bgm)) {\r\n            // Midi\r\n            return 0;\r\n        } else if (isAudioBufferSourceNode(bgm)) {\r\n            // MP3, Ogg, AAC, WAV\r\n            if (this.bgmPause === 1) {\r\n                return this.bgmPauseLoopStart;\r\n            } else {\r\n                return this.t2MediaLib.getSELoopStartTime(bgm);\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.setBGMLoopStartTime = function(loopStart) {\r\n        var bgm = this.playingBGM;\r\n        if (isAudioBufferSourceNode(bgm)) {\r\n            // MP3, Ogg, AAC, WAV\r\n            if (this.bgmPause === 1) {\r\n                this.bgmPauseLoopStart = loopStart;\r\n            } else {\r\n                return this.t2MediaLib.setSELoopStartTime(bgm, loopStart);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.getBGMLoopEndTime = function() {\r\n        var bgm = this.playingBGM;\r\n        if (isPicoAudio(bgm)) {\r\n            // Midi\r\n            return this.getBGMLength();\r\n        } else if (isAudioBufferSourceNode(bgm)) {\r\n            // MP3, Ogg, AAC, WAV\r\n            if (this.bgmPause === 1) {\r\n                return this.bgmPauseLoopEnd;\r\n            } else {\r\n                return this.t2MediaLib.getSELoopEndTime(bgm);\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.setBGMLoopEndTime = function(loopEnd) {\r\n        var bgm = this.playingBGM;\r\n        if (isAudioBufferSourceNode(bgm)) {\r\n            // MP3, Ogg, AAC, WAV\r\n            if (this.bgmPause === 1) {\r\n                this.bgmPauseLoopEnd = loopEnd;\r\n            } else {\r\n                return this.t2MediaLib.setSELoopEndTime(bgm, loopEnd);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.getBGMCurrentTime = function() {\r\n        var bgm = this.playingBGM;\r\n        var time;\r\n        if (isMezonetPlayback(bgm)){\r\n            return bgm.getTrackTime();\r\n        } else if (isPicoAudio(bgm)) {\r\n            // Midi\r\n            if (this.bgmPause === 0) {\r\n                time = this.picoAudio.context.currentTime - this.picoAudio.states.startTime;\r\n            } else {\r\n                time = this.bgmPauseTime;\r\n            }\r\n            return time;\r\n        } else if (isAudioBufferSourceNode(bgm)) {\r\n            // MP3, Ogg, AAC, WAV\r\n            var time2, currenTime, tempo, plusTime, minusTime, mod;\r\n\r\n            if (this.bgmPause === 0) {\r\n                currenTime = this.t2MediaLib.context.currentTime;\r\n                tempo = this.bgmTempo;\r\n            } else {\r\n                currenTime = this.bgmPauseCurrentTime;\r\n                tempo = this.bgmPauseTempo;\r\n            }\r\n\r\n            time2 = (currenTime - bgm.playStartTime) * tempo + bgm.plusTime;\r\n            if (bgm.loop) {\r\n                if (bgm.loopEnd - bgm.loopStart > 0) { // ループ範囲正常\r\n\r\n                    if (time2 < bgm.loopStart) { // ループ範囲前\r\n                        plusTime  = 0;\r\n                        minusTime = 0;\r\n                        mod = bgm.buffer.duration;\r\n                    } else { // ループ範囲内\r\n                        plusTime  = bgm.loopStart;\r\n                        minusTime = bgm.loopStart;\r\n                        mod = bgm.loopEnd - bgm.loopStart;\r\n                    }\r\n                } else { // ループ範囲マイナス（ループ無効）\r\n                    mod = bgm.buffer.duration;\r\n                    plusTime = 0;\r\n                    minusTime = 0;\r\n                }\r\n            }\r\n\r\n            if (bgm.loop) {\r\n                time = ((time2 - minusTime) % mod) + plusTime;\r\n            } else {\r\n                time = time2;\r\n                if (time > bgm.buffer.duration) time = bgm.buffer.duration;\r\n            }\r\n            return time;\r\n        }\r\n        return null;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.getBGMLength = function() {\r\n        var bgm = this.playingBGM;\r\n        if (isPicoAudio(bgm)) {\r\n            // Midi\r\n            return this.picoAudio.getTime(Number.MAX_SAFE_INTEGER);\r\n        } else if (isAudioBufferSourceNode(bgm)) {\r\n            // MP3, Ogg, AAC, WAV\r\n            return bgm.buffer.duration;\r\n        }\r\n        return null;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.getPlayingBGMName = function() {\r\n        return this.playingBGMName;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.setOnBGMEndListener = function(listener) {\r\n        if (this.picoAudio != null) {\r\n            this.picoAudio.setOnSongEndListener(listener);\r\n        }\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.getPlayingBGMState = function() {\r\n        return this.playingBGMState;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.getBGMPicoAudio = function() {\r\n        this._initPicoAudio();\r\n        return this.picoAudio;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.isTagLoop = function() {\r\n        return this.isTagLoop;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.setTagLoop = function(isTagLoop) {\r\n        this.isTagLoop = isTagLoop;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype._setPlayingBGMState = function(state, force) {\r\n        if (force || this.playingBGMState != \"decoding\") {\r\n            this.playingBGMState = state;\r\n            this.playingBGMStatePending = null;\r\n        } else {\r\n            this.playingBGMStatePending = state;\r\n        }\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype._initPicoAudio = function() {\r\n        if (this.picoAudio == null) {\r\n            if (this.id == 0) {\r\n                this.picoAudio = this.t2MediaLib.picoAudio; // 0番目はT2MediaLib.picoAudioを使いまわす（初期化に時間がかかるため）\r\n            }\r\n            if (this.picoAudio == null) {\r\n                // AudioContextオブジェクトがmax6つまで？なので使いまわす\r\n                this.picoAudio = new PicoAudio({\r\n                    audioContext: this.context,\r\n                    picoAudio: this.t2MediaLib.picoAudio,\r\n                    isSkipBeginning: true,\r\n                    initReverb: 0\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    return T2MediaLib_BGMPlayer;\r\n})();\r\n\r\n\r\n\r\nvar T2MediaLib_SoundData = (function(){\r\n    var T2MediaLib_SoundData = function(idx, url) {\r\n        // \"none\"    :データなし\r\n        // \"loading\" :読み込み中\r\n        // \"loaded\"  :読み込み完了\r\n        // \"decoding\":デコード中\r\n        // \"decoded\" :デコード完了\r\n        // \"error\"   :エラー\r\n        this.idx = idx;\r\n        this.state = \"none\";\r\n        this.errorID = null;\r\n        this.url = null;\r\n        this.fileData = null;\r\n        this.decodedData = null;\r\n        this.decodedCallbacksAry = null;\r\n        this.tagLoopStart = 0;\r\n        this.tagLoopEnd = 0;\r\n    };\r\n\r\n    T2MediaLib_SoundData.prototype.onLoad = function(url) {\r\n        this.state = \"loading\";\r\n        this.url = url;\r\n    };\r\n\r\n    T2MediaLib_SoundData.prototype.onLoadComplete = function(data) {\r\n        this.state = \"loaded\";\r\n        this.fileData = data;\r\n    };\r\n\r\n    T2MediaLib_SoundData.prototype.onDecode = function() {\r\n        this.state = \"decoding\";\r\n    };\r\n\r\n    T2MediaLib_SoundData.prototype.onDecodeComplete = function(data) {\r\n        this.state = \"decoded\";\r\n        this.decodedData = data;\r\n    };\r\n\r\n    T2MediaLib_SoundData.prototype.onError = function(errorID) {\r\n        this.state = \"error\";\r\n        this.errorID = errorID;\r\n    };\r\n\r\n    T2MediaLib_SoundData.prototype.isNone = function() {\r\n        return this.state == \"none\";\r\n    };\r\n\r\n    T2MediaLib_SoundData.prototype.isLoadComplete = function() {\r\n        switch(this.state) {\r\n            case \"loaded\":\r\n            case \"decoding\":\r\n            case \"decoded\":\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    T2MediaLib_SoundData.prototype.isDecoding = function() {\r\n        return this.state == \"decoding\";\r\n    };\r\n\r\n    T2MediaLib_SoundData.prototype.isDecodeComplete = function() {\r\n        return this.state == \"decoded\";\r\n    };\r\n\r\n    T2MediaLib_SoundData.prototype.removeDecodedData = function() {\r\n        this.state = \"loaded\";\r\n        this.decodedData = null;\r\n    };\r\n\r\n    return T2MediaLib_SoundData;\r\n})();\r\n// r.jsで連結されたファイル全体がfunction(){...var T2Media...}() で閉じられている場合，グローバルに展開．\r\nwindow.T2MediaLib=T2MediaLib;\r\nwindow.T2MediaLib_BGMPlayer=T2MediaLib_BGMPlayer;\r\nwindow.T2MediaLib_SoundData=T2MediaLib_SoundData;\r\n\ndefine(\"T2MediaLib\", (function (global) {\n    return function () {\n        var ret, fn;\n        return ret || global.T2MediaLib;\n    };\n}(this)));\n\ndefine('exceptionCatcher',[], function () {\r\n    var res={};\r\n    res.f=function (f) {\r\n        if (typeof f==\"function\") {\r\n            if (f.isTrcf) return f;\r\n            var r=function () {\r\n                if (res.handleException && !res.enter) {\r\n                    try {\r\n                        res.enter=true;\r\n                        return f.apply(this,arguments);\r\n                    } catch (e) {\r\n                        res.handleException(e);\r\n                    } finally {\r\n                        res.enter=false;\r\n                    }\r\n                } else {\r\n                    return f.apply(this,arguments);\r\n                }\r\n            };\r\n            r.isTrcf=true;\r\n            return r;\r\n        } else if(typeof f==\"object\") {\r\n            for (var k in f) {\r\n                f[k]=res.f(f[k]);\r\n            }\r\n            return f;\r\n        }\r\n    };\r\n    //res.handleException=function (){};\r\n    return res;\r\n});\ndefine('UI',[\"Util\",\"exceptionCatcher\"],function (Util, EC) {\r\n    var UI={};\r\n    var F=EC.f;\r\n    UI=function () {\r\n        var expr=[];\r\n        for (var i=0 ; i<arguments.length ; i++) {\r\n            expr[i]=arguments[i];\r\n        }\r\n        var listeners=[];\r\n        var $vars={};\r\n        var $edits=[];\r\n        var res=parse(expr);\r\n        res.$edits=$edits;\r\n        res.$vars=$vars;\r\n        $.data(res,\"edits\",$edits);\r\n        $.data(res,\"vars\",$vars);\r\n        $edits.load=function (model) {\r\n            $edits.model=model;\r\n            $edits.forEach(function (edit) {\r\n                $edits.writeToJq(edit.params.$edit, edit.jq);\r\n            });\r\n            $edits.validator.on.validate.call($edits.validator, $edits.model);\r\n        };\r\n        $edits.writeToJq=function ($edit, jq) {\r\n        \tvar m=$edits.model;\r\n            if (!m) return;\r\n            var name = $edit.name;\r\n            var a=name.split(\".\");\r\n            for (var i=0 ; i<a.length ;i++) {\r\n                m=m[a[i]];\r\n            }\r\n            m=$edit.type.toVal(m);\r\n            if (jq.attr(\"type\")==\"checkbox\") {\r\n                jq.prop(\"checked\",!!m);\r\n            } else {\r\n                jq.val(m);\r\n            }\r\n        };\r\n        $edits.validator={\r\n       \t\terrors:{},\r\n       \t\tshow: function () {\r\n       \t\t\tif ($vars.validationMessage) {\r\n       \t\t\t\t$vars.validationMessage.empty();\r\n       \t\t\t\tfor (var name in this.errors) {\r\n       \t\t\t\t\t$vars.validationMessage.append(UI(\"div\", this.errors[name].mesg));\r\n       \t\t\t\t}\r\n       \t\t\t}\r\n       \t\t\tif ($vars.OKButton) {\r\n       \t\t\t\tvar ok=true;\r\n       \t\t\t\tfor (var name in this.errors) {\r\n       \t\t\t\t\tok=false;\r\n       \t\t\t\t}\r\n       \t\t\t\t$vars.OKButton.attr(\"disabled\", !ok);\r\n       \t\t\t}\r\n       \t\t},\r\n       \t\ton: {\r\n       \t\t\tvalidate: function () {}\r\n       \t\t},\r\n       \t\taddError: function (name, mesg, jq) {\r\n       \t\t\tthis.errors[name]={mesg:mesg, jq:jq};\r\n       \t\t\tthis.show();\r\n       \t\t},\r\n       \t\tremoveError: function (name) {\r\n       \t\t\tdelete this.errors[name];\r\n       \t\t\tthis.show();\r\n       \t\t},\r\n       \t\tallOK: function () {\r\n       \t\t\tfor (var i in this.errors) {\r\n       \t\t\t\tdelete this.errors[i];\r\n       \t\t\t}\r\n       \t\t\tthis.show();\r\n       \t\t},\r\n       \t\tisValid: function () {\r\n       \t\t    var res=true;\r\n       \t\t    for (var i in this.errors) res=false;\r\n       \t\t    return res;\r\n       \t\t}\r\n        };\r\n        $edits.writeToModel=function ($edit, val ,jq) {\r\n            var m=$edits.model;\r\n        \t//console.log($edit, m);\r\n            if (!m) return;\r\n            var name = $edit.name;\r\n            try {\r\n                val=$edit.type.fromVal(val);\r\n            } catch (e) {\r\n            \t$edits.validator.addError(name, e, jq);\r\n            \t//$edits.validator.errors[name]={mesg:e, jq:jq};\r\n                //$edits.validator.change(name, e, jq);\r\n                return;\r\n            }\r\n            $edits.validator.removeError(name);\r\n            /*\r\n            if ($edits.validator.errors[name]) {\r\n                delete $edits.validator.errors[name];\r\n                $edits.validator.change(name, null, jq);\r\n            }*/\r\n            var a=name.split(\".\");\r\n            for (var i=0 ; i<a.length ;i++) {\r\n                if (i==a.length-1) {\r\n                    if ($edits.on.writeToModel(name,val)) {\r\n\r\n                    } else {\r\n                        m[a[i]]=val;\r\n                    }\r\n                } else {\r\n                    m=m[a[i]];\r\n                }\r\n            }\r\n            $edits.validator.on.validate.call($edits.validator, $edits.model);\r\n        };\r\n        $edits.on={};\r\n        $edits.on.writeToModel= function (name, val) {};\r\n\r\n        if (listeners.length>0) {\r\n            setTimeout(F(l),50);\r\n        }\r\n        function l() {\r\n            listeners.forEach(function (li) {\r\n                li();\r\n            });\r\n            setTimeout(F(l),50);\r\n        }\r\n        return res;\r\n        function parse(expr) {\r\n            if (expr instanceof Array) return parseArray(expr);\r\n            else if (typeof expr==\"string\") return parseString(expr);\r\n            else return expr;\r\n        }\r\n        function parseArray(a) {\r\n            var tag=a[0];\r\n            var i=1;\r\n            var res=$(\"<\"+tag+\">\");\r\n            if (typeof a[i]==\"object\" && !(a[i] instanceof Array) && !(a[i] instanceof $) ) {\r\n                parseAttr(res, a[i],tag);\r\n                i++;\r\n            }\r\n            while (i<a.length) {\r\n                res.append(parse(a[i]));\r\n                i++;\r\n            }\r\n            return res;\r\n        }\r\n        function parseAttr(jq, o, tag) {\r\n            if (o.$var) {\r\n                $vars[o.$var]=jq;\r\n            }\r\n            if (o.$edit) {\r\n                if (typeof o.$edit==\"string\") {\r\n                    o.$edit={name: o.$edit, type: UI.types.String};\r\n                }\r\n                if (!o.on) o.on={};\r\n                o.on.realtimechange=F(function (val) {\r\n                    $edits.writeToModel(o.$edit, val, jq);\r\n                });\r\n                if (!$vars[o.$edit.name]) $vars[o.$edit.name]=jq;\r\n                $edits.push({jq:jq,params:o});\r\n            }\r\n            for (var k in o) {\r\n                if (k==\"on\") {\r\n                    for (var e in o.on) on(e, o.on[e]);\r\n                } else if (k==\"css\" && o[k]!=null) {//ADDJSL\r\n                    jq.css(o[k]);\r\n                } else if (!Util.startsWith(k,\"$\") && o[k]!=null) {//ADDJSL\r\n                    jq.attr(k,o[k]);\r\n                }\r\n            }\r\n            function on(eType, li) {\r\n                if (!li) return; //ADDJSL\r\n                if (eType==\"enterkey\") {\r\n                    jq.on(\"keypress\",F(function (ev) {\r\n                        if (ev.which==13) li.apply(jq,arguments);\r\n                    }));\r\n                } else if (eType==\"realtimechange\") {\r\n                    var first=true, prev;\r\n                    listeners.push(function () {\r\n                        var cur;\r\n                        if (o.type==\"checkbox\") {\r\n                            cur=!!jq.prop(\"checked\");\r\n                        } else {\r\n                            cur=jq.val();\r\n                        }\r\n                        if (first || prev!=cur) {\r\n                            li.apply(jq,[cur,prev]);\r\n                            prev=cur;\r\n                        }\r\n                        first=false;\r\n                    });\r\n                } else {\r\n                    jq.on(eType, F(li));\r\n                }\r\n            }\r\n        }\r\n        function parseString(str) {\r\n            return $(document.createTextNode(str));\r\n            //return $(\"<span>\").text(str);\r\n        }\r\n    };\r\n    UI.types={\r\n       String: {\r\n           toVal: function (val) {\r\n               return val;\r\n           },\r\n           fromVal: function (val) {\r\n               return val;\r\n           }\r\n       },\r\n       Number: {\r\n           toVal: function (val) {\r\n               return val+\"\";\r\n           },\r\n           fromVal: function (val) {\r\n               return parseFloat(val);\r\n           }\r\n       }\r\n   };\r\n    return UI;\r\n});\r\n\ndefine('R',['require','exports','module','root'],function (require,exports,module) {\r\n/*\r\n$(\".dropdown-menu a\");\r\n$(\".dropdown-toggle\");\r\n*/\r\n    const root=require(\"root\");\r\n    const ja={\r\n        \"QuickUpload\": \"クイックアップロード\",\r\n        \"ClickToCompleteQuickUpload\": \"クイックアップロードを完了させる\",\r\n        \"reloadRequested\": \"依存関係に変更がありました．再読み込みが必要です．再読み込みを行いますか？\",\r\n        \"namespaceIsNotSet\": \"追加しようとしているプロジェクト'{1}'に名前空間が設定されていません．プロジェクト'{1}'を開いて，名前空間を設定してください．\",\r\n        \"namespaceIsSame\": \"追加しようとしているプロジェクト'{1}'の名前空間がこのプロジェクトと同じ'{2}'です．プロジェクト'{1}'を開いて，名前空間を変更してください．\",\r\n        \"alreadyHaveSameNamespace\": \"追加しようとしているプロジェクト'{1}'と同じ名前空間'{2}'のプロジェクトがすでに追加されています．\",\r\n        \"projectNotFound\": \"プロジェクト’{1}’は見つかりませんでした\",\r\n        \"addDependingProject\": \"参照するプロジェクトを追加\",\r\n        \"dependencyEditor\": \"ライブラリ管理\",\r\n        \"dependingProjects\": \"参照するプロジェクト\",\r\n        \"plugins\":\"プラグイン\",\r\n        \"depProejctPlaceholder\":\"プロジェクト名で検索\",\r\n        \"namespace\":\"名前空間\",\r\n        \"file\": \"ファイル\",\r\n        \"closeFile\": \"閉じる\",\r\n        \"removeFile\": \"削除\",\r\n        \"renameProject\": \"プロジェクト名を変更\",\r\n        \"removeProject\": \"このプロジェクト自身を削除\",\r\n        \"mapEditor2\": \"マップエディタ\",\r\n        \"mapEditor\": \"マップエディタ(旧)\",\r\n        \"searchFiles\": \"検索\",\r\n        \"imageList\": \"画像リスト\",\r\n        \"soundList\": \"音声リスト\",\r\n        \"projectOptions\": \"プロジェクト オプション\",\r\n        \"editorConfig\": \"エディタの設定\",\r\n        \"openFolder\": \"フォルダを開く\",\r\n        \"resetRunDialog\": \"実行ダイアログをリセット\",\r\n        \"exportAsHTML\": \"HTML生成\",\r\n        \"openHelpInThisWindow\": \"ヘルプ(この画面)\",\r\n        \"import\": \"インポート\",\r\n        \"tools\": \"ツール\",\r\n        \"window\":\"ウィンドウ\",\r\n        \"publish\": \"公開\",\r\n        \"help\": \"ヘルプ\",\r\n        \"openHelpWithNewTab\": \"ヘルプ(別ウィンドウ)\",\r\n        \"projects\": \"プロジェクト一覧\",\r\n        \"publisedProjects\": \"公開されているプロジェクト\",\r\n        \"WebSite\": \"Webサイト\",\r\n        \"showEditButton\": \"「Edit」ボタンを設置する(ブラウザ版で編集可能になります)\",\r\n        \"editorFontSize\": \"エディタの文字の大きさ\",\r\n        \"inputFileName\": \"ファイル名を入力してください\",\r\n        \"newFile\": \"新規作成\",\r\n        \"renameFile\": \"名前変更\",\r\n        \"refactorClassName\": \"プログラム中のクラス名も変更する\",\r\n        \"someFilesHaveErrorOnRefactor\": \"プログラム内にエラーがあります．エラーを修正するか，「プログラム中のクラス名も変更する」のチェックを外してもう一度やり直してください．\",\r\n        \"namingNotice\": \"名前は，半角英数字とアンダースコア(_)のみが使えます．先頭は英大文字にしてください．\",\r\n        \"autoReload\": \"自動再実行\",\r\n        \"stop\": \"停止(F2)\",\r\n        \"selectMain\": \"実行するファイルを選択...\",\r\n        \"createAtLeastOneFile\": \"ファイルを作成してください\",\r\n        \"inputNewProjectName\": \"新しいプロジェクトの名前を入れてください\",\r\n        \"unknown\": \"不明\",\r\n        \"jumpToErrorPosition\": \"エラー箇所に移動\",\r\n        \"error\": \"エラー\",\r\n        \"showTrace\": \"トレース表示\",\r\n        \"generateSingleHTML\": \"HTML生成\",\r\n        \"thisIsExecutableInSingleHTML\": \"このHTMLをcodepenなどのJS共有サイトに張り付けて実行できます．\",\r\n        \"runnableInIE11\": \"Internet Explorer 11でも動作させる（一部機能が使えない可能性があります）\",\r\n        \"globalVariables\": \"グローバル変数\",\r\n        \"theseGlobalVariablesAreInitializedOnStart\": \"実行時に，これらのグローバル変数が指定した値に初期化されます．\",\r\n        \"variablesShouldBeStringOrJSON\": \"「値」欄には文字列またはJSON形式で記入してください．\",\r\n        \"save\": \"保存\",\r\n        \"varableName\": \"グローバル変数名\",\r\n        \"value\": \"値\",\r\n        \"varableNameShouldBeAlphabetOrNumber\": \"変数名には半角英数字を使ってください\",\r\n        \"cannotBeParsedAsValue\": \"解釈できない値です．この値をそのまま文字列として登録したい場合，前後をダブルクォーテーションで囲ってください．\\n\",\r\n        \"ifYouWantContainDoubleQuoteAsTheValue\": \"ダブルクォーテーション自身を文字列に含める場合は \\\\\\\" と書いてください．\\n\",\r\n        \"ifYouWantContainBackslash\": \"\\\\自身を文字列に含める場合は \\\\\\\\ と書いてください．\\n\",\r\n        \"imageDetails\": \"画像詳細\",\r\n        \"singlePicture\": \"１枚絵\",\r\n        \"rowsAndColumns\": \"分割数指定：\",\r\n        \"chipWidthAndHeight\": \"1パターンの大きさ指定：\",\r\n        \"compatibleWithTonyu1\": \"Tonyu1互換\",\r\n        \"parse\": \"解析\",\r\n        \"chipNo\": \"パターン番号:\",\r\n        \"dragImageFilesHere\": \"ここに画像ファイル(png/gif/jpg)をドラッグ＆ドロップして追加\",\r\n        \"name\": \"名前\",\r\n        \"sizePerChip\": \"1個の大きさ\",\r\n        \"add\": \"追加\",\r\n        \"ok\": \"完了\",\r\n        \"importFromHTML\": \"HTMLからインポート\",\r\n        \"overwriteFolder\": \"フォルダを上書きする\",\r\n        \"selectOtherFolder\": \"他のフォルダを選択する\",\r\n        \"pasteHTMLHere\": \"ここにHTMLを貼り付けます\",\r\n        \"inputFolderPathForImport\": \"インポート先のフォルダを入力してください\",\r\n        \"startImport\": \"インポート開始\",\r\n        \"overwriteTheseFiles\": \"これらのファイルを上書きする\",\r\n        \"openTheProjectWithoutOverwrite\": \"上書きせずプロジェクトを開く\",\r\n        \"followingFilesWillBeOverwritten\": \"次のファイルは上書きされます\",\r\n        \"ovr\": \"上書\",\r\n        \"new\": \"新規\",\r\n        \"importComplete\": \"インポート完了\",\r\n        \"selectMainClass\": \"実行するクラスを選択\",\r\n        \"run\": \"実行\",\r\n        \"newProject\": \"新規プロジェクト\",\r\n        \"newProjectName\": \"プロジェクト名\",\r\n        \"parentFolder\": \"親フォルダ\",\r\n        \"willCreateAt\": \"作成先フォルダ：\",\r\n        \"inputProjectName\": \"名前を入力してください\",\r\n        \"folderExists\": \"このフォルダはすでに存在します\",\r\n        \"rename\": \"名前変更\",\r\n        \"downloadAsZip\": \"ZIPダウンロード\",\r\n        \"delete\": \"削除\",\r\n        \"deleteProject\": \"プロジェクトの削除\",\r\n        \"downloadAsZipBeforeDeletion\": \"削除前にZIPでダウンロードする\",\r\n        \"yes\": \"はい\",\r\n        \"no\": \"いいえ\",\r\n        \"compiler\": \"コンパイラ\",\r\n        \"diagMode\": \"診断モード(速度が落ちますが，プログラムの不具合を見つけやすくします)\",\r\n        \"disableInfiniteLoopCheck\": \"無限ループチェックをしない（チェックすると速度が速くなることがあります）\",\r\n        \"requireFieldDeclaration\": \"フィールド宣言を明示的に行う(var n; のような宣言が必要になります)\",\r\n        \"defaultSuperClass\": \"デフォルトの親クラス\",\r\n        \"runtimes\": \"実行\",\r\n        \"mainClass\": \"Main クラス\",\r\n        \"bootClass\": \"Boot クラス\",\r\n        \"edit\": \"編集...\",\r\n        \"done\": \"完了\",\r\n        \"thisFileCannotBeAdded\": \"このファイルは追加できません：\\n\",\r\n        \"resourceFileExists\": \"同じ名前のファイルが既に登録されています：\\n\",\r\n        \"image\": \"画像\",\r\n        \"sound\": \"音声\",\r\n        \"find\": \"検索\",\r\n        \"wordToFind\": \"検索語\",\r\n        \"showAllProjects\": \"すべて見る...\",\r\n        \"thisFolderShouldBeUploadedToWebServer\": \"このフォルダは、Webサーバにアップロードしないと正常に動作しない可能性があります。\\n\",\r\n        \"seeRuntime\": \"詳しくは\\nhttps://www.tonyu.jp/tonyu2/runtime.html\\nを御覧ください。\\n\",\r\n        \"createExecutable\": \"ランタイム作成\",\r\n        \"howToOutput\": \"出力方法\",\r\n        \"saveExecutableAsZip\": \"ZIP圧縮したものを保存する\",\r\n        \"uploadToProjectBoard\": \"プロジェクトボードにアップロードする\",\r\n        \"saveExecutableAtFolder\": \"次のフォルダに出力：\",\r\n        \"executableOptions\": \"オプション\",\r\n        \"RunInIE11\": \"Internet Explorer 11でも動作させる（一部機能が使えない可能性があります）\",\r\n        \"attachSourceFiles\": \"ソースを添付する\",\r\n        \"ifSourceFilesAreAttached\": \"ソースを添付すると，アップロードしたファイルを\",\r\n        \"ItCanBeEditableInProjectBoard\": \"プロジェクトボード上で直接編集できます．\",\r\n        \"youCanPublishThisExecutableAsWebApplicationBy\": \"次のいずれかの方法でWebアプリとして公開することができます。\",\r\n        \"uploadTheFolderIntoYourWebSite\": \"フォルダをお手持ちのWebサーバにアップロードする\",\r\n        \"uploadZippedFileInto\": \"上のフォルダをZIPで圧縮したものを\",\r\n        \"projectBoard\": \"プロジェクトボード\",\r\n        \"afterProjectBoard\": \"にアップロードする\",\r\n        \"executableCreated\": \"ランタイムを作成しました。\",\r\n        \"uploadTheExtractedFolderIntoYourWebSite\": \"解凍したフォルダをお手持ちのWebサーバにアップロードする\",\r\n        \"uploadTheZipFileInto\": \"保存したZIPファイルを\",\r\n        \"uploadHasNotBeenDoneYet\": \"まだアップロードは完了していません\",\r\n        \"youHaveToDescribeAboutThisVersion\": \"新規バージョンページ\",\r\n        \"toCompleteTheUpload\": \"に必要事項を記入して，アップロードを完了させてください\",\r\n        \"infiniteLoopDetected\": \"無限ループをストップしました。\\n\",\r\n        \"youCanConfigureAboutInfinteLoopDetection\": \"   プロジェクト オプションで無限ループチェックの有無を設定できます。\\n\",\r\n        \"seeProjectOption\": \"   [参考]https://edit.tonyu.jp/doc/options.html\\n\",\r\n        \"importingFromZip\": \"Zipからインポート中です...\",\r\n        \"importFromZip\": \"Zipからインポート\",\r\n        \"confirm\": \"確認\",\r\n        \"cancel\": \"キャンセル\",\r\n        \"input\": \"入力\",\r\n        \"fileExists\": \"ファイル{1}は存在します\",\r\n        \"fileExistsInOtherFolder\": \"ファイル{1}が他のフォルダに存在します\",\r\n        \"deleteFileConfirm\": \"{1}を削除しますか？\",\r\n        \"duplicatedFiles\": \"{1} ⇒ {2}({3}) と重複\\n\",\r\n        \"cannotUseFolderManagedByProject\":\"{1}はプロジェクトで管理されているフォルダなので，クラスを作成することはできません．\",\r\n        \"cannotUseKernelFiles\": \"{1}はシステムで利用されているフォルダなので使用できません\",\r\n        \"upCased\": \"先頭を大文字({1}) にして作成します．\",\r\n        \"resouceList\": \"{1}リスト\",\r\n        \"dragFileHere\": \"ここに{1}ファイル({2})をドラッグ＆ドロップして追加\",\r\n        \"storageUsage\": \"{1}KB中{2}KB使用中．\",\r\n        \"unzipping\": \"{1}を展開中...\",\r\n        \"doesNotContainTonyu2Project\": \"{1}にはTonyu2の編集可能なプロジェクトが含まれていません.\",\r\n        \"checking\": \"{1}をチェック中...\",\r\n        \"downloadFromProjectBoard\":\"プロジェクトボードから{1}をダウンロード....\",\r\n        \"copying\": \"{1}から{2}にコピー\",\r\n        \"runtimeCreatedAt\":\"ランタイムを作成しました：\",\r\n        \"uploadFailed\":\"アップロード失敗: {1}\",\r\n        \"duplicateGlobalVariable\": \"変数名'{1}'が重複しています．\",\r\n        \"invalidGlobalVariableName\": \"変数名'{1}'はグローバル変数名として使えません．\",\r\n        \"runClass\": \"{1}を実行\",\r\n        \"ThisFolderWillBeCreated\": \"このフォルダは新規作成されます．\",\r\n        \"pluginAddedAndRestart\":\"必要なプラグイン{1}を追加しました。もう一度実行してください\",\r\n        \"otherCommandInProgress\": \"他のコマンド({1})が実行されているのでお待ちください．\\n\"+\r\n            \"しばらくたってもこのメッセージが出る場合，一旦Homeに戻ってください．\",\r\n        \"deleteProjectConfirm\": \"{1}内のファイルをすべて削除しますか？削除する場合はDELETE と入力してください．\",\r\n        \"renamedProjectExists\": \"{1}はすでに存在します．\",\r\n        \"at\":\" 場所：\",\r\n        \"deleteProjectFromItem\":\"プロジェクト{1}を削除しますか？\",\r\n        \"destinationFolder\": \"フォルダ(省略可)\",\r\n        \"Open_URL\": \"別ウィンドウで開きます\",\r\n        \"UseRightClick\":\"※リンクが開かない場合、右クリックか長押しで新しいタブを開くか、URLをコピーしてください。\",\r\n        \"filenameMatched\": \"(ファイル名の一致)\",\r\n        \"noPushedPages\": \"loadPage()でページが正しく指定されていません。\",\r\n        \"noSuchPat\": \"キャラクタパターン用変数{1}は定義されていません。\",\r\n        \"invalidPatExpr\": \"キャラクタパターン{1}は存在しません。\",\r\n        \"openProjectInNewWindow\": \"別ウィンドウで開く\",\r\n    };\r\n    /*let buf=\"\";\r\n    for (let k of Object.keys(ja)) {\r\n        buf+=`\"${k}\" : \"${englishify(k)}\", //${ja[k]}\\n`;\r\n    }\r\n    console.log(buf);*/\r\n    const en={\r\n        \"reloadRequested\": \"Dependency changed. Reload?\",\r\n        \"namespaceIsNotSet\": \"No namespace is specified in project '{1}'. Open the project '{1}' and configure namespace.\",\r\n        \"namespaceIsSame\": \"The namespace of the project '{1}' is '{2}' which is same as this project. Open the project '{1}' and change the namespace\",\r\n        \"alreadyHaveSameNamespace\": \"Cannot add the project '{1}'. There is another project whose namespace is '{2}' in dependencies.\",\r\n        \"projectNotFound\": \"Project '{1}' did not found\",\r\n        //\"addDependingProject\": \"参照するプロジェクトを追加\",\r\n        //\"dependencyEditor\": \"ライブラリ管理\",\r\n        //\"dependingProjects\": \"参照するプロジェクト\",\r\n        //\"plugins\":\"プラグイン\",\r\n        \"depProejctPlaceholder\":\"Type project name\",\r\n        \"namespace\":\"namespace\",\r\n        \"file\" : \"File\", //ファイル\r\n        \"closeFile\" : \"Close File\", //閉じる\r\n        \"removeFile\" : \"Remove File\", //削除\r\n        \"renameProject\" : \"Rename Project\", //プロジェクト名を変更\r\n        \"removeProject\" : \"Remove Project\", //このプロジェクト自身を削除\r\n        \"mapEditor2\" : \"Map Editor\", //マップエディタ\r\n        \"mapEditor\" : \"Map Editor(old)\", //マップエディタ\r\n        \"searchFiles\" : \"Search Files\", //検索\r\n        \"imageList\" : \"Image List\", //画像リスト\r\n        \"soundList\" : \"Sound List\", //音声リスト\r\n        \"projectOptions\" : \"Project Options\", //プロジェクト オプション\r\n        \"editorConfig\" : \"Editor Config\", //エディタの設定\r\n        \"openFolder\" : \"Open Folder\", //フォルダを開く\r\n        \"resetRunDialog\" : \"Reset Run Dialog\", //実行ダイアログをリセット\r\n        \"exportAsHTML\" : \"Export as HTML\", //HTML生成\r\n        \"openHelpInThisWindow\" : \"Open Help in This Window\", //ヘルプ(この画面)\r\n        \"import\" : \"Import\", //インポート\r\n        \"tools\" : \"Tools\", //ツール\r\n        \"window\" : \"Window\", //ウィンドウ\r\n        \"publish\" : \"Publish\", //公開\r\n        \"help\" : \"Help\", //ヘルプ\r\n        \"openHelpWithNewTab\" : \"Open Help with New Tab\", //ヘルプ(別ウィンドウ)\r\n        \"projects\" : \"Projects\", //プロジェクト一覧\r\n        \"publisedProjects\" : \"Publised Projects\", //公開されているプロジェクト\r\n        \"WebSite\" : \" Web Site\", //Webサイト\r\n        \"showEditButton\" : \"Show Edit Button\", //「Edit」ボタンを設置する(ブラウザ版で編集可能になります)\r\n        \"editorFontSize\" : \"Editor Font Size\", //エディタの文字の大きさ\r\n        \"inputFileName\" : \"Input File Name\", //ファイル名を入力してください\r\n        \"newFile\" : \"New File\", //新規作成\r\n        \"renameFile\" : \"Rename File\", //名前変更\r\n        \"refactorClassName\" : \"Refactor Class Name\", //プログラム中のクラス名も変更する\r\n        \"someFilesHaveErrorOnRefactor\" : \"Error occured during Refactoring. Correct Error or uncheck 'Refactor Class Name'.\", //プログラム内にエラーがあります．エラーを修正するか，「プログラム中のクラス名も変更する」のチェックを外してもう一度やり直してください．\r\n        \"namingNotice\" : \"Alphabets, Numbers or Underscores can be used as a name.\", //名前は，半角英数字とアンダースコア(_)のみが使えます．先頭は英大文字にしてください．\r\n        \"autoReload\" : \"Auto Reload\", //自動再実行\r\n        \"stop\" : \"Stop\", //停止(F2)\r\n        \"selectMain\" : \"Select Main\", //実行するファイルを選択...\r\n        \"createAtLeastOneFile\" : \"Create at Least One File\", //ファイルを作成してください\r\n        \"inputNewProjectName\" : \"Input New Project Name\", //新しいプロジェクトの名前を入れてください\r\n        \"unknown\" : \"Unknown\", //不明\r\n        \"jumpToErrorPosition\" : \"Jump To Error Position\", //エラー箇所に移動\r\n        \"error\" : \"Error\", //エラー\r\n        \"showTrace\" : \"Show Trace\", //トレース表示\r\n        \"generateSingleHTML\" : \"Generate Single HTML\", //HTML生成\r\n        \"thisIsExecutableInSingleHTML\" : \"This is Executable in Single HTML, can be pasted to codepen.io\", //このHTMLをcodepenなどのJS共有サイトに張り付けて実行できます．\r\n        \"runnableInIE11\" : \"Runnable in IE11\", //Internet Explorer 11でも動作させる（一部機能が使えない可能性があります）\r\n        \"globalVariables\" : \"Global Variables\", //グローバル変数\r\n        \"theseGlobalVariablesAreInitializedOnStart\" : \"The following Global Variables are Initialized on Startup\", //実行時に，これらのグローバル変数が指定した値に初期化されます．\r\n        \"variablesShouldBeStringOrJSON\" : \"Variables Should be String or JSON\", //「値」欄には文字列またはJSON形式で記入してください．\r\n        \"save\" : \"Save\", //保存\r\n        \"varableName\" : \"Varable Name\", //グローバル変数名\r\n        \"value\" : \"Value\", //値\r\n        \"varableNameShouldBeAlphabetOrNumber\" : \"Variable Name Should be Alphabet or Number\", //変数名には半角英数字を使ってください\r\n        \"cannotBeParsedAsValue\" : \"Cannot be Parsed as a Value. If you meant this is a plain string, surround it with double quotes.\", //解釈できない値です．この値をそのまま文字列として登録したい場合，前後をダブルクォーテーションで囲ってください．\r\n\r\n        \"ifYouWantContainDoubleQuoteAsTheValue\" : \"If You Want Contain Double Quote as The Value, write as \\\\\\\" \", //ダブルクォーテーション自身を文字列に含める場合は \\\" と書いてください．\r\n\r\n        \"ifYouWantContainBackslash\" : \"If You Want Contain Backslash, write as \\\\\\\\\", //\\自身を文字列に含める場合は \\\\ と書いてください．\r\n\r\n        \"imageDetails\" : \"Image Details\", //画像詳細\r\n        \"singlePicture\" : \"Single Picture\", //１枚絵\r\n        \"rowsAndColumns\" : \"Rows And Columns\", //分割数指定：\r\n        \"chipWidthAndHeight\" : \"Chip Width And Height\", //1パターンの大きさ指定：\r\n        \"compatibleWithTonyu1\" : \"Compatible With Tonyu1\", //Tonyu1互換\r\n        \"parse\" : \"Parse\", //解析\r\n        \"chipNo\" : \"Chip No.\", //パターン番号:\r\n        \"dragImageFilesHere\" : \"Drag Image Files Here\", //ここに画像ファイル(png/gif/jpg)をドラッグ＆ドロップして追加\r\n        \"name\" : \"Name\", //名前\r\n        \"sizePerChip\" : \"Size Per Chip\", //1個の大きさ\r\n        \"add\" : \"Add\", //追加\r\n        \"ok\" : \"Ok\", //完了\r\n        \"importFromHTML\" : \"Import From HTML\", //HTMLからインポート\r\n        \"overwriteFolder\" : \"Overwrite Folder\", //フォルダを上書きする\r\n        \"selectOtherFolder\" : \"Select Other Folder\", //他のフォルダを選択する\r\n        \"pasteHTMLHere\" : \"Paste HTML Here\", //ここにHTMLを貼り付けます\r\n        \"inputFolderPathForImport\" : \"Input Folder Path For Import\", //インポート先のフォルダを入力してください\r\n        \"startImport\" : \"Start Import\", //インポート開始\r\n        \"overwriteTheseFiles\" : \"Overwrite These Files\", //これらのファイルを上書きする\r\n        \"openTheProjectWithoutOverwrite\" : \"Open The Project Without Overwrite\", //上書きせずプロジェクトを開く\r\n        \"followingFilesWillBeOverwritten\" : \"Following Files Will be Overwritten\", //次のファイルは上書きされます\r\n        \"ovr\" : \"Ovr\", //上書\r\n        \"new\" : \"New\", //新規\r\n        \"importComplete\" : \"Import Complete\", //インポート完了\r\n        \"selectMainClass\" : \"Select Main Class\", //実行するクラスを選択\r\n        \"run\" : \"Run\", //実行\r\n        \"newProject\" : \"New Project\", //新規プロジェクト\r\n        \"newProjectName\" : \"New Project Name\", //プロジェクト名\r\n        \"parentFolder\" : \"Parent Folder\", //親フォルダ\r\n        \"willCreateAt\" : \"The project will be created At: \", //作成先フォルダ：\r\n        \"inputProjectName\" : \"Input Project Name\", //名前を入力してください\r\n        \"folderExists\" : \"Folder Exists\", //このフォルダはすでに存在します\r\n        \"rename\" : \"Rename\", //名前変更\r\n        \"downloadAsZip\" : \"Download as Zip\", //ZIPダウンロード\r\n        \"delete\" : \"Delete\", //削除\r\n        \"deleteProject\" : \"Delete Project\", //プロジェクトの削除\r\n        \"downloadAsZipBeforeDeletion\" : \"Download as Zip Before Deletion\", //削除前にZIPでダウンロードする\r\n        \"yes\" : \"Yes\", //はい\r\n        \"no\" : \"No\", //いいえ\r\n        \"compiler\" : \"Compiler\", //コンパイラ\r\n        \"diagMode\" : \"Diagnostic Mode\", //診断モード(速度が落ちますが，プログラムの不具合を見つけやすくします)\r\n        \"disableInfiniteLoopCheck\" : \"Disable Infinite Loop Check(Sometimes faster)\", //無限ループチェックをしない（チェックすると速度が速くなることがあります）\r\n        \"requireFieldDeclaration\" : \"Require Explicit Field Declaration(such as var n; )\", //フィールド宣言を明示的に行う(var n; のような宣言が必要になります)\r\n        \"defaultSuperClass\" : \"Default Super Class\", //デフォルトの親クラス\r\n        \"runtimes\" : \"Runtimes\", //実行\r\n        \"mainClass\" : \"Main Class\", //Main クラス\r\n        \"bootClass\" : \"Boot Class\", //Boot クラス\r\n        \"edit\" : \"Edit\", //編集...\r\n        \"done\" : \"Done\", //完了\r\n        \"thisFileCannotBeAdded\" : \"This File cannot be Added\", //このファイルは追加できません：\r\n        \"resourceFileExists\" : \"Resource File with the name already Exists\", //同じ名前のファイルが既に登録されています：\r\n        \"image\" : \"Image\", //画像\r\n        \"sound\" : \"Sound\", //音声\r\n        \"find\" : \"Find\", //検索\r\n        \"wordToFind\" : \"Word To Find\", //検索語\r\n        \"showAllProjects\" : \"Show All Projects\", //すべて見る...\r\n        \"thisFolderShouldBeUploadedToWebServer\" : \"This Folder Should be Uploaded To Web Server\", //このフォルダは、Webサーバにアップロードしないと正常に動作しない可能性があります。\r\n        \"seeRuntime\" : \"See https://www.tonyu.jp/tonyu2/runtime.html\", //詳しくは    https://www.tonyu.jp/tonyu2/runtime.html    を御覧ください。\r\n        \"createExecutable\" : \"Create Executable\", //ランタイム作成\r\n        \"howToOutput\" : \"How To Output\", //出力方法\r\n        \"saveExecutableAsZip\" : \"Save Executable as Zip\", //ZIP圧縮したものを保存する\r\n        \"uploadToProjectBoard\" : \"Upload To Project Board\", //プロジェクトボードにアップロードする\r\n        \"saveExecutableAtFolder\" : \"Save Executable at the following Folder:\", //次のフォルダに出力：\r\n        \"executableOptions\" : \"Executable Options\", //オプション\r\n        \"RunInIE11\" : \" Run in IE11 (Some features cannot be used)\", //Internet Explorer 11でも動作させる（一部機能が使えない可能性があります）\r\n        \"attachSourceFiles\" : \"Attach Source Files\", //ソースを添付する\r\n        \"ifSourceFilesAreAttached\" : \"If Source Files are Attached, \", //ソースを添付すると，アップロードしたファイルを\r\n        \"ItCanBeEditableInProjectBoard\" : \" It can be Editable in Project Board\", //プロジェクトボード上で直接編集できます．\r\n        \"youCanPublishThisExecutableAsWebApplicationBy\" : \"You can Publish This Executable as a Web Application by either ways:\", //次のいずれかの方法でWebアプリとして公開することができます。\r\n        \"uploadTheFolderIntoYourWebSite\" : \"Upload The Folder Into Your Web Site\", //フォルダをお手持ちのWebサーバにアップロードする\r\n        \"uploadZippedFileInto\" : \"Upload Zipped File Into \", //上のフォルダをZIPで圧縮したものを\r\n        \"projectBoard\" : \"Project Board\", //プロジェクトボード\r\n        \"afterProjectBoard\" : \".\", //にアップロードする\r\n        \"executableCreated\" : \"Executable Created\", //ランタイムを作成しました。\r\n        \"uploadTheExtractedFolderIntoYourWebSite\" : \"Upload The Extracted Folder Into Your Web Site\", //解凍したフォルダをお手持ちのWebサーバにアップロードする\r\n        \"uploadTheZipFileInto\" : \"Upload The Zip File Into\", //保存したZIPファイルを\r\n        \"uploadHasNotBeenDoneYet\" : \"Upload Has Not Been Done Yet\", //まだアップロードは完了していません\r\n        \"youHaveToDescribeAboutThisVersion\" : \"You Have To Describe About This Version\", //新規バージョンページ\r\n        \"toCompleteTheUpload\" : \"To Complete The Upload\", //に必要事項を記入して，アップロードを完了させてください\r\n        \"infiniteLoopDetected\" : \"Infinite Loop Detected. Aborted.\", //無限ループをストップしました。\r\n\r\n        \"youCanConfigureAboutInfinteLoopDetection\" : \"You can Configure About Infinte Loop Detection\", //   プロジェクト オプションで無限ループチェックの有無を設定できます。\r\n\r\n        \"seeProjectOption\" : \"See Project Option: https://edit.tonyu.jp/doc/options.html\", //   [参考]https://edit.tonyu.jp/doc/options.html\r\n\r\n        \"importingFromZip\" : \"Importing From Zip\", //Zipからインポート中です...\r\n        \"importFromZip\" : \"Import From Zip\", //Zipからインポート\r\n        \"confirm\" : \"Confirm\", //確認\r\n        \"cancel\" : \"Cancel\", //キャンセル\r\n        \"input\" : \"Input\", //入力\r\n        \"fileExists\" : \"File {1} already Exists\", //ファイル{1}は存在します\r\n        \"deleteFileConfirm\" : \"Delete File {1}?\", //{1}を削除しますか？\r\n        \"duplicatedFiles\" : \"Duplicated:{1}=>{2}({3})\", //{1} ⇒ {2}({3}) と重複\r\n        \"cannotUseFolderManagedByProject\":\"Cannot create class files in folder {1}, managed by the project.\",\r\n        \"cannotUseKernelFiles\" : \"Cannot Use name {1}, conflicting with Kernel Files\", //{1}はシステムで利用されているフォルダなので使用できません\r\n        \"upCased\" : \"The class name is automatically capitalized: {1}\", //先頭を大文字({1}) にして作成します．\r\n        \"ThisFolderWillBeCreated\": \"This folder will be created.\",\r\n        \"resouceList\" : \"{1} List\", //{1}リスト\r\n        \"dragFileHere\" : \"Drag {1} File({2}) Here\", //ここに{1}ファイル({2})をドラッグ＆ドロップして追加\r\n        \"storageUsage\" : \"Storage Usage: {2}/{1}KB\", //{1}KB中{2}KB使用中．\r\n        \"unzipping\" : \"Unzipping {1}\", //{1}を展開中...\r\n        \"doesNotContainTonyu2Project\" : \"{1} Does Not Contain Tonyu2 Project\", //{1}にはTonyu2の編集可能なプロジェクトが含まれていません.\r\n        \"checking\" : \"Checking {1}\", //{1}をチェック中...\r\n        \"downloadFromProjectBoard\" : \"Download {1} From Project Board\", //プロジェクトボードから{1}をダウンロード....\r\n        \"copying\" : \"Copying from {1} to {2}\", //{1}から{2}にコピー\r\n        \"runtimeCreatedAt\" : \"Executable Created at: \", //ランタイムを作成しました：\r\n        \"uploadFailed\" : \"Upload Failed: {1}\", //アップロード失敗: {1}\r\n        \"duplicateGlobalVariable\" : \"Duplicate Global Variable: {1}\", //変数名'{1}'が重複しています．\r\n        \"invalidGlobalVariableName\" : \"Invalid Global Variable Name: {1}\", //変数名'{1}'はグローバル変数名として使えません．\r\n        \"runClass\" : \"Run {1}\", //{1}を実行\r\n        \"pluginAddedAndRestart\" : \"Plugin {1} Added And Restart\", //必要なプラグイン{1}を追加しました。もう一度実行してください\r\n        \"otherCommandInProgress\" : \"Other {1} Command in Progress\", //他のコマンド({1})が実行されているのでお待ちください．しばらくたってもこのメッセージが出る場合，一旦Homeに戻ってください．\r\n        \"deleteProjectConfirm\" : \"Are you sure to Delete Project {1}? If so, type DELETE\", //{1}内のファイルをすべて削除しますか？削除する場合はDELETE と入力してください．\r\n        \"renamedProjectExists\" : \"Renamed Project {1} Exists\", //{1}はすでに存在します．\r\n        \"at\" : \"at:\", // 場所：\r\n        \"destinationFolder\": \"Folder(Optional)\",\r\n        \"deleteProjectFromItem\" : \"Delete Project {1}?\", //プロジェクト{1}を削除しますか？\r\n        \"Open_URL\": \"Opening New Window\",\r\n        \"UseRightClick\":\"If the link cannot works, use submenus by Right-Click or Long-Tap.\",\r\n        \"noPushedPages\": \"Invalid page class passed to loadPage()\",\r\n        \"noSuchPat\": \"No such variable: {1}\",\r\n        \"invalidPatExpr\": \"No such glyph(image) number: {1}\",\r\n    };\r\n    let localeStr=localStorage.locale || navigator.language;\r\n    localeStr=localeStr.substring(0,2);\r\n    let dict=localeStr==\"en\"? en: ja;\r\n    //const test=x=>`【${x}】`;\r\n    function R(name,...params) {\r\n        let mesg=dict[name];\r\n        if (!mesg) {\r\n            return englishify(name)+(params.length?\": \"+params.join(\",\"):\"\");\r\n        }\r\n        return (buildMesg(mesg, ...params));\r\n    }\r\n    function englishify(name) {\r\n        name=name.replace(/([A-Z])/g,\" $1\");\r\n        name=name[0].toUpperCase()+name.substring(1);\r\n        return name;\r\n    }\r\n    function buildMesg() {\r\n        var a=Array.prototype.slice.call(arguments);\r\n        var format=a.shift();\r\n        if (a.length===1 && a[0] instanceof Array) a=a[0];\r\n        var P=\"vroijvowe0r324\";\r\n        format=format.replace(/\\{([0-9])\\}/g,P+\"$1\"+P);\r\n        format=format.replace(new RegExp(P+\"([0-9])\"+P,\"g\"),function (_,n) {\r\n            return a[parseInt(n)-1]+\"\";\r\n        });\r\n        return format;\r\n    }\r\n    R.renderMenu=()=>{\r\n        $(\"[data-r]\").each(function () {\r\n            const e=$(this);\r\n            e.text(R(e.attr(\"data-r\")));\r\n        });\r\n    };\r\n    if (typeof $===\"function\") {\r\n        $(R.renderMenu);\r\n    }\r\n    R.getLocale=()=>{\r\n        if (dict===en)return \"en\";\r\n        return \"ja\";\r\n    };\r\n    R.setLocale=locale=>{\r\n        localStorage.locale=locale;\r\n        dict=localStorage.locale==\"en\"? en: ja;\r\n        R.renderMenu();\r\n    };\r\n    root.R=R;\r\n    module.exports=R;\r\n});\r\n\ndefine('UIDiag',[\"UI\",\"R\",\"root\"],function (UI,R,root) {\r\n    var UIDiag={};\r\n    function requestJQueryUI() {\r\n        let curPrj;\r\n        try {\r\n            curPrj=root.Tonyu.globals.$currentProject;\r\n        }catch(e) {\r\n        }\r\n        if (curPrj && typeof curPrj.requestPlugin===\"function\") {\r\n            curPrj.requestPlugin(\"jquery_ui\");\r\n        }\r\n    }\r\n    function isPrimitive(mesg) {\r\n        return (typeof mesg===\"string\" ||\r\n        typeof mesg===\"number\" ||\r\n        typeof mesg===\"boolean\");\r\n    }\r\n    function parseMesg(mesg,defTitle) {\r\n        if (mesg==null) mesg=\"\";\r\n        if (isPrimitive(mesg)) {\r\n            return {title:defTitle,body:multiLine(mesg)};\r\n        } else if ( (typeof $!==\"undefined\") && mesg instanceof $) {\r\n            return {\r\n                title:mesg.title||defTitle,\r\n                body:mesg\r\n            };\r\n        } else {\r\n            if (isPrimitive(mesg.body)) mesg.body=multiLine(mesg.body);\r\n            return mesg;\r\n        }\r\n    }\r\n    function multiLine(mesg) {\r\n        var lines=(mesg+\"\").split(\"\\n\");\r\n        if (lines.length==1) return lines[0];\r\n        return UI.apply(this,[\"div\"].concat(lines.map(function (e) {\r\n            return [\"div\",e];\r\n        })));\r\n    }\r\n    UIDiag.confirm=function (mesg) {\r\n        if (UIDiag.useNative) {\r\n            const res=window.confirm(...arguments);\r\n            UIDiag.afterModal();\r\n            return res;\r\n        }\r\n        requestJQueryUI();\r\n        mesg=parseMesg(mesg,R(\"confirm\"));\r\n        var di=UI(\"div\",{title:mesg.title},[\"div\",mesg.body],\r\n                [\"button\",{on:{click:sendF(true)}},\"OK\"],\r\n                [\"button\",{on:{click:sendF(false)}},R(\"cancel\")]).dialog({width:\"auto\",close:sendF(false)});\r\n        var d=$.Deferred();\r\n        function sendF(r) {\r\n            return function () { d.resolve(r); di.dialog(\"close\"); di.remove(); };\r\n        }\r\n        return d.promise();\r\n    };\r\n    UIDiag.alert=function (mesg) {\r\n        if (UIDiag.useNative) {\r\n            const res=window.alert(...arguments);\r\n            if (root.Tonyu) root.Tonyu.resetLoopCheck();\r\n            return res;\r\n        }\r\n        requestJQueryUI();\r\n        mesg=parseMesg(mesg,R(\"confirm\"));\r\n        var di=UI(\"div\",{title:mesg.title},[\"div\",mesg.body],\r\n                [\"button\",{on:{click:sendF(true)}},\"OK\"]).dialog({width:\"auto\",close:sendF(false)});\r\n        var d=$.Deferred();\r\n        function sendF(r) {\r\n            return function () { d.resolve(r); di.dialog(\"close\"); di.remove(); };\r\n        }\r\n        return d.promise();\r\n    };\r\n    // Compat with $InputBox\r\n    UIDiag.open=function(title,prompt,_default, left, top, width, height) {\r\n        return UIDiag.prompt({title:title,body:prompt},_default,{\r\n            left:left, top:top, width:width, height:height\r\n        });\r\n    };\r\n    UIDiag.getStatus=function () {return UIDiag.status;};\r\n    UIDiag.getText=function () {return UIDiag.val? UIDiag.val.val():\"\";};\r\n    UIDiag.afterModal=function() {\r\n        try {\r\n            root.Tonyu.resetLoopCheck();\r\n        }catch(e){}\r\n        try {\r\n            root.Tonyu.globals.$Scheduler.resetLastSteps();\r\n        }catch(e){}\r\n        try {\r\n            root.Tonyu.globals.$InputDevice.reset();\r\n        }catch(e){}\r\n    };\r\n    //---\r\n    UIDiag.prompt=function (mesg,value,geom) {\r\n        if (UIDiag.useNative) {\r\n            const res=window.prompt(...arguments);\r\n            UIDiag.afterModal();\r\n            return res;\r\n        }\r\n        requestJQueryUI();\r\n        mesg=parseMesg(mesg,R(\"input\"));\r\n        geom=geom||{};\r\n        let position;\r\n        if (typeof geom.left===\"number\" && typeof geom.top===\"number\") {\r\n            position={my:\"left top\",at:\"left+\"+geom.left+\" top+\"+geom.top, of:\"body\"};\r\n        } else {\r\n            position={of:\"body\",at:\"center\",my:\"center\"};\r\n        }\r\n        var di=UI(\"div\",{title:mesg.title},[\"div\",mesg.body],\r\n                [\"input\",{on:{enterkey:ok},$var:\"val\", value:value}],[\"br\"],\r\n                [\"button\",{on:{click:ok}},\"OK\"],\r\n                [\"button\",{on:{click:cancel}},R(\"cancel\")]).dialog({\r\n                    width:geom.width||\"auto\",\r\n                    height:geom.height||\"auto\",\r\n                    position:position,\r\n                    close:function (){\r\n                        di.dialog(\"close\");\r\n                        d.resolve();\r\n                    }\r\n                });\r\n        setTimeout(function () {\r\n            di.$vars.val.focus();\r\n            //console.log(\"FOcus\");\r\n        },10);\r\n        UIDiag.status=0;\r\n        UIDiag.val=di.$vars.val;\r\n        var d=$.Deferred();\r\n        function ok() {\r\n            UIDiag.status=1;\r\n            var r=di.$vars.val.val();\r\n            UIDiag.resultValue=r;\r\n            d.resolve(r);\r\n            di.dialog(\"close\");\r\n            di.remove();\r\n        }\r\n        function cancel() {\r\n            UIDiag.status=2;\r\n            di.dialog(\"close\");\r\n            di.remove();\r\n            d.resolve();\r\n        }\r\n        return d.promise();\r\n\r\n    };\r\n    if (typeof window!=\"undefined\") window.UIDiag=UIDiag;\r\n    return UIDiag;\r\n});\r\n\n/*global requirejs*/\r\ndefine('runtime',[\"ImageList\",\"T2MediaLib\",\"UIDiag\"],\r\nfunction (ImageList,T2MediaLib,UIDiag) {\r\n    console.log(\"runtimes loaded\",arguments);\r\n    if (!window.T2MediaLib) window.T2MediaLib=T2MediaLib;\r\n    return {ImageList,T2MediaLib,UIDiag};\r\n});\r\n\ndefine('ProjectFactory',['require','exports','module','BuilderClient4Sys'],function (require,exports,module) {\r\n    //--- stub\r\n    const BuilderClient=require(\"BuilderClient4Sys\");\r\n    module.exports=BuilderClient.ProjectFactory;\r\n});\r\n\ndefine('CompiledProject',['require','exports','module','BuilderClient4Sys'],function (require,exports,module) {\r\n    //--- stub\r\n    const BuilderClient=require(\"BuilderClient4Sys\");\r\n    module.exports=BuilderClient.CompiledProject;\r\n});\r\n\ndefine('ImageRect',[],function () {\r\n    function draw(img, canvas) {\r\n        if (typeof img==\"string\") {\r\n            var i=new Image();\r\n            var res=null;\r\n            var callback=null;\r\n            var onld=function (clb) {\r\n                if (clb) callback=clb;\r\n                if (callback && res) {\r\n                    callback(res);\r\n                }\r\n            };\r\n            i.onload=function () {\r\n                res=draw(i,canvas);\r\n                onld();\r\n            };\r\n            i.src=img;\r\n            return onld;\r\n        }\r\n        var cw=canvas.width;\r\n        var ch=canvas.height;\r\n        var cctx=canvas.getContext(\"2d\");\r\n        var width=img.width;\r\n        var height=img.height;\r\n        var calcw=ch/height*width; // calch=ch\r\n        var calch=cw/width*height; // calcw=cw\r\n        if (calch>ch) calch=ch;\r\n        if (calcw>cw) calcw=cw;\r\n        cctx.clearRect(0,0,cw,ch);\r\n        var marginw=Math.floor((cw-calcw)/2);\r\n        var marginh=Math.floor((ch-calch)/2);\r\n        cctx.drawImage(img,\r\n                0,0,width, height,\r\n                marginw,marginh,calcw, calch );\r\n        return {left: marginw, top:marginh, width:calcw, height:calch,src:img};\r\n    }\r\n    return draw;\r\n});\ndefine('thumbnail',[\"ImageRect\",\"root\",\"WebSite\"],function (IR,root,WebSite) {\r\n    var TN={};\r\n    //var createThumbnail;\r\n    var NAME=\"$icon_thumbnail\";\r\n    var WIDTH=200,HEIGHT=200;\r\n    TN.set=function (prj,delay) {\r\n        if (WebSite.surpressCreateThumbnail) return;\r\n        setTimeout(function () { crt(prj);} ,delay);\r\n    };\r\n    TN.get=function (prj) {\r\n        var f=TN.file(prj);\r\n        if (!f.exists()) return null;\r\n        return f.text();\r\n    };\r\n    TN.file=function (prj) {\r\n        var prjdir=prj.getDir();\r\n        var imfile= prjdir.rel(\"images/\").rel(\"icon_thumbnail.png\");\r\n        //console.log(\"Thumb file=\",imfile.path(),imfile.exists());\r\n        return imfile;\r\n    };\r\n    function crt(prj) {\r\n        try {\r\n            var img=root.Tonyu.globals.$Screen.buf[0];\r\n            var cv=$(\"<canvas>\").attr({width:WIDTH,height:HEIGHT});\r\n            IR(img, cv[0]);\r\n            var url=cv[0].toDataURL();\r\n            var rsrc=prj.getResource();\r\n            var prjdir=prj.getDir();\r\n            var imfile=TN.file(prj);\r\n            imfile.text( url );\r\n            var item={\r\n                name:NAME,\r\n                pwidth:WIDTH,pheight:HEIGHT,\r\n                url:\"ls:\"+imfile.relPath(prjdir)\r\n            };\r\n            var imgs=rsrc.images;\r\n            var add=false;\r\n            for (var i=0 ; i<imgs.length ; i++) {\r\n                if (imgs[i].name==NAME) {\r\n                    imgs[i]=item;\r\n                    add=true;\r\n                }\r\n            }\r\n            if (!add) imgs.push(item);\r\n\r\n            prj.setResource(rsrc);\r\n            console.log(\"setRSRC\",rsrc);\r\n        } catch (e) {\r\n            console.log(\"Create thumbnail failed\",e);\r\n            console.log(e.stack);\r\n        }\r\n    }\r\n    return TN;\r\n});\r\n\ndefine('plugins',[\"WebSite\",\"root\"],function (WebSite,root){\r\n    var plugins={};\r\n    var installed= {\r\n        box2d:{src: \"Box2dWeb-2.1.a.3.min.js\",detection:/BodyActor/,symbol:\"Box2D\" },\r\n        timbre: {src:\"timbre.js\",symbol:\"T\" },\r\n        gif: {src:\"gif-concat.js\",detection:/GIFWriter/,symbol:\"GIF\"},\r\n        Mezonet: {src:\"Mezonet.js\", symbol: \"Mezonet\"},\r\n        PicoAudio: {src:\"PicoAudio.min.js\", symbol:\"PicoAudio\"},\r\n        JSZip: {src:\"jszip.min.js\", symbol:\"JSZip\"},\r\n        // single js is required for runScript1.js\r\n        jquery_ui: {src:\"jquery-ui.js\", detection:/\\$InputBox/,symbol:\"$.ui\"}\r\n    };\r\n    plugins.installed=installed;\r\n    plugins.detectNeeded=function (src,res) {\r\n        for (var name in installed) {\r\n            var d=installed[name].detection;\r\n            if (d) {\r\n                var r=d.exec(src);\r\n                if (r) res[name]=1;\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n    plugins.loaded=function (name) {\r\n        var i=installed[name];\r\n        if (!i) throw new Error(\"plugin not found: \"+name);\r\n        return hasInGlobal(i.symbol);\r\n    };\r\n    function hasInGlobal(name) {\r\n        // name: dot ok\r\n        var g=window;\r\n        name.split(\".\").forEach(function (e) {\r\n            if (!g) return;\r\n            g=g[e];\r\n        });\r\n        return g;\r\n    }\r\n    plugins.loadAll=function (names,options) {\r\n        options=convOpt(options);\r\n        var namea=[];\r\n        for (var name in names) {\r\n            if (installed[name] && !plugins.loaded(name)) {\r\n                namea.push(name);\r\n            }\r\n        }\r\n        var i=0;\r\n        console.log(\"loading plugins\",namea);\r\n        setTimeout(loadNext,0);\r\n        function loadNext() {\r\n            if (i>=namea.length) options.onload();\r\n            else plugins.load(namea[i++],loadNext);\r\n        }\r\n    };\r\n    function convOpt(options) {\r\n        if (typeof options==\"function\") options={onload:options};\r\n        if (!options) options={};\r\n        if (!options.onload) options.onload=function (){};\r\n        return options;\r\n    }\r\n    plugins.load=function (name,options) {\r\n        var i=installed[name];\r\n        if (!i) throw new Error(\"plugin not found: \"+name);\r\n        options=convOpt(options);\r\n        var src=WebSite.pluginTop+\"/\"+i.src;\r\n        var reqj=root.requirejs;\r\n        /*if (typeof requireSimulator===\"undefined\") {\r\n            if (typeof requirejs===\"function\") reqj=requirejs;\r\n        } else {\r\n            if (requireSimulator.real) reqj=requireSimulator.real.requirejs;\r\n        }*/\r\n        if (reqj) {\r\n            if (!src.match(/^https?:/)) src=src.replace(/\\.js$/,\"\");\r\n            console.log(\"Loading plugin via requirejs\",src);\r\n            reqj([src], function (res) {\r\n                if (!window[i.symbol] && res) window[i.symbol]=res;\r\n                options.onload(res);\r\n            });\r\n        } else {\r\n            console.log(\"Loading plugin via <script>\",src);\r\n            var s=document.createElement(\"script\");\r\n            s.src=src;\r\n            s.onload=options.onload;\r\n            document.body.appendChild(s);\r\n            //$(\"<script>\").on(\"load\",options.onload).attr(\"src\",src).appendTo(\"body\");\r\n        }\r\n        //setTimeout(options.onload,500);\r\n\r\n    };\r\n    plugins.request=function (name) {\r\n        if (plugins.loaded(name)) return;\r\n        var req=new Error(\"Plugin \"+name+\" required\");\r\n        req.pluginName=name;\r\n    };\r\n    return plugins;\r\n});\r\n\ndefine('DeferredUtil',[\"FS\"],function (FS){return FS.DeferredUtil;});\r\n\ndefine('sysMod',[\"Tonyu\", \"FS\", \"ImageList\",\r\n        \"thumbnail\",\"WebSite\",\"plugins\",\r\n        \"DeferredUtil\",\"R\"],\r\n        function (Tonyu, FS, ImageList,\r\n                thumbnail,WebSite,plugins,\r\n                DU,R) {\r\n// (was TonyuProject)\r\nreturn {\r\n    /*stop:function () {\r\n        var cur=this.runningThread; // Tonyu.getGlobal(\"$currentThreadGroup\");\r\n        if (cur) cur.kill();\r\n        var main=this.runningObj;\r\n        if (main && main.stop) return main.stop();\r\n    },*/\r\n    rawRun:function (bootClassName) {\r\n        if (WebSite.removeJSOutput) {\r\n            var o=this.getOutputFile();\r\n            if (o.exists()) o.rm();\r\n        }\r\n        return this.loadClasses().then(()=>{\r\n            //TPR.compile();\r\n            this.detectPlugins();\r\n            this.fixBootRunClasses();\r\n            if (!this.runScriptMode) thumbnail.set(this, 2000);\r\n            this.rawBoot(bootClassName);\r\n        });\r\n    },\r\n    getResourceFile: function () {\r\n        return this.getDir().rel(\"res.json\");\r\n    },\r\n    getResource: function () {\r\n        var resFile=this.getResourceFile();\r\n        if (resFile.exists()) {\r\n            var res=resFile.obj();\r\n            var chg=false;\r\n            for (var imgSnd in res) {\r\n                var ary=res[imgSnd];\r\n                for (var i=ary.length-1; i>=0 ;i--) {\r\n                    if (!ary[i].url) {\r\n                        ary.splice(i,1);\r\n                        chg=true;\r\n                    }\r\n                }\r\n            }\r\n            if (chg) this.setResource(res);\r\n            return res;\r\n        }\r\n        return WebSite.defaultResource;\r\n    },\r\n    removeThumbnail: function () {\r\n        try {\r\n            const prj=this;\r\n            const dir=prj.getDir && prj.getDir();\r\n            const resc=prj.getResource();\r\n            if (resc.images) {\r\n                const cnt=resc.images.length;\r\n                resc.images=resc.images.filter(item=>{\r\n                    if (item.name!==\"$icon_thumbnail\") return true;\r\n                    if (item.url && item.url.match(/^ls:/)) {\r\n                        const tfile=dir.rel(item.url.substring(3));\r\n                        if (tfile.exists()) tfile.rm();\r\n                    }\r\n                    return false;\r\n                });\r\n                if (resc.images.length<cnt) prj.setResource(resc);\r\n            }\r\n        }catch(e) {\r\n            console.log(e);\r\n        }\r\n    },\r\n    hasSoundResource: function () {\r\n        var res=this.getResource();\r\n        return res && res.sounds && res.sounds.length>0;\r\n    },\r\n    setResource: function (rsrc) {\r\n        var resFile=this.getResourceFile();\r\n        resFile.obj(rsrc);\r\n    },\r\n    getThumbnail: function () {\r\n        return thumbnail.get(this);\r\n    },\r\n    convertBlobInfos: function (user) {\r\n        var rsrc=this.getResource();\r\n        var name=this.getName();\r\n        function loop(o) {\r\n            if (typeof o!=\"object\") return;\r\n            for (var k in o) {\r\n                if (!o.hasOwnProperty(k)) continue;\r\n                var v=o[k];\r\n                if (k==\"url\") {\r\n                    var a=Blob.isBlobURL(v);\r\n                    if (a) {\r\n                        o[k]=[Blob.BLOB_PATH_EXPR,user,name,a.fileName].join(\"/\");\r\n                    }\r\n                }\r\n                loop(v);\r\n            }\r\n        }\r\n        loop(rsrc);\r\n        this.setResource(rsrc);\r\n    },\r\n    getBlobInfos: function () {\r\n        var rsrc=this.getResource();\r\n        var res=[];\r\n        function loop(o) {\r\n            if (typeof o!=\"object\") return;\r\n            for (var k in o) {\r\n                if (!o.hasOwnProperty(k)) continue;\r\n                var v=o[k];\r\n                if (k==\"url\") {\r\n                    var a=Blob.isBlobURL(v);\r\n                    if (a) {\r\n                        res.push(a);\r\n                    }\r\n                }\r\n                loop(v);\r\n            }\r\n        }\r\n        loop(rsrc);\r\n        return res;\r\n    },\r\n    loadResource: function (next) {\r\n        var r=this.getResource();\r\n        ImageList( r.images, function (r) {\r\n            var sp=Tonyu.getGlobal(\"$Sprites\");\r\n            if (sp) {\r\n                //console.log(\"$Sprites set!\");\r\n                sp.setImageList(r);\r\n            }\r\n            //Sprites.setImageList(r);\r\n            for (var i in r.names) {\r\n                Tonyu.setGlobal(i, r.names[i]);\r\n            }\r\n            if (next) next();\r\n        });\r\n    },\r\n    detectPlugins: function () {\r\n        var opt=this.getOptions();\r\n        var plugins=opt.plugins=opt.plugins||{};\r\n        if (!plugins.Mezonet || !plugins.PicoAudio) {\r\n            var res=this.getResource();\r\n            var hasMZO=false,hasMIDI=false;\r\n            if (res.sounds) res.sounds.forEach(function (item) {\r\n                if (item.url.match(/\\.mzo/)) hasMZO=true;\r\n                if (item.url.match(/\\.midi?/)) hasMIDI=true;\r\n            });\r\n            if (hasMZO) this.addPlugin(\"Mezonet\");\r\n            else this.removePlugin(\"Mezonet\");\r\n            if (hasMIDI) this.addPlugin(\"PicoAudio\");\r\n            else this.removePlugin(\"PicoAudio\");\r\n        }\r\n    },\r\n    addPlugin: function (name) {\r\n        var opt=this.getOptions();\r\n        opt.plugins=opt.plugins||{};\r\n        if (!opt.plugins[name]) {\r\n            opt.plugins[name]=1;\r\n            this.setOptions(opt);\r\n        }\r\n    },\r\n    removePlugin: function (name) {\r\n        var opt=this.getOptions();\r\n        if (opt.plugins[name]) {\r\n            delete opt.plugins[name];\r\n            this.setOptions(opt);\r\n        }\r\n    },\r\n    requestPlugin: function (name) {\r\n        this.addPlugin(name);\r\n        if (plugins.loaded(name)) return;\r\n        var req=new Error(R(\"pluginAddedAndRestart\",name));\r\n        req.pluginName=name;\r\n        throw req;\r\n    },\r\n    loadPlugins: function (onload) {\r\n        var opt=this.getOptions();\r\n        return plugins.loadAll(opt.plugins,onload);\r\n    },\r\n    fixBootRunClasses: function () {\r\n        var opt=this.getOptions();\r\n        if (opt.run) {\r\n            var mc=this.fixClassName(opt.run.mainClass);\r\n            var bc=this.fixClassName(opt.run.bootClass);\r\n            if (mc!=opt.run.mainClass  ||  bc!=opt.run.bootClass) {\r\n                opt.run.mainClass=mc;\r\n                opt.run.bootClass=bc;\r\n                this.setOptions(opt);\r\n            }\r\n        }\r\n    },\r\n    fixClassName: function (className) {\r\n        if (Tonyu.classMetas[className]) return className;\r\n        const ns=this.getNamespace();\r\n        console.log(\"NS\", ns);\r\n        let res=Tonyu.classes[ns][className];\r\n        if (res) return `${ns}.${className}`;\r\n        for (var k in Tonyu.classes) {\r\n            res=Tonyu.classes[k][className];\r\n            if (res) return `${k}.${className}`;\r\n        }\r\n        throw new Error(`Cannot fix className ${className}`);\r\n    },\r\n    rawBoot: function (bootClassName) {\r\n        this.showProgress(\"Running \"+bootClassName);\r\n        this.initCanvas();\r\n        Tonyu.run(bootClassName);\r\n    },\r\n    initCanvas: function () {\r\n        Tonyu.globals.$mainCanvas=$(\"canvas\");\r\n    },\r\n    /*isKernelEditable: function () {\r\n    \treturn env.options.kernelEditable;\r\n    },*/\r\n    //TPR.getDir=function () {return dir;};\r\n    //TPR.getName=function () { return dir.name().replace(/\\/$/,\"\"); };\r\n\r\n    showProgress: function (m) {\r\n        console.log(\"PROGRESS\",m);\r\n        /*global SplashScreen*/\r\n        if (typeof SplashScreen!=\"undefined\") {\r\n            SplashScreen.progress(m);\r\n        }\r\n        return DU.promise(function (succ) {\r\n            setTimeout(succ,0);\r\n        });\r\n    },\r\n    nonSourceDirs() {\r\n        return {images:1, sounds:1, js:1, files:1, static:1 ,maps:1};\r\n    },\r\n    sourceFiles() {\r\n        const res={};\r\n        const ext=this.getEXT();\r\n        const ns=this.nonSourceDirs();\r\n        for (let d of this.dir.listFiles()) {\r\n            if (d.isDir()) {\r\n                if (!ns[d.name().replace(/[\\/\\\\]$/,\"\")]) {\r\n                    d.recursive(collect);\r\n                }\r\n            } else {\r\n                collect(d);\r\n            }\r\n        }\r\n    \tfunction collect(f) {\r\n    \t\tif (f.endsWith(ext)) {\r\n    \t\t\tvar nb=f.truncExt(ext);\r\n    \t\t\tres[nb]=f;\r\n    \t\t}\r\n    \t}\r\n    \treturn res;\r\n    }\r\n};\r\n});\r\n\ndefine('KeyEventChecker',[],function () {\r\n\tvar KEC={};\r\n\tKEC.down=function (elem, name, handler) {\r\n\t\tif (!(elem instanceof $)) elem=$(elem);\r\n\t\telem.bind(\"keydown\", function (e) {\r\n\t\t\tif (KEC.is(e, name)) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn handler.call(elem[0],e);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tKEC.is=function (e,name) {\r\n\t\tname=name.toLowerCase();\r\n\t\te = e.originalEvent || e;\r\n\t\tvar s=\"\";\r\n\t\tif (e.altKey) {\r\n\t\t\ts+=\"alt+\";\r\n\t\t}\r\n\t\tif (e.ctrlKey) {\r\n\t\t\ts+=\"ctrl+\";\r\n\t\t}\r\n\t\tif (e.shiftKey) {\r\n\t\t\ts+=\"shift+\";\r\n\t\t}\r\n\t\tif (e.keyCode>=112 && e.keyCode<=123) {\r\n\t\t\ts+=\"f\"+(e.keyCode-111);\r\n\t\t} else {\r\n\t\t\ts+=String.fromCharCode(e.keyCode);\r\n\t\t}\r\n\t\ts=s.toLowerCase();\r\n\t\t//console.log(s);\r\n\t\treturn name==s;\r\n\t};\r\n\treturn KEC;\r\n});\r\n\ndefine('runScript_common',[\"root\",\"WebSite\"], function (root,WebSite) {\r\n    root.SplashScreen={\r\n        hide: function () {$(\"#splash\").hide();},\r\n        show:function(){},\r\n        progress:function(t) {$(\"#splash .progress\").text(t);}\r\n    };\r\n    return {\r\n        initCanvas: function (doResize) {\r\n            function getMargin() {\r\n                return 0;\r\n            }\r\n\r\n            var margin = getMargin();\r\n            var w=$(window).width();\r\n            var h=$(window).height();\r\n            $(\"body\").css({overflow:\"hidden\", margin:\"0px\"});\r\n            var cv=$(\"<canvas>\").attr({width: w-margin, height:h-margin, class:\"tonyu-canvas\"}).appendTo(\"body\");\r\n\r\n            var u = navigator.userAgent.toLowerCase();\r\n            if (doResize==null) {\r\n                doResize=(u.indexOf(\"iphone\") == -1 &&\r\n                    u.indexOf(\"ipad\") == -1 &&\r\n                    u.indexOf(\"ipod\") == -1\r\n                ) && (!window.parent || window === window.parent);\r\n                if (WebSite.doResize!=null) doResize=WebSite.doResize;\r\n            }\r\n            if (doResize) {\r\n                $(window).resize(onResize);\r\n            }\r\n            function onResize() {\r\n                var margin = getMargin();\r\n                w=$(window).width();\r\n                h=$(window).height();\r\n                cv.attr({width: w-margin, height: h-margin});\r\n            }\r\n            return cv;\r\n        }\r\n    };\r\n});\r\n\ndefine('jshint',[],function () {\r\n    var colon=\":\";\r\n    return {\r\n        Function: Function,\r\n        use: function () {},\r\n        scriptURL: function (url) {\r\n            return \"javascript\"+colon+url;\r\n        }\r\n    };\r\n});\r\n\n/*global define*/\r\ndefine('profiler2',['require','exports','module'],function (require, exports,module) {\r\nmodule.exports={\r\n\tidSeq: 1,\r\n\tMEASURED: Symbol(\"MEASURED\"),\r\n\tmeasure(f,name) {\r\n\t\tif (f[this.MEASURED]) return f;\r\n\t\tconst id=this.idSeq++;\r\n\t\tconst r=function (...a) {\r\n\t\t\tconst sid=id+\":start\", eid=id+\":end\";\r\n\t\t\tperformance.mark(sid);\r\n\t\t\tconst r=f.apply(this, a);\r\n\t\t\tperformance.mark(eid);\r\n\t\t\tperformance.measure(name, sid, eid);\r\n\t\t\treturn r;\r\n\t\t};\r\n\t\tr[this.MEASURED]=true;\r\n\t\treturn r;\r\n\t},\r\n\tprofileTonyuClass(prot) {\r\n\t\tconst s=prot;\r\n\t\twhile(prot && prot.isTonyuObject) {\r\n\t\t\tconst meta=prot.getClassInfo();\r\n\t\t\tconst fn=meta.fullName||meta.extenderFullName;\r\n\t\t\tconst methods=meta.decls?meta.decls.methods: window.Tonyu.classMetas[fn].decls.methods;\r\n\t\t\tfor (let n in methods) {\r\n\t\t\t\tif (typeof prot[n]===\"function\") {\r\n\t\t\t\t\t//console.log(fn+\".\"+n);\r\n\t\t\t\t\tprot[n]=this.measure(prot[n],fn+\".\"+n);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tprot=Object.getPrototypeOf(prot);\r\n\t\t}\r\n\t\treturn s;\r\n\t},\r\n\tprofile(o, name) {\r\n\t\tif (arguments.length===0) {\r\n\t\t\treturn this.profile(Tonyu.classes);\r\n\t\t}\r\n\t\tif (o && typeof o===\"object\") {\r\n\t\t\tconst hash=o;\r\n\t\t\tif (!name) name=\"\";\r\n\t\t\tfor (const k in hash) {\r\n\t\t\t\tif (!hash.hasOwnProperty(k)) continue;\r\n\t\t\t\thash[k]=this.profile(hash[k],name+\".\"+k);\r\n\t\t\t}\r\n\t\t\treturn hash;\r\n\t\t} else if (typeof o==\"function\") {\r\n\t\t\tconst f=o;\r\n\t\t\tif (f.prototype && f.prototype.isTonyuObject) {\r\n\t\t\t\tthis.profileTonyuClass(f.prototype);\r\n\t\t\t\treturn o;\r\n\t\t\t}\r\n\t\t\tif (!name) name=f.name;\r\n\t\t\treturn this.measure(f,name);\r\n\t\t}\r\n\t\treturn o;\r\n\t},\r\n\treport(sortKey) {// sum, avg, count\r\n\t\tconst r=performance.getEntriesByType(\"measure\");\r\n\t\tconst ag={};\r\n\t\tfor (let e of r) {\r\n\t\t\tag[e.name]=ag[e.name]||{count:0, durationSum:0,name:e.name};\r\n\t\t\tag[e.name].durationSum+=e.duration;\r\n\t\t\tag[e.name].count++;\r\n\t\t}\r\n\t\tfor (let n in ag) {\r\n\t\t\tag[n].durationAvg=ag[n].durationSum/ag[n].count;\r\n\t\t}\r\n\t\t//console.log(r);\r\n\t\tconst k={s:\"durationSum\", a:\"durationAvg\", c:\"count\"}[sortKey] ||\"durationSum\";\r\n\t\tlet list=[];\r\n\t\tfor (let n in ag) {\r\n\t\t\tlist.push(ag[n]);\r\n\t\t}\r\n\t\tlist=list.sort((a,b)=>b[k]-a[k]);\r\n\t\treturn list;\r\n\t}\r\n};\r\nwindow.Profiler=module.exports;\r\n});\r\n\ndefine('SysDebugger',['require','Debugger','runtime','Tonyu','root','FS','ProjectFactory','CompiledProject','WebSite','sysMod','KeyEventChecker','runScript_common','thumbnail','jshint','profiler2'],function (require/*,exports,module*/) {\r\n    const Debugger=require(\"Debugger\");\r\n    const runtime=require(\"runtime\");\r\n    const Tonyu=require(\"Tonyu\");\r\n    const root=require(\"root\");\r\n    const FS=require(\"FS\");\r\n    const F=require(\"ProjectFactory\");\r\n    const CompiledProject=require(\"CompiledProject\");\r\n    const WebSite=require(\"WebSite\");\r\n    const sysMod=require(\"sysMod\");\r\n    const KeyEventChecker=require(\"KeyEventChecker\");\r\n    const runScript_common=require(\"runScript_common\");\r\n    const thumbnail=require(\"thumbnail\");\r\n    const jshint=require(\"jshint\");\r\n    const Profiler=require(\"profiler2\");\r\n    const ns2depspec=WebSite.ns2depspec;\r\n    Debugger.Profiler=Profiler;\r\n    jshint.use(runtime);// UIDiag etc... needed\r\n    F.addDependencyResolver((prj,spec)=>{\r\n        const s=ns2depspec.filter(s=>s.namespace===spec.namespace)[0];\r\n        if (s) {\r\n            return F.create(\"compiled\", s);\r\n        }\r\n        /*if (spec.namespace===\"kernel\") {\r\n            return F.create(\"compiled\",{namespace:\"kernel\",url:WebSite.compiledKernel});\r\n        }*/\r\n    });\r\n    /*Debugger.on(\"runtimeError\",evt=>{\r\n        console.log(evt.stack.map(s=>s+\"\").join(\"\\n\"));\r\n    });*/\r\n\r\n    const cv=runScript_common.initCanvas();\r\n    Tonyu.globals.$mainCanvas=cv;\r\n    Tonyu.runMode=true;\r\n    Tonyu.animationFrame=()=>new Promise(requestAnimationFrame);\r\n    start();\r\n    async function start() {\r\n        const prjDir=FS.get(getQueryString(\"prj\")||root.Tonyu_StartProject);\r\n        const prj=CompiledProject.create({dir:prjDir});\r\n        prj.include(sysMod);\r\n        await Debugger.init(prj);// sets $currentProject=prj\r\n        try {\r\n            prj.compiler=root.parent.Tonyu.globals.$currentProject;\r\n        } catch(e){console.log(e);}\r\n        window.onerror=function (a,b,c,d,e) {\r\n            //console.log(...arguments);\r\n            if (e && e.stack) Tonyu.onRuntimeError(e);\r\n        };\r\n        const opt=prj.getOptions();\r\n        console.log(\"opt\",opt);\r\n        //await prj.loadClasses();\r\n        const boot=opt.run.bootClass|| getQueryString(\"boot\");\r\n        console.log(\"boot\",boot);\r\n        if (boot) {\r\n            Tonyu.runningObj=Debugger.create(boot);\r\n            Debugger.stop=()=>Tonyu.runningObj.stop();\r\n            KeyEventChecker.down(document,\"F2\",()=>Debugger.requestStop() );\r\n            thumbnail.set(prj, 2000);\r\n        }\r\n    }\r\n    function getQueryString(key, default_)\r\n    {\r\n       if (default_==null) default_=\"\";\r\n       key = key.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\r\n       var regex = new RegExp(\"[\\\\?&]\"+key+\"=([^&#]*)\");\r\n       var qs = regex.exec(window.location.href);\r\n       if(qs == null)\r\n        return default_;\r\n       else\r\n        return decodeURLComponentEx(qs[1]);\r\n    }\r\n    function decodeURLComponentEx(s){\r\n        return decodeURIComponent(s.replace(/\\+/g, '%20'));\r\n    }\r\n\r\n});\r\n\n    requirejs([\"SysDebugger\"],()=>{});\r\n})();\r\n"]}